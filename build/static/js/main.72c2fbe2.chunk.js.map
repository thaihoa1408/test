{"version":3,"sources":["assets/styles/PayCheck.module.css","assets/styles/Navbar.module.css","assets/styles/MenuCardList.module.css","assets/logo/tp-logo.svg","layout/CustomerLayout.js","components/RestaurantLogo.js","components/QrScanner.js","CustomerContext.js","api/index.js","pages/Home.js","assets/images/logo.png","assets/images/cover-photo.png","pages/SignIn.js","pages/SignUp.js","assets/icons/table.svg","components/NavbarCust.js","components/Search.js","components/MenuCategory.js","components/Helper.js","assets/images/menu-img-placeholder.png","components/MenuCard.js","components/MenuCardList.js","components/CustomerFooter.js","components/MenuFooterCart.js","components/MenuBrand.js","components/NoData.js","components/BrandList.js","assets/icons/minus-square-o.svg","components/ItemDetailModifier.js","components/ItemDetailVariant.js","assets/icons/plus-square-o.svg","assets/icons/notes.svg","components/ItemDetailFooter.js","components/ItemDrawer.js","pages/Menu.js","pages/ItemDetail.js","components/CheckoutSummaryOrderList.js","components/CheckoutSummaryFooter.js","pages/CheckoutSummary.js","components/PayCheckFooter.js","pages/PayCheck.js","components/OrderStatus.js","pages/PayCheckInvoice.js","pages/404.js","components/BrandDiscountedMenu.js","pages/Brands.js","pages/ConfirmOrder.js","assets/images/TigerPuffLogo.png","pages/OpenCheck.js","pages/GlobalSearch.js","App.js","reportWebVitals.js","index.js","assets/styles/MenuBrand.module.css","assets/styles/OrderStatus.module.css","assets/styles/ItemDetail.module.css","assets/styles/MenuCategory.module.css"],"names":["module","exports","_style","_path","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_defs","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgTpLogo","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","type","className","d","xlinkHref","overflow","ForwardRef","CustomerLayout","coverPhoto","backgroundImage","zIndex","filter","backgroundSize","backgroundPosition","backgroundRepeat","bgGradient","height","minHeight","children","marginTop","RestaurantLogo","orientation","Image","src","logo","fluid","rounded","color","name","QRScanner","onScan","data","scanResult","onError","error","console","log","facingMode","Button","variant","onClick","closeScanner","CustContext","createContext","defaultState","tableInfo","location","order","payment_type","customer","items","CustProvider","API","axios","create","baseURL","process","useState","JSON","parse","localStorage","getItem","setTableInfo","user","setUser","setError","setOrder","menu","brands","setBrands","selectedBrand","setSelectedBrand","scrollY","setScrollY","itemId","setItemId","taxes","setTaxes","getTableInfo","table_id","a","get","res","success","setItem","stringify","resetSavedState","error_code","message","removeItem","createOrder","formData","put","handleSelectBrand","value","getBrands","select","stores","undefined","selected_brand","obj","find","item","store","getTableNumber","getTaxes","service_charge","parseFloat","Math","round","government_tax","government","temp_taxes","push","label","calculate","amt","useEffect","Provider","useCustContext","useContext","getItemDetails","item_id","addToCart","patch","getOrderInfo","deleteOrderItem","delete","updateOrderItem","Home","useParams","history","useHistory","setName","scan","setScan","handleSubmit","useRef","e","preventDefault","guess_name","background_photo","public_url","Container","Row","Col","md","xs","sm","lg","window","href","Alert","Form","onSubmit","FloatingLabel","Control","size","required","placeholder","onChange","SignIn","setEmail","setPassword","viewPassword","setViewPassword","Logo","cover_photo","CoverPhoto","top","right","p","Group","to","textDecoration","SignUp","setConfirmPassword","NavbarCust","Navbar","expand","cx","page","backgroundColor","goBack","strokeWidth","Search","searchFunction","globalSearch","focusOnInit","searchKey","setSearchKey","show","setShow","document","getElementById","focus","cursor","left","padding","onFocus","MenuCategory","categories","render","setRender","setTimeout","scrollTargetIds","map","activeNavClass","styles","menucategory_link__active","scrollDuration","Nav","Item","Link","menucategory_link","truncateText","text","index","substring","formatCurrency","currency","formatter","Intl","NumberFormat","isNaN","format","renderTax","total","ind","renderFromText","variants","modifiers","finalDiscountedPrice","original","discount","MenuCard","selected","addFromText","quantity","setQuantity","num","forEach","Card","card_menu","bg_unavailable","available","card_menu__selected","Body","text_unavailable","image","defaultImage","card_menu__image","card_menu__image__unavailable","card_menu__title__selected","priceDiscount","background","price","description","truncateCount","MenuCardList","orders","table","filteredMenu","setFilteredMenu","clickViewItem","getOrder","orderItems","order_items","menu_item_id","array","object","category_menu","category","sorted_category_menu","sort","b","handleFilteredMenu","container","row","col","price_discount","CustomerFooter","classPrefix","borderTopLeftRadius","borderTopRightRadius","boxShadow","FooterCart","setTotal","amount","setAmount","final_total","disabled","opacity","MenuBrand","brand_card","objectFit","NoData","BrandList","keyword","loading","setLoading","filteredBrands","setFilteredBrands","scrollable","scrollableDiv","selectedBrandDiv","offsetLeft","width","scrollLeft","scroll","toUpperCase","filtered","status","handleFilteredBrands","goMenu","clickSelectBrand","brandCol","ItemDetailModifier","editItemId","selectedModifier","setSelectedModifier","arr","orderModifiers","arr1","item1","renderOptionList","modifier","modifier_index","options","ListGroup","modifier_id","option","copy","mod","handleSelectModifiers","clickSelectModifier","Check","readOnly","checked","sel","Array","isArray","ItemDetailVariant","selectedVariant","setSelectedVariant","handleSetGroupVariant","orderVariants","split","updated_variant","clickSelectVariant","variant_index","SvgMinusSquareO","fill","fillRule","clipRule","SvgPlusSquareO","ItemDetailFooter","handleUpdatetoCart","handleAddToCart","SvgNotes","ItemDrawer","handleCloseItemDrawer","itemInfo","setItemInfo","selectedModifiers","setSelectedModifiers","extraNotes","setExtraNotes","setPrice","itemQuantity","setItemQuantity","orderItem","setOrderItem","groupVariant","setGroupVariant","handleClose","getItemDetail","order_item","extra_notes","parseInt","modifierPrice","Offcanvas","onHide","placement","Header","item2","group_variants","values","group_var","every","includes","marginBottom","Label","Menu","menuData","setMenuData","menuDataFilter","setMenuDataFilter","menuCategory","setMenuCategory","category_id","handleFilterCategories","searchStatus","setSearchStatus","setOrderItems","ItemDetail","order_item_id","scrollTo","handleDeleteOrderItem","image_overlay","image_overlay__image","fontSize","itemdetail_content","joinArr","join","CheckoutoutSummaryOrderList","isReadOnly","renderPrice","mod_price","paddingBottom","list_modifiers","flag","handleEditOrderItem","CheckoutSummaryFooter","setData","handleQuickAdd","brand","maxWidth","CheckoutSummmary","orderSummary","setOrderSummary","setEditItemId","PayCheckFooter","finalAmount","tipAmount","PayCheck","tip","setTip","otherTipValue","setOtherTipValue","otherTipFormat","setOtherTipFormat","setTipAmount","stripe","useStripe","elements","useElements","paymentLoading","setPaymentLoading","setFinalAmount","clickPay","card","getElement","CardNumberElement","createToken","result","token","tip_amount","stripe_token","post","pathname","state","final_total_with_tax_tip","tip_amt","calcTip","number","expiry","cvc","setMessage","Accordion","eventKey","accordion_order","accordion_order__btn","accordion_order__body","paycheck_border_radius","paycheck_custom","base","onReady","event","onBlur","ButtonGroup","ToggleButton","paycheck_btn_tip","val","Number","isInteger","paycheck_btn_tip_format","currentTarget","inputMode","OrderStatus","orderFulfillment","setStatus","stepper_wrapper","stepper_item","stepper_item__completed","stepper_item__active","step_counter","step_counter__completed","PayCheckInvoice","hasOrderId","useLocation","URLSearchParams","search","isSuccessful","setOrderFulfillment","useScreenshot","refresh","setRefresh","createRef","order_id","order_fulfillments","current","handleOrderMore","customer_name","marginLeft","moment","created_at","fgColor","class","print","borderLeft","NotFoundPage","BrandDiscountedMenu","setItems","discounted_items_store","handleDiscountedItems","handleClickItem","Brands","borderBottomLeftRadius","borderBottomRightRadius","ConfirmOrder","toString","replace","OpenCheck","TPLogo","GlobalSearch","setKeyword","filteredItems","setFilteredItems","active_stores","keyword_items_store","key_word","handleSearchKeyword","App","exact","path","component","HomeCust","SignInCust","SignUpCust","MenuCust","ItemDetailCust","BrandsCust","CheckoutSummmaryCust","ConfirmOrderCust","OpenCheckCust","PayCheckCust","PayCheckInvoiceCust","GlobalSearchCust","NotFoundCust","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","stripePromise","loadStripe","locale","ReactDOM","StrictMode"],"mappings":"0IACAA,EAAOC,QAAU,CAAC,gBAAkB,kCAAkC,qBAAuB,uCAAuC,sBAAwB,wCAAwC,uBAAyB,yCAAyC,gBAAkB,kCAAkC,iBAAmB,mCAAmC,wBAA0B,4C,oBCA1YD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,cAAgB,8BAA8B,OAAS,yB,mBCAvJD,EAAOC,QAAU,CAAC,UAAY,gCAAgC,iBAAmB,uCAAuC,uBAAyB,6CAA6C,iBAAmB,uCAAuC,8BAAgC,oDAAoD,iBAAmB,uCAAuC,eAAiB,qCAAqC,iBAAmB,uCAAuC,oBAAsB,0CAA0C,2BAA6B,iDAAiD,UAAY,gCAAgC,IAAM,0BAA0B,IAAM,4B,4CCDltBC,EAAQC,EAAOC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAASC,EAAOC,E,sKAE/FC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkBH,EAASY,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAUC,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAMzB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD6B,GAAI,UACJC,MAAO,6BACPC,WAAY,+BACZC,EAAG,MACHC,EAAG,MACHC,QAAS,kBACTC,MAAO,CACLC,iBAAkB,uBAEpBC,SAAU,WACVC,IAAKb,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAMxC,IAAWA,EAAsB,gBAAoB,QAAS,CAC9EqD,KAAM,YACL,+VAAgWpD,IAAUA,EAAqB,gBAAoB,OAAQ,CAC5ZqD,UAAW,MACXC,EAAG,s0CACArD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEoD,UAAW,MACXC,EAAG,uaACApD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEmD,UAAW,MACXC,EAAG,+dACAnD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEkD,UAAW,MACXC,EAAG,ylBACAlD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEiD,UAAW,MACXC,EAAG,mgBACAjD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEgD,UAAW,MACXC,EAAG,uSACAhD,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE+C,UAAW,MACXC,EAAG,2XACA/C,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE8C,UAAW,MACXC,EAAG,oKACA9C,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE6C,UAAW,MACXC,EAAG,omBACA7C,IAAYA,EAAuB,gBAAoB,OAAQ,CAClE4C,UAAW,MACXC,EAAG,gJACa,gBAAoB,IAAK,KAAM5C,IAAUA,EAAqB,gBAAoB,OAAQ,KAAmB,gBAAoB,OAAQ,CACzJgC,GAAI,WACJY,EAAG,myCACc,gBAAoB,WAAY,CACjDZ,GAAI,YACU,gBAAoB,MAAO,CACzCa,UAAW,YACXP,MAAO,CACLQ,SAAU,cAET7C,IAAOA,EAAkB,gBAAoB,IAAK,CACrD0C,UAAW,OACG,gBAAoB,OAAQ,CAC1CA,UAAW,MACXC,EAAG,2JACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,yIACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,4HACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,mKACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,6LACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,sNACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,yKACY,gBAAoB,OAAQ,CAC3CD,UAAW,MACXC,EAAG,mKAIP,IAAIG,EAA0B,aAAiBrB,G,GAChC,I,aCnGA,SAASsB,EAAejB,GAgBrC,OACE,qCAOEA,EAAMkB,YACN,qBACAN,UAAU,gCACVL,MAAO,CACLY,gBAAgB,OAAD,OAASnB,EAAMkB,WAAf,KACfE,OAAQ,KAERC,OAAQ,YACRC,eAAgB,QAChBC,mBAAoB,QACpBC,iBAAkB,eAOtB,sBACEZ,UAAU,sBACVL,MArCCP,EAAMyB,WACA,CACLN,gBAAgB,mCAAD,OAAqCnB,EAAMyB,WAA3C,yBAAsEzB,EAAMyB,WAA5E,aACfC,OAAQ,SAGL,CACLC,UAAW,QA4Bb,UAIG3B,EAAM4B,SAEP,qBACEhB,UAAU,gDADZ,SAGI,sBAAKA,UAAU,mEAAf,uBAEE,cAAC,EAAD,CACEL,MAAO,CACLmB,OAAQ,OACRG,UAAW,yB,aCxDZ,SAASC,EAAe9B,GAErC,MACuB,YAArBA,EAAM+B,YACN,qCAEE,cAACC,EAAA,EAAD,CACEC,IAAKjC,EAAMkC,KACXC,OAAK,EACLvB,UAAU,kBACVwB,SAAO,EACP7B,MAAO,CAACmB,OAAS1B,EAAM0B,OAAU1B,EAAM0B,OAAS,UAElD,qBACEd,UAAU,wBACVL,MAAO,CAAC8B,MAAO,sBAFjB,SAIKrC,EAAMsC,UAKb,mCACE,sBACE1B,UAAU,4BADZ,UAGI,cAACoB,EAAA,EAAD,CACEC,IAAKjC,EAAMkC,KACXC,OAAK,EACL5B,MAAO,CAACmB,OAAS1B,EAAM0B,OAAU1B,EAAM0B,OAAS,QAChDU,SAAO,IACP,qBACExB,UAAU,mBACVL,MAAO,CAAC8B,MAAO,sBAFjB,SAIKrC,EAAMsC,Y,sBChCR,SAASC,EAAUvC,GAgBhC,OACE,qCACE,oBAAIY,UAAU,cAAd,4CACA,cAAC,IAAD,CACE4B,OAlBS,SAACC,GACXA,GAEDzC,EAAM0C,WAAWD,IAgBfE,QAbU,SAACC,GACfC,QAAQC,IAAIF,IAaRG,WAAY,gBAEd,qBACEnC,UAAU,oBADZ,SAEI,cAACoC,EAAA,EAAD,CACEC,QAAQ,QACRC,QAhBW,WACnBlD,EAAMmD,cAAa,IAab,yB,4BCzBJC,EAAcC,0BAGdC,EAAe,CACnBC,UAAW,CACTtD,GAAI,KACJuD,SAAU,GACVC,MAAO,IAETA,MAAO,CACLC,aAAc,KACdzD,GAAI,KACJ0D,SAAU,GACVC,MAAO,KAKEC,EAAe,SAAC,GAAkB,IAAhBjC,EAAe,EAAfA,SACvBkC,EAAMC,IAAMC,OAAO,CAAEC,QAASC,sCAGpC,EAAkCC,mBAChCC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiBjB,EAAaC,WADhE,mBAAOA,EAAP,KAAkBiB,EAAlB,KAIA,EAAwBL,mBACtBC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,MADlD,mBAAOE,EAAP,KAAaC,EAAb,KAIA,EAA0BP,mBAAS,MAAnC,mBAAOvB,EAAP,KAAc+B,EAAd,KAEA,EAA0BR,mBACxBC,KAAKC,MAAMC,aAAaC,QAAQ,WAAajB,EAAaG,OAD5D,mBAAOA,EAAP,KAAcmB,EAAd,KAIA,EAAwBT,mBAAS,MAAjC,mBAAOU,EAAP,KAEA,GAFA,KAE4BV,mBAC1BC,KAAKC,MAAMC,aAAaC,QAAQ,YAAc,KADhD,mBAAOO,EAAP,KAAeC,EAAf,KAGA,EAA0CZ,mBACxCC,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB,IADvD,mBAAOS,EAAP,KAAsBC,EAAtB,KAKA,EAA8Bd,mBAAS,GAAvC,mBAAOe,EAAP,KAAgBC,EAAhB,KAGA,EAA4BhB,qBAA5B,mBAAOiB,EAAP,KAAeC,EAAf,KAGA,EAA0BlB,mBAASC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,IAAhF,mBAAOe,EAAP,KAAcC,EAAd,KAQMC,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,+EASC5B,EAAI6B,IAAJ,sBAAuBF,IATxB,QASXG,EATW,QAUTnD,KAAKoD,SAELpD,EAAOmD,EAAInD,KAAKA,KACtB+B,EAAa/B,GAEb6B,aAAawB,QAAQ,YAAa1B,KAAK2B,UAAUtD,IACjDuD,MAGAxB,EAAalB,EAAaC,WAC1BoB,EAASiB,EAAInD,KAAKwD,aApBH,gDAwBjBtB,EAAS,KAAIuB,SACbrD,QAAQC,IAAR,MAzBiB,yDAAH,sDAmCZkD,EAAkB,WAEtBjB,EAAU,IACVT,aAAa6B,WAAW,UAExBlB,EAAiB,IACjBX,aAAa6B,WAAW,iBAExBvB,EAAStB,EAAaG,OACtBa,aAAa6B,WAAW,UA2CpBC,EAAW,uCAAG,WAAOX,EAAUY,GAAjB,mBAAAX,EAAA,+EAEE5B,EAAIwC,IAAJ,sBAAuBb,EAAvB,SAAwCY,GAF1C,YAEVT,EAFU,QAGRnD,KAAKoD,QAHG,iBAKRpC,EAAQmC,EAAInD,KAAKA,KAAKgB,MACtBD,EAAWoC,EAAInD,KAAKA,KAAKe,SAC/BoB,EAASnB,GACTa,aAAawB,QAAQ,QAAS1B,KAAK2B,UAAUtC,IAC7CiB,EAAQ2B,GACR/B,aAAawB,QAAQ,WAAY1B,KAAK2B,UAAUM,IAE7C7C,IACD+B,EAAS/B,GACTc,aAAawB,QAAQ,QAAS1B,KAAK2B,UAAUvC,KAdjC,+BAkBdoB,EAAStB,EAAaG,OACtBkB,EAAS,wBAnBK,mBAoBP,GApBO,0DAuBhB9B,QAAQC,IAAIF,GAvBI,0DAAH,wDA4BX2D,GAAoB,SAACC,GACzBvB,EAAiBuB,GAEjBrB,EAAW,GACXb,aAAawB,QAAQ,gBAAiB1B,KAAK2B,UAAUS,KAEjDC,GAAS,uCAAG,WAAOhB,EAAUiB,GAAjB,yBAAAhB,EAAA,+EAEI5B,EAAI6B,IAAJ,sBAAuBF,EAAvB,UAFJ,YAERG,EAFQ,QAGNnD,KAAKoD,QAHC,wBAIZ,UAAID,EAAInD,KAAKA,YAAb,aAAI,EAAekE,UACjB5B,EAAUa,EAAInD,KAAKA,KAAKkE,QACxBrC,aAAawB,QAAQ,SAAU1B,KAAK2B,UAAUH,EAAInD,KAAKA,KAAKkE,SACxDD,EACFH,GAAkBX,EAAInD,KAAKA,KAAKkE,OAAO,SAKhBC,KAHnBC,EADC,UACgBzC,KAAKC,MACxBC,aAAaC,QAAQ,yBAFlB,aACgB,EAElBtE,MAEG6G,EAAMlB,EAAInD,KAAKA,KAAKkE,OAAOI,MAAK,SAACC,GACnC,OAAOA,EAAK/G,KAAO4G,KAGrBN,GAAkB,2BACbvB,GADY,IAEfpB,MAAOkD,EAAIlD,YAKnB,UAAIgC,EAAInD,KAAKA,YAAb,aAAI,EAAewE,SACjBlC,EAAU,CAACa,EAAInD,KAAKA,KAAKwE,QACzB3C,aAAawB,QAAQ,SAAU1B,KAAK2B,UAAU,CAACH,EAAInD,KAAKA,KAAKwE,SAC7DV,GAAkBX,EAAInD,KAAKA,KAAKwE,QA5BtB,mBA8BL,GA9BK,kCAgCL,GAhCK,iEAmCdpE,QAAQC,IAAR,MAnCc,mBAoCP,GApCO,0DAAH,wDAyCT0D,GAAQ,CACZ/B,OACAlB,YACAE,QACAoB,OACAjC,QACAsE,eA3IqB,WACrB,GAAI3D,EAAUtD,GACZ,OAAOsD,EAAUjB,MA0InBkD,eACAY,cACAK,aACA3B,SACAE,gBACAuB,qBACArB,UACAC,aACAgC,SAhIe,WAEf,GAAG9I,OAAOgB,KAAKiG,GAAO5G,OAAO,CAE3B,IAAM0I,EAAkBC,WAAW/B,EAAM8B,gBAAkB,EAApC,0BAA4DE,KAAKC,MAAMF,WAAkC,IAAvB/B,EAAM8B,iBAAxF,MAAqH,KACtII,EAAkBH,WAAW/B,EAAMmC,YAAc,EAAhC,eAA6CH,KAAKC,MAAqC,IAA/BF,WAAW/B,EAAMmC,aAAzE,MAAkG,KACrHC,EAAa,GAwBjB,OAvBGN,GACDM,EAAWC,KAAK,CACdC,MAAOR,EACPZ,MAAOa,WAAW/B,EAAM8B,gBAExBS,UAAW,SAACC,GACV,OAAOA,EAAMT,WAAW/B,EAAM8B,mBAIjCI,GACDE,EAAWC,KAAK,CACdC,MAAOJ,EACPhB,MAAOa,WAAW/B,EAAMmC,YAExBI,UAAW,SAACC,GACV,OAAGA,GACOA,EAAOA,EAAMT,WAAW/B,EAAM8B,iBAAoB9B,EAAMmC,WAE3D,KAINC,IAmGTtC,SACAC,aAMF,OAHA0C,qBAAU,WACRpD,EAAS,QACR,IACI,cAACvB,EAAY4E,SAAb,CAAsBxB,MAAOA,GAA7B,SAAqC5E,KAIjCqG,EAAiB,WAC5B,OAAOC,qBAAW9E,IChQdU,EAAMC,IAAMC,OAAO,CAAEC,QAASC,sCAmBvBiE,EAAiB,SAACC,GAAD,OAC5BtE,EAAI6B,IAAJ,2BAA4ByC,KACjBC,GAAY,SAACpI,EAAIoG,GAAL,OACvBvC,EAAIwE,MAAJ,sBAAyBrI,EAAzB,gBAA2CoG,IAChCkC,GAAe,SAACtI,GAAD,OAAQ6D,EAAI6B,IAAJ,sBAAuB1F,KAC9CuI,GAAkB,SAACvI,GAAD,OAAQ6D,EAAI2E,OAAJ,4BAAgCxI,KAC1DyI,GAAkB,SAACzI,EAAIoG,GAAL,OAC7BvC,EAAIwE,MAAJ,4BAA+BrI,GAAMoG,ICMxB,SAASsC,GAAK3I,GAAQ,IAAD,UAC1ByF,EAAamD,cAAbnD,SACR,EACEwC,IADM1E,EAAR,EAAQA,UAAWiC,EAAnB,EAAmBA,aAAc5C,EAAjC,EAAiCA,MAAOwD,EAAxC,EAAwCA,YAElCyC,GAFN,EAAqDpC,UAErCqC,eAChB,EAAwB3E,mBAAS,IAAjC,mBAAO7B,EAAP,KAAayG,EAAb,KAEA,EAAwB5E,oBAAS,GAAjC,mBAAO6E,EAAP,KAAaC,EAAb,KAoBMC,GAnBcC,mBAmBF,uCAAG,WAAOC,GAAP,eAAA1D,EAAA,yDACnB7C,QAAQC,IAAIR,GACZ8G,EAAEC,iBAEG/G,EAJc,0CAKV,GALU,OAQf8D,EAAYX,EAAU,CAAE6D,WAAYhH,MAEP,gBAA5B,UAAAiB,EAAUC,gBAAV,eAAoB7C,MAErBkI,EAAQlB,KAAR,mCAAyClC,EAAzC,YAGAoD,EAAQlB,KAAR,mCAAyClC,EAAzC,WAfe,2CAAH,uDA4ClB,OAbAsC,qBAAU,WACRvC,EAAaC,KACZ,IAGHsC,qBAAU,WACJnF,GACFC,QAAQC,IAAIF,KAIb,CAACA,IAGF,cAAC,EAAD,CAEEnB,WAAY,sBAEZP,WAAU,UAAEqC,EAAUC,gBAAZ,iBAAE,EAAoB+F,wBAAtB,aAAE,EAAsCC,WAJpD,SAOE,cAACC,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,QAA3B,SACE,cAAC8I,EAAA,EAAD,CAAK9I,UAAU,kDAAf,SACE,cAAC+I,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAA/B,SACGf,EACC,cAACzG,EAAD,CAAWG,WAnER,SAACD,GACVA,IACFuH,OAAOxG,SAASyG,KAAOxH,IAiEgBU,aAAc8F,IAE7C,qCACGrG,GAAS,eAACsH,EAAA,EAAD,CAAOjH,QAAQ,SAAf,UAAwB,mBAAGrC,UAAU,kCAAqCgC,KACpF,qBAAKhC,UAAU,OAAf,SACE,cAACkB,EAAD,CACEC,YAAY,WACZG,KAAI,UAAEqB,EAAUC,gBAAZ,iBAAE,EAAoBtB,YAAtB,aAAE,EAA0BsH,WAChClH,KAAI,UAAEiB,EAAUC,gBAAZ,aAAE,EAAoBlB,SAG9B,oBAAI1B,UAAU,6CAAd,sBACA,qBAAKA,UAAU,OAAf,SACE,qBAAKA,UAAU,uCAAf,SACG2C,EAAUjB,SAgBf,eAAC6H,EAAA,EAAD,CAAMC,SAAUlB,EAAhB,UACE,cAACmB,EAAA,EAAD,CAAezJ,UAAU,OAAOgH,MAAM,YAAtC,SACE,cAACuC,EAAA,EAAKG,QAAN,CACEC,KAAK,KACLC,UAAQ,EACRC,YAAY,YACZC,SAAU,SAACtB,GAAD,OAAOL,EAAQK,EAAE7K,OAAOiI,QAClC5F,UAAU,iBAGd,qBAAKA,UAAU,eAAf,SACE,cAACoC,EAAA,EAAD,CACErC,KAAK,SACLsC,QAAQ,UACRsH,KAAK,KACL3J,UAAU,iCAJZ,4CC9JL,WAA0B,iCCA1B,OAA0B,wCCuB1B,SAAS+J,KAEtB,MAA0BxG,mBAAS,IAAnC,mBAAcyG,GAAd,WACA,EAAgCzG,mBAAS,IAAzC,mBAAiB0G,GAAjB,WACA,EAAwC1G,oBAAS,GAAjD,mBAAO2G,EAAP,KAAqBC,EAArB,KAEMtI,EAAO,CACXH,KAAM,oBACNJ,KAAM8I,GACNC,YAAaC,IAaf,OACE,cAAC,EAAD,CACEzJ,WAAY,sBACZP,WAAYuB,EAAKwI,YAFnB,SAIE,cAACxB,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,aAA3B,SACE,cAAC8I,EAAA,EAAD,CAAK9I,UAAU,kDAAf,SACE,eAAC+I,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAA/B,UAME,oBAAInJ,UAAU,kCAAd,qBAGA,eAACuJ,EAAA,EAAD,CAAMC,SArBK,SAAChB,GACpBA,EAAEC,kBAoBM,UACE,cAACgB,EAAA,EAAD,CACEzJ,UAAU,OACVgH,MAAM,QAFR,SAIE,cAACuC,EAAA,EAAKG,QAAN,CACEC,KAAK,KACLC,UAAQ,EACRC,YAAY,QACZ9J,KAAK,QACLC,UAAU,aACV8J,SAAU,SAAAtB,GAAC,OAAIwB,EAASxB,EAAE7K,OAAOiI,YAGrC,eAAC6D,EAAA,EAAD,CACEzJ,UAAU,OACVgH,MAAM,WAFR,UAGE,cAACuC,EAAA,EAAKG,QAAN,CACE3J,KAAQmK,EAA4B,OAAb,WACvBP,KAAK,KACLC,UAAQ,EACRC,YAAY,WACZ7J,UAAU,aACV8J,SAAU,SAAAtB,GAAC,OAAIyB,EAAYzB,EAAE7K,OAAOiI,UAEpC,wBACE5F,UAAU,4CACVL,MAAO,CACL4K,IAAK,OACLC,MAAO,YAETlI,QAxDc,WAC9B6H,GAAgB,SAAAM,GAAC,OAAKA,MAiDR,SAQE,mBACEzK,UAAU,mBAKlB,cAACuJ,EAAA,EAAKmB,MAAN,CAAY1K,UAAU,OAAtB,SACE,qBAAKA,UAAU,eAAf,SACE,cAACoC,EAAA,EAAD,CACErC,KAAK,SACL4J,KAAK,KACLtH,QAAQ,UACRrC,UAAU,qBAJZ,mCAWN,eAAC8I,EAAA,EAAD,CAAK9I,UAAU,+BAAf,UACE,cAAC+I,EAAA,EAAD,UACE,cAAC,IAAD,CAAM4B,GAAG,mBACP3K,UAAU,UACVL,MAAO,CACLiL,eAAgB,OAChBnJ,MAAO,sBAJX,uBAOF,cAACsH,EAAA,EAAD,CAAK/I,UAAU,WAAf,SACE,cAAC,IAAD,CAAM2K,GAAG,GACP3K,UAAU,UACVL,MAAO,CACLiL,eAAgB,OAChBnJ,MAAO,sBAJX,2CCjGD,SAASoJ,KAGtB,MAA0BtH,mBAAS,IAAnC,mBAAcyG,GAAd,WACA,EAAgCzG,mBAAS,IAAzC,mBACA,GADA,UAC8CA,mBAAS,KAAvD,mBAAwBuH,GAAxB,WAEMjJ,EAAO,CACXH,KAAM,oBACNJ,KAAM8I,GACNC,YAAaC,IAQf,OACE,cAAC,EAAD,CACEzJ,WAAY,sBACZP,WAAYuB,EAAKwI,YAFnB,SAIE,cAACxB,EAAA,EAAD,CACE7I,UAAU,QADZ,SAGE,cAAC8I,EAAA,EAAD,CACE9I,UAAU,yDADZ,SAGI,eAAC+I,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAvB,UAEE,qBAAKlJ,UAAU,8BAOf,oBAAIA,UAAU,6BAAd,qBACA,mBAAGA,UAAU,0BAAb,uEAGA,eAACuJ,EAAA,EAAD,CAAMC,SA7BG,SAAChB,KA6BV,UAEE,cAACiB,EAAA,EAAD,CACEzJ,UAAU,OACVgH,MAAM,QAFR,SAIE,cAACuC,EAAA,EAAKG,QAAN,CACE3J,KAAK,QACL6J,UAAQ,EACRC,YAAY,QACZF,KAAK,KACL3J,UAAU,aACV8J,SAAU,SAAAtB,GAAC,OAAGwB,EAASxB,EAAE7K,OAAOiI,YAIpC,cAAC6D,EAAA,EAAD,CACEzJ,UAAU,OACVgH,MAAM,WAFR,SAGE,cAACuC,EAAA,EAAKG,QAAN,CACE3J,KAAK,WACL6J,UAAQ,EACRC,YAAY,WACZF,KAAK,KACL3J,UAAU,aACV8J,SAAU,SAAAtB,GAAC,OAAIwB,EAASxB,EAAE7K,OAAOiI,YAGrC,cAAC6D,EAAA,EAAD,CACEzJ,UAAU,OACVgH,MAAM,mBAFR,SAGE,cAACuC,EAAA,EAAKG,QAAN,CACI3J,KAAK,WACL6J,UAAQ,EACRC,YAAY,mBACZF,KAAK,KACL3J,UAAU,aACV8J,SAAU,SAAAtB,GAAC,OAAIsC,EAAmBtC,EAAE7K,OAAOiI,YAIjD,cAAC2D,EAAA,EAAKmB,MAAN,UACE,qBAAK1K,UAAU,eAAf,SACE,cAACoC,EAAA,EAAD,CACEC,QAAQ,UACRsH,KAAK,KACL3J,UAAU,qBACVD,KAAK,SAJP,qC,cC7EL,I,OADf,I,iDCnBe,SAASgL,GAAW3L,GAAQ,IAAD,EAClC6I,EAAUC,cACTrD,EAAYmD,cAAZnD,SACP,EAA4CwC,IAApCf,EAAR,EAAQA,eAAgB3D,EAAxB,EAAwBA,UAAWkB,EAAnC,EAAmCA,KACnC,OACE,cAACmH,GAAA,EAAD,CAAQC,OAAO,KAAKjL,UAAWkL,KAAI9L,EAAMY,UAAW,CAClD,uBAA0BZ,EAAMY,YADlC,SAGE,eAAC6I,EAAA,EAAD,CACEtH,OAAK,EACLvB,UAAU,oDAFZ,UAIiB,QAAdZ,EAAM+L,MACL,qCAcE,qBACE7I,QAAS,kBAAM2F,EAAQlB,KAAR,mCAAyClC,EAAzC,aADjB,SAGE,uBAAM7E,UAAU,0DAAhB,UACE,cAAC,KAAD,CAAeA,UAAU,wBACzB,gCACE,qBAAKA,UAAU,2BAAf,mBAA2C2C,EAAUC,gBAArD,aAA2C,EAAoBlB,OAC/D,qBAAK1B,UAAU,eAAf,SAA+BsG,cAIrC,sBAAKtG,UAAU,0CAAf,UAEE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,QAAQL,MAAO,CAAC8B,MAAO,sBAAtC,wBACA,qBAAKzB,UAAU,UAAf,gBAA0B6D,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAM6E,gBAElC,cAAC,KAAD,CACEhH,KAAI,OAAEmC,QAAF,IAAEA,OAAF,EAAEA,EAAM6E,WACZjH,MAAM,oBACN2J,gBAAgB,8BAMvBhM,EAAMiM,QACL,qCACE,qBAAKrL,UAAU,iDAAf,SACE,cAACoC,EAAA,EAAD,CACEpC,UAAU,gEACVsC,QAAS,kBAAM2F,EAAQoD,UAFzB,SAIE,cAAC,KAAD,CAAe1B,KAAM,GAAIhK,MAAO,CAAC2L,YAAa,aAGlD,8BACGlM,EAAMF,OAAS,oBAAIc,UAAU,eAAd,SAA8BZ,EAAMF,UAEtD,qBAAKc,UAAU,QAAf,0B,cCvEG,SAASuL,GAAOnM,GAE7B,IAAOoM,EAA0DpM,EAA1DoM,eAAgB3B,EAA0CzK,EAA1CyK,YAAa4B,EAA6BrM,EAA7BqM,aAAcC,EAAetM,EAAfsM,YAClD,EAAkCnI,mBAAS,IAA3C,mBAAOoI,EAAP,KAAkBC,EAAlB,KACA,EAAwBrI,oBAAS,GAAjC,mBAAOsI,EAAP,KAAaC,EAAb,KACM7D,EAAUC,cACTrD,EAAYmD,cAAZnD,SAmCP,OAbAsC,qBAAU,WACLqE,GACDA,EAAeG,KAEhB,CAACA,IAEJxE,qBAAU,WACLuE,GACmBK,SAASC,eAAe,eAChCC,UAEb,CAACP,IAGJ,8BAEIG,EACA,8BACE,eAACtC,EAAA,EAAD,CAAMvJ,UAAU,yBAAyBwJ,SAvC1B,SAAChB,GAGpB,GAFAA,EAAEC,kBAEGkD,EACH,OAAO,GAmCL,UACE,cAACpC,EAAA,EAAKG,QAAN,CAEE1J,UAAU,oBACVX,GAAG,cAEHyK,SAAU,SAACtB,GAAD,OAAOoD,EAAapD,EAAE7K,OAAOiI,QACvCtD,QAAS,WA9BdmJ,GACDxD,EAAQlB,KAAR,2BAAiClC,KA8B3Be,MAAO+F,EACP9B,YAAaA,GAAe,kBAC5BlK,MAAO,CACLoB,UAAW,UAIb4K,GACA,sBAAM3L,UAAU,wDAChBsC,QAAS,SAAAkG,GAAC,OAhDlBoD,EAAa,SACVJ,GACDA,EAAe,MA+CT7L,MAAO,CACL6K,MAAM,OACND,IAAK,SACL2B,OAAQ,WALV,eASF,mBACElM,UAAU,iCACVL,MAAO,CACLwM,KAAM,OACN5B,IAAK,iBAKb,cAACnI,EAAA,EAAD,CACEC,QAAQ,QACRrC,UAAU,iBACVL,MAAO,CAACyM,QAAS,OACjBC,QAAS,SAAA7D,GAAC,OAAIsD,GAAQ,IAJxB,SAMC,cAAC,KAAD,CAAUnC,KAAM,S,uDCtFR,SAAS2C,GAAalN,GACnC,IAAOmN,EAAcnN,EAAdmN,WAEP,EAA4BhJ,oBAAS,GAArC,mBAAOiJ,EAAP,KAAeC,EAAf,KAKA,OAJAtF,qBAAU,WACRsF,GAAU,GACVC,YAAW,WAAOD,GAAU,KAAQ,KACnC,CAACF,IAGFA,EAAWzO,QAAU0O,EAEnB,cAAC,KAAD,CACEG,gBAAkBJ,EAAYK,KAAI,SAAAhP,GAAC,gCAAuBA,EAAEyB,OAC5DwN,eAAgBC,KAAOC,0BACvBC,eAAe,MAHjB,SAKE,qBAAKhN,UAAU,oBAAf,SACE,cAACiN,GAAA,EAAD,CACEjN,UAAU,6BACVX,GAAG,mBAFL,SAIGkN,EAAWK,KAAI,SAACxG,GACf,OACE,cAAC6G,GAAA,EAAIC,KAAL,CAEElN,UAAU,gBAFZ,SAGE,cAACiN,GAAA,EAAIE,KAAL,CACE9D,KAAI,2BAAsBjD,EAAK/G,IAC/BW,UAAW8M,KAAOM,kBAFpB,SAIGhH,EAAKY,SANHZ,EAAK/G,aAgBtB,qBAAKM,MAAO,CAACmB,OAAO,U,0CC9CnB,SAASuM,GAAaC,EAAMC,GACjC,GAAGD,EACD,OAAOA,EAAKxP,OAASyP,EAAQD,EAAKE,UAAU,EAAID,EAAQ,GAAM,MAAQD,EAInE,SAASG,GAAe7H,GAAyB,IAAlB8H,EAAiB,uDAAN,MACzCC,EAAY,IAAIC,KAAKC,aAAa,QAAQ,CAC9ClO,MAAO,WAAY+N,SAAUA,IAE/B,OAAII,MAAMrH,WAAWb,IAGdA,EAFE+H,EAAUI,OAAOnI,GAOrB,SAASoI,GAAUtJ,EAAOuJ,GAC/B,GAAGvJ,GAASA,EAAM5G,OAChB,OACE4G,EAAMkI,KAAI,SAACxG,EAAM8H,GACf,OACE,sBAAKlO,UAAU,yDAAf,UACE,8BAAMoG,EAAKY,QACX,qBAAKhH,UAAU,UAAf,SACGyN,GAAerH,EAAKa,UAAUgH,QAH0CC,MAgBhF,SAASC,GAAe/H,GACA,IAAD,IAA5B,GAAG3I,OAAOgB,KAAK2H,GAAMtI,UAChB,UAAAsI,EAAKgI,gBAAL,eAAetQ,UAAf,UAAyBsI,EAAKiI,iBAA9B,aAAyB,EAAgBvQ,SAC1C,MAAO,OAGX,OAAO,KAQF,SAASwQ,GAAqBC,EAAUC,GAC7C,GAAG/H,WAAW8H,IAAa9H,WAAW+H,GACpC,OAAO/H,WAAW8H,GAAY9H,WAAW+H,GC3D9B,g7CCUA,SAASC,GAASrP,GAAQ,IAAD,IF2CFmP,EAAUC,EE1CvCE,EAAyBtP,EAAzBsP,SAAUC,EAAevP,EAAfuP,YAEjB,EAAgCpL,mBAAS,GAAzC,mBAAOqL,EAAP,KAAiBC,EAAjB,KACA,EAAgCxH,IAAb5C,GAAnB,EAAOF,WAAP,EAAmBE,WAmBnB,OATA0C,qBAAU,WACR,GAAGuH,EAAS5Q,OAAO,CACjB,IAAIgR,EAAM,EACVJ,EAASK,SAAQ,SAAC3I,GAChB0I,GAAO1I,EAAKwI,YAEdC,EAAYC,MAEd,CAACJ,IACItP,EAAMsC,KACX,cAACsN,GAAA,EAAD,CACEhP,UAAWkL,KAAG4B,KAAOmC,WAAR,oBACVnC,KAAOoC,gBAAkB9P,EAAM+P,WADrB,eAEVrC,KAAOsC,oBAAsBhQ,EAAMsP,SAAS5Q,QAFlC,IAIbwE,QAxBmB,SAACkG,GAClBpJ,EAAMC,IAAMD,EAAM+P,WAKpB1K,EAAUrF,EAAMC,KAmBhBA,GAAE,UAAKD,EAAMC,GAAX,OANJ,SAQE,cAAC2P,GAAA,EAAKK,KAAN,CACErP,UAAWkL,KAAG,YAAD,gBACV4B,KAAOwC,kBAAoBlQ,EAAM+P,YAFtC,SAKE,eAACrG,EAAA,EAAD,CAAK9I,UAAU,qBAAf,UACE,cAAC+I,EAAA,EAAD,CAAKE,GAAG,IAAID,GAAG,IAAf,SAEE,cAAC5H,EAAA,EAAD,CAAOC,IAAMjC,EAAMmQ,MAASnQ,EAAMmQ,MAAQC,GAAcjO,OAAK,EAACvB,UAAWkL,KAAG4B,KAAO2C,iBAAR,gBACxE3C,KAAO4C,+BAAkCtQ,EAAM+P,gBAGpD,eAACpG,EAAA,EAAD,CAAKE,GAAG,IAAID,GAAG,IAAf,UACI,oBACEhJ,UAAWkL,KAAI,QAAF,oBACV4B,KAAOwC,kBAAoBlQ,EAAM+P,WADvB,eAEVrC,KAAO6C,2BAA6BvQ,EAAMsP,SAAS5Q,QAFzC,IADf,UAME,sBAAMkC,UAAU,kBAAhB,SAAmCZ,EAAMsC,OAAa,IACrDtC,EAAMwQ,cAAgB,GAAK,uBAAM5P,UAAU,sCAAsCL,MAAO,CAACkQ,WAAY,uBAA1E,WFTNtB,EEUGnP,EAAM0Q,MFVCtB,EEUMpP,EAAMwQ,cFTnDlJ,KAAKC,MAAM6H,EAAWD,EAAW,MEQE,cAK9B,mBAAGvO,UAAU,QAAQL,MAAO,CAAC8B,MAAO,sBAApC,SACG4L,GAAajO,EAAM2Q,YAAa3Q,EAAM4Q,iBAEzC,sBAAKhQ,UAAU,yDAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,8BACE,sBAAMA,UAAU,QAAhB,SAAyB2O,MAE3B,gCACIvP,EAAMwQ,cAAgB,GAAK,sBAAM5P,UAAU,oCAAoCL,MAAO,CAAC8B,MAAM,sBAAlE,SAA0FgM,GAAerO,EAAM0Q,SAC5I,sBAAM9P,UAAWkL,KAAG,+BAApB,SAEI9L,EAAMwQ,cACJnC,GAAea,GAAqBlP,EAAM0Q,MAAO1Q,EAAMwQ,gBAEvDnC,GAAerO,EAAM0Q,eAK9BlB,EAAW,GACV,oCAEE,sBAAM5O,UAAU,cAAhB,SAA+B4O,oBAQ7C,KCzFS,SAASqB,GAAa7Q,GAEnC,IAAO6E,EAAmC7E,EAAnC6E,KAAqBsI,GAAcnN,EAA7B8Q,OAA6B9Q,EAArB+Q,MAAqB/Q,EAAdmN,YACtBtE,EAAUC,cAChB,EAAwC3E,mBAAS,IAAjD,mBAAO6M,EAAP,KAAqBC,EAArB,KACMC,EAAgB,SAACjR,GACjBA,GAEF4I,EAAQlB,KAAR,mCAAyC3H,EAAM+Q,MAA/C,iBAA6D9Q,KAI3DkR,EAAW,SAAClR,GAAQ,IAAD,IACvB,KAAG,UAAED,EAAM8Q,cAAR,aAAE,EAAc7Q,IACjB,MAAO,GAET,IAAMmR,EAAU,UAAGpR,EAAM8Q,cAAT,aAAG,EAAcO,YACjC,GAAGD,EAAW1S,OAAO,CACnB,IAAM+E,EAAQ2N,EAAW/P,QAAO,SAACjB,GAAD,OAAOA,EAAEkR,cAAgBrR,KACzD,GAAIwD,EAAM/E,OACR,OAAO+E,EAGX,MAAO,IA4DT,OAJAsE,qBAAU,YAnBiB,WACzB,GAAGlD,EAAKnG,QAAUyO,EAAWzO,OAAO,CAClC,IAAI6S,EAAQ,GACZpE,EAAWwC,SAAQ,SAAC3I,GAClB,IAAIwK,EAAS,GACPC,EAAgB5M,EAAKxD,QAAO,SAAC7C,GAAD,aAAO,UAAAA,EAAEkT,gBAAF,eAAYzR,MAAO+G,EAAK/G,MACjE,GAAGwR,EAAc/S,OAAO,CACtB,IAAMiT,EAAuBF,EAAcG,MAAK,SAAClM,EAAEmM,GAAH,OAASA,EAAE9B,UAAYrK,EAAEqK,aACzEyB,EAAM,2BACDxK,GADC,IAEJpD,MAAO+N,IAETJ,EAAM5J,KAAK6J,OAGfP,EAAgBM,IAKlBO,KACC,CAACjN,IAGF,cAAC4E,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAS,UAAK8M,KAAOqE,UAAZ,sBAA1B,SAEIf,EAAatS,OACb,8BACGsS,EAAaxD,KAAI,SAACxG,EAAKmH,GACtB,OACE,sBAAKlO,GAAE,0BAAqB+G,EAAK/G,IAAkBW,UAAU,WAA7D,UACE,cAAC6I,EAAA,EAAD,CAAW7I,UAAU,YAAYuB,OAAK,EAAtC,SACE,oBAAIvB,UAAU,UAAd,SACGoG,EAAKY,UAGV,cAAC8B,EAAA,EAAD,CAAK9I,UAAW8M,KAAOsE,IAAvB,SACGhL,EAAKpD,MAAM4J,KAAI,SAAChP,EAAEsQ,GAAS,IAAD,EACzB,OACE,cAACnF,EAAA,EAAD,CAAKI,GAAG,IAAIF,GAAG,KAAKD,GAAG,IAAIhJ,UAAW8M,KAAOuE,IAA7C,SACE,cAAC5C,GAAD,CACE/M,KAAM9D,EAAE8D,KACR6N,MAAK,UAAE3R,EAAE2R,aAAJ,aAAE,EAAS3G,WAChBvJ,GAAIzB,EAAEyB,GACN0Q,YAAanS,EAAEmS,YACfD,MAAOlS,EAAEkS,MACTQ,cAAeA,EACfnB,UAAWvR,EAAEuR,UACbT,SAAU6B,EAAS3S,EAAEyB,IACrB2Q,cAAe,GACfrB,YAAaR,GAAevQ,GAC5BgS,cAAgBhS,EAAE0T,eAAkB7K,WAAW7I,EAAE0T,gBAAkB,KAZhB1T,EAAEyB,WATrBkO,QAgClD,OC/HO,SAASgE,GAAenS,GACrC,IAAMoS,EAAepS,EAAMoS,YAAepS,EAAMoS,YAAc,OAC9D,OACE,wBACExR,UAAU,iDACVL,MAAO,CACL8R,oBAAqB,0BACrBC,qBAAsB,0BACtBC,UAAW,sCALf,SAQE,qBACC3R,UAAWwR,EADZ,SAGGpS,EAAM4B,aCVA,SAAS4Q,GAAWxS,GAEjC,IAAQyF,EAAamD,cAAbnD,SACFoD,EAAUC,cAChB,EAA0B3E,mBAAS,GAAnC,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAA4BtO,mBAAS,GAArC,mBAAOuO,EAAP,KAAeC,EAAf,KACQvB,EAAepR,EAAfoR,WAaR,OAZArJ,qBAAU,WAIR,GAHIqJ,EAAWwB,aACbH,EAASrB,EAAWwB,aAElBxB,EAAWC,YAAa,CAC1B,IAAI3B,EAAM,EACV0B,EAAWC,YAAY1B,SAAQ,SAAC3I,GAC9B0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,MAEX,CAAC0B,IAEF,cAACe,GAAD,CAAgBC,YAAY,OAA5B,SACE,cAAC1I,EAAA,EAAD,CAAK9I,UAAU,yBAAf,SACE,cAAC+I,EAAA,EAAD,CAAKE,GAAG,KAAKD,GAAG,IAAhB,SACE,cAACgG,GAAA,EAAD,CAAMhP,UAAU,WAAhB,SACE,eAAC8I,EAAA,EAAD,CAAK9I,UAAU,8BAAf,UACE,cAAC+I,EAAA,EAAD,CAAKE,GAAG,IAAID,GAAG,GAAf,SACE,eAACgG,GAAA,EAAKK,KAAN,CAAWrP,UAAU,OAArB,UACE,uBACEA,UAAU,mBADZ,UAGG8R,EAHH,qBAKA,oBAAI9R,UAAU,oBAAd,SACGyN,GAAeQ,UAItB,cAAClF,EAAA,EAAD,CAAKE,GAAG,IAAIjJ,UAAU,eAAtB,SAEE,cAACoC,EAAA,EAAD,CACE6P,UAAWhE,EACXtO,MAASsO,EAEL,KAFc,CAChBiE,QAAS,IAEX5P,QAAS,WACP2F,EAAQlB,KAAR,6BAAmClC,KAErC7E,UAAU,oDARZ,oC,wBC5BDmS,OAff,SAAmB/S,GACsCA,EAA/CkC,KAAR,IAAcuO,EAAyCzQ,EAAzCyQ,WAAYvC,EAA6BlO,EAA7BkO,KAAgBwD,GAAa1R,EAAvBsP,SAAuBtP,EAAb0R,UAC1C,OACE,sBAAK9Q,UAAU,OAAf,UACE,cAACgP,GAAA,EAAD,CAAMhP,UAAWkL,KAAG4B,KAAOsF,YAA3B,SACE,qBAAK/Q,IAAKwO,EAAY7P,UAAU,cAAcL,MAAO,CAAC0S,UAAU,aAElE,sBAAKrS,UAAU,OAAf,UACE,sBAAMA,UAAU,+BAA+BL,MAAO,CAACkQ,WAAY,uBAAnE,SAA4FiB,IAC5F,qBAAK9Q,UAAWkL,KAAG,4CAAnB,SAAiEoC,W,SCT1D,SAASgF,GAAOlT,GAC7B,IAAOkO,EAAQlO,EAARkO,KACP,OACE,qBAAKtN,UAAU,kEAAf,SACE,sBAAKA,UAAU,MAAf,UACE,cAAC,KAAD,CAAe2J,KAAM,KACrB,qBAAK3J,UAAU,OAAf,SAAuBsN,GAAQ,iBCDxB,SAASiF,GAAUnT,GAChC,MAAyEiI,IAAlEnD,EAAP,EAAOA,OAAQE,EAAf,EAAeA,cAAeuB,EAA9B,EAA8BA,kBAA8BE,GAA5D,EAAiDlD,UAAjD,EAA4DkD,WACrD2M,EAAWpT,EAAXoT,QACA3N,EAAYmD,cAAZnD,SACDoD,EAAUC,cAChB,EAA8B3E,oBAAS,GAAvC,mBAAOkP,EAAP,KAAgBC,EAAhB,KACA,EAA4CnP,mBAAS,IAArD,mBAAOoP,EAAP,KAAuBC,EAAvB,KAwCA,OAtBAzL,qBAAU,WASR,GAPKjD,EAAOpG,SACV4U,GAAW,GACX7M,EAAUhB,GAAU,IAEnBX,EAAOpG,QACR4U,GAAW,GAEVC,EAAe7U,QAAUsG,EAAc/E,IAAMD,EAAMyT,WAAW,CAC/D,IAAMC,EAAgB/G,SAASC,eAAe,8BACxC+G,EAAmBhH,SAASC,eAAT,mBAAoC5H,EAAc/E,KAEvE2T,EAAaD,EAAiBC,WAC9BC,EAAQF,EAAiBG,WAC7BJ,EAAcK,OAAOH,GAAcC,EAAQ,IAAM,MAElD,CAAC/O,IAEJiD,qBAAU,YA1BmB,WAC3B,IAAM1G,EAAU+R,EAAWA,EAAQY,cAAgB,GAC7CC,EAAWnP,EAAOzD,QAAO,SAAAjB,GAC7B,OAAgD,GAAzCA,EAAEkC,KAAK0R,cAAc1U,QAAQ+B,IAA6B,GAAZjB,EAAE8T,UAEzDV,EAAkBS,GAsBlBE,KACC,CAACf,EAAStO,IAEX,qCAEEuO,GACA,qBAAKzS,UAAU,cAAf,SACE,cAAC,KAAD,CAA2BA,UAAU,yBAAyB2J,KAAM,OAUxEgJ,EAAe7U,OACb,cAAC+K,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,oBAAIvB,UAAU,UAAd,sBACc,KAElB,qBAAKA,UAAWkL,KAAG,CACjB,YAAc9L,EAAMyT,WACpB,QAAUzT,EAAMyT,aAFlB,SAIE,qBAAKxT,GAAI,6BAA+BW,UAAWkL,KAAG,CAAC,0BAA4B9L,EAAMyT,aAAzF,SACE,cAAC/J,EAAA,EAAD,CAAK9I,UAAWkL,KAAG,CAAC,cAAgB9L,EAAMyT,aAA1C,SACCF,EAAe/F,KAAI,SAACxG,EAAMmH,GAAW,IAAD,IACnC,OAEEnH,EAAKkN,OACL,cAACvK,EAAA,EAAD,CACEE,GAAG,IACHD,GAAG,IAEH1G,QAAS,kBAzEI,SAAC8D,GACxBT,EAAkBS,GACfhH,EAAMiM,QACPpD,EAAQoD,SAEPjM,EAAMoU,QACPvL,EAAQlB,KAAR,mCAAyClC,EAAzC,UAmEuB4O,CAAiBrN,IAChCpG,UAAWkL,KAAG,gBACX4B,KAAO4G,SAAYtU,EAAMyT,aAE5BxT,GAAE,mBAAc+G,EAAK/G,IARvB,SAUE,cAAC,GAAD,CACEyR,SAAU1K,EAAK0K,SACfxP,KAAI,UAAE8E,EAAK9E,YAAP,aAAE,EAAWsH,WACjBiH,WAAU,UAAEzJ,EAAKiE,mBAAP,aAAE,EAAkBzB,WAC9B0E,KAAMlH,EAAK1E,KACXgN,SAAUtI,EAAK/G,KAAO+E,EAAc/E,MAZjCkO,GAeL,iB,ICvGV,GAAO,G,6BCOI,SAASoG,GAAmBvU,GACzC,IAAQwU,EAAexU,EAAfwU,WAER,EAAgDrQ,mBAAS,IAAzD,mBAAOsQ,EAAP,KAAyBC,EAAzB,KACM/T,EAAOX,EAAMW,KAAOX,EAAMW,KAAO,QAoCvCoH,qBAAU,WACR,IAAI4M,EAAM,GACN3U,EAAMiP,iBACWrI,IAAf4N,GACFxU,EAAMiP,UAAUU,SAAQ,SAAC3I,GACvB2N,EAAIhN,KAAK,OAEX+M,EAAoBC,IAEhB3U,EAAM4U,iBACR5U,EAAMiP,UAAUU,SAAQ,SAAC3I,GACvB,IAAI6N,EAAO,GACX7U,EAAM4U,eAAejF,SAAQ,SAACmF,GACxBA,EAAM7U,KAAO+G,EAAK/G,IACpB4U,EAAKlN,KAAKmN,MAGdH,EAAIhN,KAAKkN,MAEXH,EAAoBC,OAIzB,CAAC3U,EAAMiP,UAAWjP,EAAM4U,iBAG3B,IAAMG,EAAmB,SAACC,EAAUC,GAClC,QAAKD,EAASE,QAAQxW,QAKpB,cAACyW,GAAA,EAAD,CAAWlS,QAAQ,QAAnB,SACG+R,EAASE,QAAQ1H,KAAI,SAACxG,EAAMmH,GAC3B,OACE,eAACgH,GAAA,EAAUrH,KAAX,CAEE5K,QAAS,SAACkG,IAtEM,SAACgM,EAAaC,EAAQlH,GAShD,IAAImH,EAAI,aAAOb,EAAiBtG,IAIhC,QAAcvH,IAHF0O,EAAKvO,MAAK,SAACC,GACrB,OAAOA,EAAK1E,OAAS+S,EAAO/S,QAEL,CACvBgT,EAAK3N,KAAK,CACR1H,GAAImV,EACJ9S,KAAM+S,EAAO/S,KACboO,MAAO2E,EAAO3E,QAEhB,IAAI6E,EAAG,aAAOd,GACdc,EAAIpH,GAASmH,EACbZ,EAAoBa,GACpBvV,EAAMwV,sBAAsBD,OACvB,CACL,IAAIZ,EAAMW,EAAKjU,QAAO,SAAC2F,GACrB,OAAOA,EAAK1E,OAAS+S,EAAO/S,QAE1BiT,EAAG,aAAOd,GACdc,EAAIpH,GAASwG,EACbD,EAAoBa,GACpBvV,EAAMwV,sBAAsBD,IAyClBE,CAAoBT,EAAS/U,GAAI+G,EAAMiO,IAEzCrU,UAAS,oEACP6T,EAAiBO,EAAS/U,MAAQkO,EAAQ,EACtC,UACA,YARR,UAWE,8BACE,cAAChE,EAAA,EAAD,UACE,cAACA,EAAA,EAAKuL,MAAN,CACEC,UAAQ,EACRC,aACuChP,IAArC6N,EAAiBQ,SAGVrO,IAFP6N,EAAiBQ,GAAgBlO,MAAK,SAAC8O,GACrC,OAAOA,EAAIvT,OAAS0E,EAAK1E,QAK7B3B,KAAMA,EACNiH,MAAOZ,EAAK1E,WAIjB+E,WAAWL,EAAK0J,OAAS,GAAK,sCAAS1J,EAAK0J,WA3BxCvC,SAkCjB,OAAO2H,MAAMC,QAAQ/V,EAAMiP,YAAcjP,EAAMiP,UAAUvQ,OACrDsB,EAAMiP,UAAUzB,KAAI,SAACwH,EAAUC,GAC7B,OACE,qCACE,qBAAKrU,UAAU,mBAAf,SACE,cAAC6I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,mBAAGvB,UAAU,eAAb,SAA6BoU,EAAS1S,UAFH0S,EAAS/U,IAK/C8U,EAAiBC,EAAUC,SAIlC,KC3HS,SAASe,GAAkBhW,GACxC,IAAQwU,EAAexU,EAAfwU,WAER,EAA8CrQ,mBAAS,IAAvD,mBAAO8R,EAAP,KAAwBC,EAAxB,KACMvV,EAAOX,EAAMW,KAAOX,EAAMW,KAAO,QAyBvCoH,qBAAU,WACR,GAAI/H,EAAMgP,SACR,QAAmBpI,IAAf4N,EAA0B,CAC5B,IAAI1N,EAAM,GACV9G,EAAMgP,SAASW,SAAQ,SAAC3I,GAAD,OAAUF,EAAIE,EAAK/G,IAAM+G,EAAKkO,QAAQ,MAC7DgB,EAAmBpP,GACnB9G,EAAMmW,sBAAsBrP,OACvB,CAAC,IAAD,EACL,aAAI9G,EAAMoW,qBAAV,aAAI,EAAqB9T,KAAM,CAC7B,IAAIqS,EAAM3U,EAAMoW,cAAc9T,KAAK+T,MAAM,OAEzC,GAAG1B,EAAIjW,OAAO,CACZ,IAAIoI,EAAM,GACV6N,EAAIhF,SAAQ,SAAC3I,GAEXhH,EAAMgP,SAASW,SAAQ,SAAC1M,GACtB,IAAIhD,EAAKgD,EAAQhD,GACXoV,EAASpS,EAAQiS,QAAQnO,MAAK,SAACsO,GAAD,OAAYA,GAAUrO,KACvDqO,IACDvO,EAAI7G,GAAMoV,SAIhBa,EAAmBpP,QAQ1B,CAAC9G,EAAMgP,SAAUhP,EAAMoW,gBAG1B,IAAMrB,EAAmB,SAAC9R,EAAShD,GACjC,QAAKgD,EAAQiS,QAAQxW,QAMnB,cAACyW,GAAA,EAAD,CAAWlS,QAAQ,QAAnB,SACGA,EAAQiS,QAAQ1H,KAAI,SAACxG,EAAMmH,GAC1B,OACE,cAACgH,GAAA,EAAUrH,KAAX,CAEE5K,QAAS,SAACkG,IApEK,SAACiM,EAAQpV,GAYlC,IAAMqW,EAAe,2BAChBL,GADgB,mBAElBhW,EAAMoV,IAETa,EAAmBI,GACnBtW,EAAMmW,sBAAsBG,GAoDhBC,CAAmBvP,EAAM/G,IAE3BW,UAAS,4DALX,SAOE,8BACE,cAACuJ,EAAA,EAAD,UACE,cAACA,EAAA,EAAKuL,MAAN,CACEC,UAAQ,EACRhV,KAAMA,EACNiH,MAAOZ,EACP4O,QACEK,EAAgBhW,KAAQ+G,SAb3BmH,SAyBjB,OAAO2H,MAAMC,QAAQ/V,EAAMgP,WAAahP,EAAMgP,SAAStQ,OACnDsB,EAAMgP,SAASxB,KAAI,SAACvK,EAASuT,GAC3B,OACE,qCACE,qBAAK5V,UAAU,mBAAf,SACE,cAAC6I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,mBAAGvB,UAAU,eAAb,SAA6BqC,EAAQX,UAFFW,EAAQhD,IAK9C8U,EAAiB9R,EAASA,EAAQhD,UAIzC,KFrHN,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAW5B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASkY,GAAgB7W,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDiU,MAAO,GACPnS,OAAQ,GACRpB,QAAS,YACToW,KAAM,eACNxW,MAAO,6BACPQ,IAAKb,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E6W,SAAU,UACVC,SAAU,UACV/V,EAAG,4ZACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChEA,EAAG,8NAIP,IGpCI,GHoCA,GAA0B,aAAiB4V,IGlC3C,IHmCW,IGnCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWpY,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASsY,GAAejX,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDiU,MAAO,GACPnS,OAAQ,GACRpB,QAAS,YACToW,KAAM,eACNxW,MAAO,6BACPQ,IAAKb,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E6W,SAAU,UACVC,SAAU,UACV/V,EAAG,6kBAIP,IClCI,GDkCA,GAA0B,aAAiBgW,IAChC,IExBA,SAASC,GAAiB9W,GAEvC,IAAOwU,EAAcxU,EAAdwU,WACP,OACE,wBACE5T,UAAU,wDACVL,MAAO,CAAEa,OAAQ,MAFnB,SAIE,cAAC+I,EAAA,EAAD,UACE,eAACT,EAAA,EAAD,CAAK9I,UAAU,MAAf,UACE,cAAC+I,EAAA,EAAD,CAAKE,GAAG,IAAIjJ,UAAU,YAAtB,SACE,eAACuJ,EAAA,EAAKmB,MAAN,CAAY1K,UAAU,oDAAtB,UACE,8BACE,cAACoC,EAAA,EAAD,CACEC,QAAQ,WACRC,QAAS,kBAAMlD,EAAMyP,YAAYzP,EAAMwP,SAAW,IAFpD,SAIE,cAAC,GAAD,QAGJ,8BACGxP,EAAMwP,UACL,qBAAK5O,UAAU,oBAAf,SAAoCZ,EAAMwP,aAG9C,8BACE,cAACxM,EAAA,EAAD,CACEC,QAAQ,WACRC,QAAS,kBAAMlD,EAAMyP,YAAYzP,EAAMwP,SAAW,IAFpD,SAIE,cAAC,GAAD,aAKR,cAAC7F,EAAA,EAAD,CAAKE,GAAG,IAAIjJ,UAAU,eAAtB,SACK4T,EA8BD,eAACxR,EAAA,EAAD,CACEE,QAAS,kBAAMlD,EAAM+W,sBACrB9T,QAAQ,UACRrC,UAAU,qEAHZ,8BAKoB,IACjBZ,EAAM0Q,OACL,mCAEI1Q,EAAMwQ,cAAgB,EACtB,sBAAK5P,UAAU,yCAAf,UACE,sBAAMA,UAAU,gDAAhB,SACGyN,GAAerO,EAAM0Q,SAExB,8BACGrC,GAAerO,EAAM0Q,MAAQ1Q,EAAMwQ,oBAIxC,+BACGnC,GAAerO,EAAM0Q,cAjDhC,eAAC1N,EAAA,EAAD,CACEE,QAAS,kBAAMlD,EAAMgX,mBACrB/T,QAAQ,UACRrC,UAAU,qEAHZ,2BAMGZ,EAAM0Q,OACL,mCAEI1Q,EAAMwQ,cAAgB,EACtB,sBAAK5P,UAAU,yCAAf,UACE,sBAAMA,UAAU,gDAAhB,SACGyN,GAAerO,EAAM0Q,SAExB,8BACGrC,GAAerO,EAAM0Q,MAAQ1Q,EAAMwQ,oBAIxC,+BACGnC,GAAerO,EAAM0Q,uBDlE9C,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAWrS,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAAS0Y,GAASrX,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDiU,MAAO,GACPnS,OAAQ,GACRpB,QAAS,YACToW,KAAM,eACNxW,MAAO,6BACPQ,IAAKb,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3Ee,EAAG,gjBACH6V,KAAM,mBAIV,IAAI,GAA0B,aAAiBO,IAChC,IEbR,SAASC,GAAWlX,GAAO,IAAD,IACxBmX,EAAqCnX,EAArCmX,sBAAuB3C,EAAcxU,EAAdwU,WAC9B,EAAmCvM,IAA5B7C,EAAP,EAAOA,OAAQC,EAAf,EAAeA,UAAW5B,EAA1B,EAA0BA,MAC1B,EAAwBU,oBAAS,GAAjC,mBAAOsI,EAAP,KAAaC,EAAb,KACA,EAAgCvI,mBAAS,IAAzC,mBAAOiT,EAAP,KAAiBC,EAAjB,KACA,EAAkDlT,mBAAS,IAA3D,mBAAOmT,EAAP,KAA0BC,EAA1B,KACA,EAAoCpT,mBAAS,IAA7C,mBAAOqT,EAAP,KAAmBC,EAAnB,KACA,EAA0BtT,mBAAS,GAAnC,mBAAOuM,EAAP,KAAcgH,EAAd,KACA,EAAwCvT,mBAAS,GAAjD,mBAAOwT,EAAP,KAAqBC,EAArB,KACA,EAAkCzT,mBAAS,IAA3C,mBAAO0T,EAAP,KAAkBC,EAAlB,KACA,EAAwC3T,qBAAxC,mBAAO4T,EAAP,KAAqBC,EAArB,KACMC,EAAc,WAElB3K,YAAW,WACTjI,EAAU,MACVgS,EAAY,IACZW,EAAgB,IAChBT,EAAqB,IACrBE,EAAc,IACdG,EAAgB,GAChBF,EAAS,KACR,KACHhL,GAAQ,GACRyK,KAyBIe,EAAa,uCAAG,8BAAAxS,EAAA,sEACFyC,EAAe/C,GADb,UAEF,OADZQ,EADc,QAEbsO,OAFa,gCAGZmD,EAAW,UAACzR,EAAInD,YAAL,aAAC,EAAUA,MAHV,2CAAH,qDAMb0O,GAAQ,uCAAG,gCAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,gCAGOsI,GAAa9E,EAAMxD,IAH1B,QAIX,QADM2F,EAHK,cAIX,IAAGA,OAAH,EAAGA,EAAKnD,QACAgB,EAAQmC,EAAInD,KAAKA,KAAKgB,MACxB0U,EAAa1U,EAAM4N,YAAYtK,MAAK,SAACC,GACvC,OAAOA,EAAK/G,IAAMuU,KAEpB3R,QAAQC,IAAIqV,GACZL,EAAaK,GACbZ,EAAqBY,EAAWlJ,WAChC+I,EAAgBG,EAAWnJ,UAC3B4I,EAAgBO,EAAW3I,UACxB2I,EAAWC,aACZX,EAAcU,EAAWC,cAflB,uDAqBbvV,QAAQC,IAAR,MArBa,yDAAH,qDAwBRiU,GAAkB,uCAAG,gCAAArR,EAAA,6DACrBW,EAAW,CACbmJ,SAAUmI,GAGR1I,EAAYqI,EAAkB9J,KAAI,SAACxG,GACrC,OAAO,2BAAKA,GAAZ,IAAkBwI,SAAUmI,OAE9BtR,EAAQ,UAAgB4I,EACrBuI,IACDnR,EAAS+R,YAAcZ,IAEzB,OAAIO,QAAJ,IAAIA,OAAJ,EAAIA,EAAczV,MAChB+D,EAAQ,QAAc,CACpB/D,KAAMyV,EAAazV,KACnBoO,MAAOrJ,WAAW0Q,EAAarH,OAC/BlB,SAAUmI,EACVzF,eAAgB7K,WAAW0Q,EAAa7F,iBAAmB,GAG7D7L,EAAQ,QAAc,GAExBxD,QAAQC,IAAIuD,GAtBa,kBAwBLqC,GAAgB8L,EAAYnO,GAxBvB,OAwBjBT,EAxBiB,OAyBvB/C,QAAQC,IAAI8C,EAAInD,MAChBwV,IA1BuB,kDA4BvBpV,QAAQC,IAAR,MA5BuB,0DAAH,qDA+BlBkU,GAAe,uCAAG,gCAAAtR,EAAA,6DAClBW,EAAW,CACbgL,YAAa,CACX,CACEC,aAAc+G,SAASjT,GACvBoK,SAAUmI,KAIbH,IACDnR,EAASgL,YAAY,GAAG+G,YAAcZ,GAGpCvI,EAAYqI,EAAkB9J,KAAI,SAACxG,GACrC,OAAO,2BAAKA,GAAZ,IAAkBwI,SAAUmI,OAE9BtR,EAASgL,YAAY,GAArB,UAAuCpC,GAEvC,OAAI8I,QAAJ,IAAIA,OAAJ,EAAIA,EAAczV,MAChB+D,EAASgL,YAAY,GAArB,SAAsC,CACpC/O,KAAMyV,EAAazV,KACnBoO,MAAOrJ,WAAW0Q,EAAarH,OAC/BwB,eAAgB7K,WAAW0Q,EAAa7F,iBAAmB,EAC3D1C,SAAUmI,GAIZtR,EAASgL,YAAY,GAArB,SAAsC,GA3BlB,kBA8BFhJ,GAAU5E,EAAMxD,GAAIoG,GA9BlB,QAgCpB,QAFMT,EA9Bc,cAgCpB,IAAGA,OAAH,EAAGA,EAAKnD,OACNwV,IAjCkB,kDAoCpBpV,QAAQC,IAAR,MApCoB,0DAAH,qDAsErB,OA3BAiF,qBAAU,WACL3C,IACDsH,GAAQ,GACRwL,IACG1D,GACDrD,QAGH,CAAC/L,IACJ2C,qBAAU,WAEJ,GAAI4P,EAAe,EAAG,CACpBD,EAAQ,OAACN,QAAD,IAACA,OAAD,EAACA,EAAU1G,OAEnB,IAAI4H,EAAgB,EACpBhB,EAAkB3H,SAAQ,SAAC3I,GACzBsR,GAAgCjR,WAAWL,EAAK0J,WAElD,OAAIqH,QAAJ,IAAIA,OAAJ,EAAIA,EAAcrH,OAChBgH,EACEC,GAAgBtQ,WAAU,OAAC0Q,QAAD,IAACA,OAAD,EAACA,EAAcrH,OAAS4H,IAGpDZ,EAASC,GAAgBtQ,WAAU,OAAC+P,QAAD,IAACA,OAAD,EAACA,EAAU1G,OAAS4H,OAG9D,CAAClT,EAAQuS,EAAcP,EAAUE,EAAmBS,EAAcF,IAEnE,eAACU,GAAA,EAAD,CAAW9L,KAAMA,EAAM+L,OAAQP,EAAaQ,UAAW,MAAO7X,UAAU,gBAAgBL,MAAO,CAC7FsT,MAAM,QADR,UAGE,cAAC0E,GAAA,EAAUG,OAAX,CACE9X,UAAU,UACVL,MAAO,CAACoB,UAAW,SAFrB,SAIE,cAACqB,EAAA,EAAD,CACEC,QAAQ,OACRrC,UAAU,0BACVsC,QAAS+U,EACT1X,MAAO,CACLkQ,WAAY,iBACZzD,QAAS,YANb,SASE,cAAC,KAAD,CAAepM,UAAU,iBAAiB2J,KAAM,SAGpD,qBAAKtI,KAAK,UAACmV,EAASjH,aAAV,aAAC,EAAgB3G,YAAjB,UAA+B4N,EAASjH,aAAxC,aAA+B,EAAgB3G,WAAa4G,GAAcxP,UAAU,oBAAoBL,MAAO,CAACmB,OAAO,QAASmS,MAAM,OAAQZ,UAAU,QAAS7R,OAAO,QAClL,eAACqI,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,OAA3B,UACE,sBAAKA,UAAU,oDAAf,UACE,oBAAIA,UAAU,6BAAd,gBAA4CwW,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAU9U,OACtD,gCACE,qBAAK1B,UAAU,iCAAf,SACGmO,GAAeqI,KAElB,qBAAKxW,UAAU,oDAAf,SAEIyG,WAAU,OAAC+P,QAAD,IAACA,OAAD,EAACA,EAAUlF,gBAAkB,EACrC7D,GAAea,GAAqBkI,EAAS1G,MAAO0G,EAASlF,iBAC7D7D,GAAc,OAAC+I,QAAD,IAACA,OAAD,EAACA,EAAU1G,QAAU,IAGxCrJ,WAAU,OAAC+P,QAAD,IAACA,OAAD,EAACA,EAAUlF,gBAAkB,GAAK,qBAAKtR,UAAU,wCAAf,SAAwDyN,GAAc,OAAC+I,QAAD,IAACA,OAAD,EAACA,EAAU1G,eAGlI,mBAAG9P,UAAU,QAAQL,MAAO,CAAC8B,MAAO,sBAApC,SAA4D+U,EAASzG,iBAEvE,cAAC4D,GAAD,CACItF,UAAS,OAAEmI,QAAF,IAAEA,OAAF,EAAEA,EAAUnI,UACrB2F,eAAc,OAAEiD,QAAF,IAAEA,OAAF,EAAEA,EAAW5I,UAC3BuF,WAAYA,EACZhK,UAAU,EACVgL,sBAtMsB,SAACxO,GAC7B,IAAIuO,EAAM,GACVvO,EAAK2I,SAAQ,SAACmF,GACZA,EAAMnF,SAAQ,SAACgJ,GACbpD,EAAI5N,KAAKgR,SAGb9V,QAAQC,IAAIyS,GACZgC,EAAqBhC,IA+Lf5U,KAAK,aAGT,cAACqV,GAAD,CACEhH,SAAQ,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAUpI,SACpBwF,WAAYA,EACZ4B,cAAa,OAAEyB,QAAF,IAAEA,OAAF,EAAEA,EAAW7I,SAC1BrO,KAAK,QACLwV,sBArMwB,SAACrP,GAE7B,GAAIsQ,EAASwB,eAAela,OAAQ,CAElC,IAAMiW,EAAMtW,OAAOwa,OAAO/R,GACtBgS,EAAY1B,EAASwB,eAAe,GAAG1D,QAAQnO,MACjD,SAACC,GAAD,OAAU2N,EAAIoE,OAAM,SAAA3Y,GAAC,OAAI4G,EAAK1E,KAAK0W,SAAS5Y,SAE9CyC,QAAQC,IAAIgW,GACZd,EAAgBc,OA8LhB,cAACrP,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,OACzBL,MAAO,CAAC0Y,aAAa,QADvB,SAGE,cAAC9O,EAAA,EAAD,CAAMvJ,UAAU,OAAhB,SAEE,eAACuJ,EAAA,EAAKmB,MAAN,CAAY1K,UAAU,4BAAtB,UACE,cAACuJ,EAAA,EAAK+O,MAAN,CAAYtY,UAAU,OAAtB,SACE,sBAAMA,UAAU,eAAhB,SACE,cAAC,GAAD,QAGJ,cAACuJ,EAAA,EAAKG,QAAN,CACEG,YAAY,2CACZ7J,UAAU,8BACV4F,MAAOgR,EACP9M,SAAU,SAACtB,GAAD,OAAOqO,EAAcrO,EAAE7K,OAAOiI,iBAMhD,cAACsQ,GAAD,CACEtH,SAAUmI,EACVlI,YAAamI,EACblH,MAAOA,EACPF,eAAe,OAACuH,QAAD,IAACA,OAAD,EAACA,EAAc7F,gBAAkB7K,WAAU,OAAC0Q,QAAD,IAACA,OAAD,EAACA,EAAc7F,gBAAkB,EAC3F8E,gBAAiBA,GACjBD,mBAAoBA,GACpBvC,WAAYA,OC1QL,SAAS2E,KAAQ,IAAD,MAC7B,EAAqDlR,IAA7CjD,EAAR,EAAQA,cAAevB,EAAvB,EAAuBA,MAAOgD,EAA9B,EAA8BA,UAAWvB,EAAzC,EAAyCA,QAGjCO,EAAamD,cAAbnD,SAER,EAAgCtB,mBAAS,IAAzC,mBAAOiV,EAAP,KAAiBC,EAAjB,KACA,EAA4ClV,mBAAS,IAArD,mBAAOmV,EAAP,KAAuBC,EAAvB,KACA,EAAwCpV,mBAAS,IAAjD,mBAAOqV,EAAP,KAAqBC,EAArB,KAmBA1R,qBAAU,YAjBqB,WAC7B,IAAI2R,EAAc,GACdvM,EAAa,QACWvG,IAAxB5B,EAAcpB,OAChBoB,EAAcpB,MAAM+L,SAAQ,SAAC3I,GACT,IAAD,EAAdA,EAAK0K,WACMgI,EAAYV,SAAZ,UAAqBhS,EAAK0K,gBAA1B,aAAqB,EAAezR,MAE9CyZ,EAAY/R,KAAKX,EAAK0K,SAASzR,IAC/BkN,EAAWxF,KAAK,CAAEC,MAAOZ,EAAK0K,SAASpP,KAAMrC,GAAI+G,EAAK0K,SAASzR,UAMvEwZ,EAAgBtM,GAGhBwM,GACAN,EAAYrU,EAAcpB,OAC1B2V,EAAkBvU,EAAcpB,SAE/B,CAACoB,IACJ,MAAwCb,oBAAS,GAAjD,mBAAOyV,EAAP,KAAqBC,EAArB,KA4BA,EAAoC1V,mBAAS,IAA7C,mBAAOiN,EAAP,KAAmB0I,EAAnB,KACM3I,EAAQ,uCAAG,8BAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,gCAGOsI,GAAa9E,EAAMxD,IAH1B,QAIX,QADM2F,EAHK,cAIX,IAAGA,OAAH,EAAGA,EAAKnD,QACAgB,EAAQmC,EAAInD,KAAKA,KAAKgB,MAC5BqW,EAAcrW,IANL,uDAUbZ,QAAQC,IAAR,MAVa,yDAAH,qDAiCd,OAbAiF,qBAAU,WACLuR,EAAe5a,QAAUwG,GACvB8E,QACDA,OAAO+J,OAAO,EAAE7O,KAGnB,CAACoU,IACJvR,qBAAU,WACRoJ,MACC,CAAC1N,IACJsE,qBAAU,WACRtB,EAAUhB,GAAU,KACnB,IAED,eAAC,EAAD,WACE,cAACkG,GAAD,CAAYoF,MAAOtL,EAAUsG,KAAM,OAAQnL,UAAW,mBACtD,cAACsW,GAAD,CACEC,sBAtBwB,SAAC3Y,GAC7B2S,OA2BE,qBAAK5Q,MAAO,CAACkQ,WAAW,OAAD,iBAASzL,EAAciG,mBAAvB,aAAS,EAA2BzB,WAApC,aAA2DlI,eAAe,SAAjG,SACE,qBACEf,MAAO,CAACmB,OAAQ,SAChBd,UAAU,uDAId,qBAAKA,UAAU,2BAA2BL,MAAO,CAACsB,UAAW,SAA7D,SACE,eAAC4H,EAAA,EAAD,WACE,qBAAKxH,IAAG,UAAE+C,EAAc9C,YAAhB,aAAE,EAAoBsH,WAAY5I,UAAW,mDAAqDL,MAAO,CAACmB,OAAO,OAAQuR,UAAU,UAAWpR,UAAW,cACjK,oBAAIjB,UAAU,eAAd,SAA8BoE,EAAc1C,YAGhD,qBAAK1B,UAAU,SAAf,SACE,gCACE,sBAAKA,UAAU,qCAAf,UACE,cAAC6I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,cAACuH,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAKE,GAAG,KAAR,SAEE,cAACsC,GAAD,CAEEC,eA7FK,SAAC5F,GAGtB,IAAMnF,EAAUmF,EAASA,EAAMwN,cAAgB,GAC/C,GAAG3S,EAAO,CACR,IAAIoB,EAAO,GACX2W,EAASzJ,SAAQ,SAAC3I,GAAU,IAAD,GAEvBA,EAAK1E,KAAK0R,cAAc1U,QAAQ+B,IAAW,GAC3C2F,EAAK2J,YAAYqD,cAAc1U,QAAQ+B,IAAW,IAClD,UAAA2F,EAAK0K,gBAAL,eAAepP,KAAK0R,cAAc1U,QAAQ+B,KAAW,IAErDoB,EAAKkF,KAAKX,MAGM,IAAhBvE,EAAK/D,OACPmb,GAAgB,IAEhBA,GAAgB,GAChBN,EAAkB9W,SAGpB8W,EAAkBH,GAClBS,GAAgB,YA4EV,cAAC3M,GAAD,CAAcC,WAAYqM,QAG1BI,GACA,cAAC/I,GAAD,CACEhM,KAAMyU,EACNnM,WAAYqM,EACZ1I,OAAQM,EACRL,MAAOtL,IAGVmU,GAAgB,qBAAKhZ,UAAU,cAAf,SAA6B,cAACsS,GAAD,CAAQhF,KAAM,oCAE3D,UAAAkD,EAAWC,mBAAX,eAAwB3S,QAAS,cAAC8T,GAAD,CAAYpB,WAAYA,IAAiB,a,wBC3ItE,SAAS2I,KAAc,IAAD,EAC3BtW,EAASwE,IAATxE,MACR,EAAmCmF,cAA3BR,EAAR,EAAQA,QAAS4R,EAAjB,EAAiBA,cAEjB,EAAwC7V,mBAAS,GAAjD,mBAAOwT,EAAP,KAAqBC,EAArB,KACA,EAAgCzT,mBAAS,IAAzC,mBAAOiT,EAAP,KAAiBC,EAAjB,KACA,EAA0BlT,qBAA1B,mBAAOuM,EAAP,KAAcgH,EAAd,KACM7O,EAAUC,YAAW,GAC3B,EAAkD3E,mBAAS,IAA3D,mBAAOmT,EAAP,KAA0BC,EAA1B,KACA,EAAoCpT,mBAAS,IAA7C,mBAAOqT,EAAP,KAAmBC,EAAnB,KAYA,EAAwCtT,qBAAxC,mBAAO4T,EAAP,KAAqBC,EAArB,KAWMhB,EAAe,uCAAG,gCAAAtR,EAAA,6DAClBW,EAAW,CACbgL,YAAa,CACX,CACEC,aAAc+G,SAASjQ,GACvBoH,SAAUmI,KAIbH,IACDnR,EAASgL,YAAY,GAAG+G,YAAcZ,GAGpCvI,EAAYqI,EAAkB9J,KAAI,SAACxG,GACrC,OAAO,2BAAKA,GAAZ,IAAkBwI,SAAUmI,OAE9BtR,EAASgL,YAAY,GAArB,UAAuCpC,GAEvC,OAAI8I,QAAJ,IAAIA,OAAJ,EAAIA,EAAczV,MAChB+D,EAASgL,YAAY,GAArB,SAAsC,CACpC/O,KAAMyV,EAAazV,KACnBoO,MAAOrJ,WAAW0Q,EAAarH,OAC/BlB,SAAUmI,GAGZtR,EAASgL,YAAY,GAArB,SAAsC,GAzBlB,kBA4BFhJ,GAAU5E,EAAMxD,GAAIoG,GA5BlB,OA4BdT,EA5Bc,OA6BpB/C,QAAQC,IAAI8C,EAAInD,MAChBoG,EAAQoD,SA9BY,kDAgCpBpJ,QAAQC,IAAR,MAhCoB,0DAAH,qDAmCfiU,EAAkB,uCAAG,gCAAArR,EAAA,6DACrBW,EAAW,CACbmJ,SAAUmI,GAGR1I,EAAYqI,EAAkB9J,KAAI,SAACxG,GACrC,OAAO,2BAAKA,GAAZ,IAAkBwI,SAAUmI,OAE9BtR,EAAQ,UAAgB4I,EACrBuI,IACDnR,EAAS+R,YAAcZ,IAEzB,OAAIO,QAAJ,IAAIA,OAAJ,EAAIA,EAAczV,MAChB+D,EAAQ,QAAc,CACpB/D,KAAMyV,EAAazV,KACnBoO,MAAOrJ,WAAW0Q,EAAarH,OAC/BlB,SAAUmI,GAGZtR,EAAQ,QAAc,GAExBxD,QAAQC,IAAIuD,GArBa,kBAuBLqC,GAAgBsR,EAAe3T,GAvB1B,OAuBjBT,EAvBiB,OAwBvB/C,QAAQC,IAAI8C,EAAInD,MAChBoG,EAAQoD,SAzBe,kDA2BvBpJ,QAAQC,IAAR,MA3BuB,0DAAH,qDA+BxB,EAAkCqB,mBAAS,IAA3C,mBAAO0T,EAAP,KAAkBC,EAAlB,KACM3G,EAAQ,uCAAG,8BAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,iCAGOsI,GAAa9E,EAAMxD,IAH1B,OAGL2F,EAHK,OAIPuS,EAAavS,EAAInD,KAAKA,KAAK4O,YAAYtK,MAAK,SAACC,GAC/C,OAAOA,EAAK/G,IAAM+Z,KAEpBlC,EAAaK,GACbZ,EAAqBY,EAAWlJ,WAChC+I,EAAgBG,EAAWnJ,UAC3B4I,EAAgBO,EAAW3I,UACxB2I,EAAWC,aACZX,EAAcU,EAAWC,aAZhB,0DAgBbvV,QAAQC,IAAR,MAhBa,0DAAH,qDAqBRoV,EAAa,uCAAG,4BAAAxS,EAAA,sEACFyC,EAAeC,GADb,UAED,OADbxC,EADc,QAEZsO,OAFY,gCAGZmD,EAAYzR,EAAInD,KAAKA,MAHT,2CAAH,qDAMnBsF,qBAAU,WACRmQ,SACsBtR,IAAlBoT,GACF7I,IAEFnH,OAAOiQ,SAAS,EAAG,KAClB,IACH,IAAMC,EAAqB,uCAAG,WAAOja,GAAP,eAAAyF,EAAA,+EAER8C,GAAgBvI,GAFR,OAEpB2F,EAFoB,OAG1BiD,EAAQoD,SACRpJ,QAAQC,IAAI8C,EAAInD,MAJU,gDAM1BI,QAAQC,IAAR,MAN0B,yDAAH,sDAmC3B,OA1BAiF,qBAAU,WAUR,GARI4P,GAAgB,SACI/Q,IAAlBoT,EACFE,EAAsBF,GAEtBpC,EAAgB,IAIhBD,EAAe,EAAG,CAEpB,IAAIW,EAAgB,EACpBhB,EAAkB3H,SAAQ,SAAC3I,GACzBsR,GAAgCjR,WAAWL,EAAK0J,WAElD,OAAIqH,QAAJ,IAAIA,OAAJ,EAAIA,EAAcrH,OAChBgH,EACEC,GAAgBtQ,WAAU,OAAC0Q,QAAD,IAACA,OAAD,EAACA,EAAcrH,OAAS4H,IAGpDZ,EAASC,GAAgBtQ,WAAU,OAAC+P,QAAD,IAACA,OAAD,EAACA,EAAU1G,OAAS4H,OAG1D,CAACX,EAAcP,EAAUE,EAAmBS,EAAcF,IAG3D,eAAC,EAAD,WAEE,sBAAKjX,UAAU,YAAf,UACE,gCACE,qBAAKA,UAAW8M,KAAOyM,cAAvB,SACE,cAACnY,EAAA,EAAD,CACEG,OAAK,EACLF,KAAa,OAARmV,QAAQ,IAARA,OAAA,EAAAA,EAAUjH,OAAV,OAAkBiH,QAAlB,IAAkBA,GAAlB,UAAkBA,EAAUjH,aAA5B,aAAkB,EAAiB3G,WAAa,KACrD5I,UAAW8M,KAAO0M,yBAItB,qBACExZ,UAAU,yCACVL,MAAO,CAAEa,OAAQ,GAFnB,SAIE,cAAC4B,EAAA,EAAD,CACEE,QAAS,SAACkG,GAAD,OAAOP,EAAQoD,UACxBhJ,QAAQ,OACRrC,UAAU,2BACVL,MAAO,CAAEyM,QAAS,SAJpB,SAME,mBACEpM,UAAU,yBACVL,MAAO,CAAE8Z,SAAU,aAK3B,8BAEE,sBAAKzZ,UAAW8M,KAAO4M,mBAAvB,UACE,eAAC7Q,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,sBAAKvB,UAAU,oDAAf,UACE,oBAAIA,UAAU,6BAAd,gBAA4CwW,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAU9U,OACtD,gCACE,qBAAK1B,UAAU,iCAAf,SACGmO,GAAeqI,KAElB,qBAAKxW,UAAU,yCAAf,SACGyN,IAAuB,OAAR+I,QAAQ,IAARA,OAAA,EAAAA,EAAU1G,QAAS,WAIzC,mBAAG9P,UAAU,QAAb,gBAAsBwW,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAUzG,iBAGlC,cAAC4D,GAAD,CACEtF,UAAS,OAAEmI,QAAF,IAAEA,OAAF,EAAEA,EAAUnI,UACrB2F,eAAc,OAAEiD,QAAF,IAAEA,OAAF,EAAEA,EAAW5I,UAC3BzE,UAAU,EACVgL,sBAjNkB,SAACxO,GAC7B,IAAIuO,EAAM,GACVvO,EAAK2I,SAAQ,SAACmF,GACZA,EAAMnF,SAAQ,SAACgJ,GACbpD,EAAI5N,KAAKgR,SAGb9V,QAAQC,IAAIyS,GACZgC,EAAqBhC,IA0MX5U,KAAK,aAGP,cAACqV,GAAD,CACEhH,SAAQ,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAUpI,SACpBoH,cAAa,OAAEyB,QAAF,IAAEA,OAAF,EAAEA,EAAW7I,SAC1BrO,KAAK,QACLwV,sBA9MkB,SAACxB,GAC7B,IAAI4F,EAAU5F,EAAI6F,KAAK,OACvB,GAAIpD,EAASwB,eAAela,OAAQ,CAClC,IAAIoa,EAAY1B,EAASwB,eAAe,GAAG1D,QAAQnO,MACjD,SAACC,GAAD,OAAUA,EAAK1E,OAASiY,KAE1B1X,QAAQC,IAAIgW,GACZd,EAAgBc,OAyMV,uBACA,cAACrP,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,cAACgI,EAAA,EAAD,UAEE,eAACA,EAAA,EAAKmB,MAAN,CAAY1K,UAAU,4BAAtB,UACE,cAACuJ,EAAA,EAAK+O,MAAN,CAAYtY,UAAU,OAAtB,SACE,sBAAMA,UAAU,eAAhB,SACE,cAAC,GAAD,QAGJ,cAACuJ,EAAA,EAAKG,QAAN,CACEG,YAAY,2CACZ7J,UAAU,oBACV4F,MAAOgR,EACP9M,SAAU,SAACtB,GAAD,OAAOqO,EAAcrO,EAAE7K,OAAOiI,yBAUtD,cAACsQ,GAAD,CACEtH,SAAUmI,EACVlI,YAAamI,EACblH,MAAOA,EACPsG,gBAAiBA,EACjBD,mBAAoBA,OClRb,SAAS0D,GAA4Bza,GAElD,IAAM0a,IAAa1a,EAAM2V,UAAW3V,EAAM2V,SAepCgF,EAAc,SAAC3T,GACnB,IAAI4T,EAAY,EAIhB,GAHA5T,EAAKiI,UAAUU,SAAQ,SAAC4F,GACtBqF,GAAwBvT,WAAWkO,EAAI7E,OAAS1J,EAAKwI,YAEnDxI,EAAKgI,SAAS1M,KAAM,CACtB,IAAIoO,EACFrJ,WAAWL,EAAKgI,SAAS0B,OAAS1J,EAAKgI,SAASQ,SAAWoL,EAK7D,OAHG5T,EAAKgI,SAASkD,iBACfxB,GAAgB1J,EAAKgI,SAASkD,gBAEzBxB,EAGP,OADYrJ,WAAWL,EAAK0J,OAAS1J,EAAKwI,SAAWoL,GAIzD,OAAO9E,MAAMC,QAAQ/V,EAAM8Q,SAAW9Q,EAAM8Q,OAAOpS,OACjD,cAACyW,GAAA,EAAD,CACElS,QAAQ,QACR1C,MACGma,EAIG,GAHA,CACEG,cAAe,SALzB,SAWG7a,EAAM8Q,OAAOtD,KAAI,SAACxG,EAAMmH,GAAW,IAAD,EA3ChB2M,EA4CjB,OACE,eAAC3F,GAAA,EAAUrH,KAAX,CAA4BlN,UAAU,iBAAtC,UAEE,sBAAKA,UAAWkL,KAAG,iCAAiC,CAClD,2CAA0D,GAAb9E,EAAK+T,OADpD,UAGE,sBACEna,UAAU,mCACVL,MAAO,CAAEsT,MAAO,OAFlB,UAIE,sBAAKjT,UAAU,wBAAf,UAAwCoG,EAAKwI,SAA7C,OACA,sBAAK5O,UAAU,aAAf,UACE,mBAAGA,UAAWkL,KAAG,eAAgB,CAC/B,iBAAgC,GAAb9E,EAAK+T,KACxB,cAA6B,GAAb/T,EAAK+T,OAFvB,SAGK/T,EAAK1E,QA3DHwY,EA6DQ9T,EAAKiI,UA5D9B6G,MAAMC,QAAQ+E,IAAmBA,EAAepc,OAEhD,oBAAIkC,UAAU,qBAAd,SACGka,EAAetN,KAAI,SAAC6H,EAAQlH,GAC3B,OAAO,6BAAiBkH,EAAO/S,MAAf6L,QAKf,MA6CG,UAOGnH,EAAKgI,gBAPR,aAOG,EAAe1M,KAEf0E,EAAKoR,aACJ,8BACE,uBAAMxX,UAAU,aAAhB,UACE,sBAAMA,UAAU,oBAAhB,SACE,cAAC,GAAD,MAEDoG,EAAKoR,uBAOhB,8BACGpR,EAAK0J,OACJ,sBAAM9P,UAAU,UAAhB,SACGyN,GAAesM,EAAY3T,WAOrB,GAAbA,EAAK+T,MACL,qBAAKna,UAAU,WAAf,SACE,sBAAMA,UAAU,wDACdL,MAAO,CACLkQ,WAAY,WAFhB,4BAOJ,qBAAK7P,UAAU,WAAf,UACI8Z,GACA,qCACE,mBACE9Z,UAAU,+BACVL,MAAO,CACL8B,MAAO,kBAETa,QAAS,WACPlD,EAAMgb,oBAAoBhU,EAAK/G,GAAI+G,EAAKsK,eAN5C,kBAWA,mBACE1Q,UAAU,+CACVsC,QAAS,kBAAMlD,EAAMka,sBAAsBlT,EAAK/G,KAFlD,2BAjEakO,QA8EzB,KCnHS,SAAS8M,GAAsBjb,GAC5C,IAAQyF,EAAamD,cAAbnD,SACFoD,EAAUC,cAChB,EAA0Bb,IAAlBnD,EAAR,EAAQA,OAAQrB,EAAhB,EAAgBA,MAChB,EAAwBU,mBAAS,IAAjC,mBAAO1B,EAAP,KAAayY,EAAb,KACMC,EAAc,uCAAG,WAAOnU,GAAP,iBAAAtB,EAAA,6DACjBW,EAAW,CACbgL,YAAa,CACX,CACEC,aAAc+G,SAASrR,EAAK/G,IAC5BuP,SAAU,EACVP,UAAW,GACXD,SAAU,MAPK,kBAYD3G,GAAU5E,EAAMxD,GAAIoG,GAZnB,OAYbT,EAZa,OAanB/C,QAAQC,IAAI8C,EAAInD,MAChBzC,EAAMmR,WAda,gDAgBnBtO,QAAQC,IAAR,MAhBmB,yDAAH,sDAuDpB,OApBAiF,qBAAU,WACR,IAAI4M,EAAM,GACV7P,EAAO6K,SAAQ,SAACyL,GACdA,EAAMxX,MAAM+L,SAAQ,SAAC3I,GAKhB,IAAD,EAHAA,EAAK+I,WACqB,IAA1B/I,EAAKiI,UAAUvQ,QACU,IAAzBsI,EAAKgI,SAAStQ,QAEdiW,EAAIhN,KAAK,CACP1H,GAAI+G,EAAK/G,GACTqC,KAAM0E,EAAK1E,KACXoO,MAAO1J,EAAK0J,MACZP,MAAK,UAAEnJ,EAAKmJ,aAAP,aAAE,EAAY3G,mBAK3B0R,EAAQvG,KACP,CAAC7P,IAEF,eAACqN,GAAD,CAAgBC,YAAY,OAA5B,UACE,cAAC3I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,oBAAIvB,UAAU,yBAAd,uCAED6B,EAAK/D,OAAS,GACb,qBAAKkC,UAAU,kBAAf,SACE,cAAC8I,EAAA,EAAD,CAAK9I,UAAU,4BAAf,SACG6B,EAAK+K,KAAI,SAACxG,EAAMmH,GACf,OACE,cAACxE,EAAA,EAAD,CAEEE,GAAG,IACHjJ,UAAU,gBACVL,MAAO,CAAE8a,SAAU,KAJrB,SAME,cAACzL,GAAA,EAAD,CACEhP,UAAU,mDACVL,MAAO,CAAEmB,OAAQ,SAFnB,SAIE,eAACgI,EAAA,EAAD,CAAK9I,UAAU,MAAf,UAEGoG,EAAKmJ,OACJ,cAACxG,EAAA,EAAD,CAAKE,GAAG,IAAR,SACE,cAAC7H,EAAA,EAAD,CACEG,OAAK,EACLF,IAAK+E,EAAKmJ,MACVvP,UAAU,gBACVL,MAAO,CACL0S,UAAW,QACXvR,OAAQ,aAKhB,cAACiI,EAAA,EAAD,UACE,eAACiG,GAAA,EAAKK,KAAN,CACErP,UAAU,oBACVL,MAAO,CACLmB,OAAQ,SAHZ,UAME,mBACEd,UAAU,8BACVL,MAAO,CACL8Z,SACE,2CAJN,SAQGpM,GAAajH,EAAK1E,KAAM,MAE3B,qBAAK1B,UAAU,+CAAf,SACE,sBAAKA,UAAU,oDAAf,UACE,8BACE,oBAAIA,UAAU,OAAd,SACGyN,GAAerH,EAAK0J,WAGzB,qBACEnQ,MAAO,CACL8B,MAAO,kBAFX,SAKE,cAAC,GAAD,CAASa,QAAS,kBAAMiY,EAAenU,wBArDhDmH,UAmEjB,eAAC1E,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,sBAAKvB,UAAU,oBAAf,UACE,oBACEA,UAAU,8BACVL,MAAO,CAAE8Z,SAAU,QAFrB,qDAI2C,IACzC,mBAAGzZ,UAAU,yBAAb,4BALF,0CAMqC,IACnC,mBAAGA,UAAU,yBAAb,kCAEF,cAACoC,EAAA,EAAD,CACEC,QAAQ,UACRrC,UAAU,0BACVsC,QA3HY,WACpB,IAAMQ,EAAeD,EAAMC,aAER,GAAhBA,GACDmF,EAAQlB,KAAR,8BAAoClC,IAGnB,GAAhB/B,GACDmF,EAAQlB,KAAR,kCAAwClC,KAoHlCoN,SAAkC,IAAxB7S,EAAM8Q,OAAOpS,OAJzB,SAMyB,GAAtB+E,EAAMC,aAAoB,eAAiB,mBAGhD,sBAAK9C,UAAU,+EAAf,uBAEE,cAAC,EAAD,CACEL,MAAO,CACLmB,OAAQ,OACRG,UAAW,uBC7JV,SAASyZ,KACD1S,cAAbnD,SACQqD,cADhB,IAEA,EAA6Bb,IAArBxE,EAAR,EAAQA,MAAO4B,EAAf,EAAeA,UACf,EAA0BlB,qBAA1B,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAA4BtO,qBAA5B,mBAAOuO,EAAP,KAAeC,EAAf,KACA,EAAwCxO,mBAAS,IAAjD,mBAAOoX,EAAP,KAAqBC,EAArB,KACA,EAAoCrX,qBAApC,mBAAOqQ,EAAP,KAAmBiH,EAAnB,KACMtK,EAAQ,uCAAG,gCAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,gCAGOsI,GAAa9E,EAAMxD,IAH1B,QAIX,QADM2F,EAHK,cAIX,IAAGA,OAAH,EAAGA,EAAKnD,QACAgB,EAAQmC,EAAInD,KAAKA,KAAKgB,MAC5B+X,EAAgB/X,EAAM4N,aACtBoB,EAAShP,EAAMmP,aACXlD,EAAM,EACVjM,EAAM4N,YAAY1B,SAAQ,SAAC3I,GACzB0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,IAZD,uDAiBb7M,QAAQC,IAAR,MAjBa,yDAAH,qDAoBRoX,EAAqB,uCAAG,WAAOja,GAAP,eAAAyF,EAAA,+EAER8C,GAAgBvI,GAFR,OAEpB2F,EAFoB,OAG1B/C,QAAQC,IAAI8C,EAAInD,MAChB0O,IAJ0B,gDAM1BtO,QAAQC,IAAR,MAN0B,yDAAH,sDA6B3B,OANAiF,qBAAU,WACLiC,QAAQA,OAAO+J,OAAO,EAAE,KAC1B,IACHhM,qBAAU,WACRoJ,MACC,CAAC1N,IAEF,sBAAKxD,GAAG,SAAR,UACE,cAAC0L,GAAD,CAAYM,QAAQ,EAAMnM,MAAO,kBACjC,cAACoX,GAAD,CACEC,sBAfwB,WAC5BhG,KAeIqD,WAAYA,IAEd,cAAC/K,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,OAA3B,SAgBE,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,mBAAf,UAAmC8R,EAAnC,oBACA,qBAAI9R,UAAU,UAAd,oBACUyN,GAAeQ,WAK7B,cAAC,GAAD,CACEiC,OAAQyK,EACRrB,sBAAuBA,EACvBc,oBAtDsB,SAAChB,EAAe1I,GAM1CjM,EAAUiM,GACVmK,EAAczB,MAiDZ,cAACiB,GAAD,CAAuB9J,SAAUA,EAAUL,OAAQyK,O,+DC/G1C,SAASG,GAAe1b,GACrC,IAAO2b,EAAiC3b,EAAjC2b,YAAa9M,EAAoB7O,EAApB6O,MAAO+M,EAAa5b,EAAb4b,UAC3B,EAA0B3T,IAAnB3C,EAAP,EAAOA,MAAO6B,EAAd,EAAcA,SAkCd,OANAY,qBAAU,WACRZ,MACA,IACFY,qBAAU,WACRlF,QAAQC,IAAIwC,KACZ,CAACA,IAED,cAAC6M,GAAD,UACE,eAAC1I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,sBAAKvB,UAAU,yDAAf,UACE,2CACA,qBAAKA,UAAU,UAAf,SACGyN,GAAerO,EAAM6O,YAGzBD,GAAUzH,IAAY0H,GAxCtB7O,EAAM4b,UAIT,sBAAKhb,UAAU,yDAAf,UACE,sCACA,qBAAKA,UAAU,UAAf,SAA0ByN,GAAerO,EAAM4b,gBAL1C,KAyCL,uBACA,sBAAKhb,UAAU,4DAAf,UACE,wCACA,8BACGyN,GA9BNsN,EACMA,EAActU,WAAWuU,GAAa,GAExC,QA8BH,qBAAKhb,UAAU,eAAf,SACE,cAACoC,EAAA,EAAD,CAAQC,QAAQ,UAAUsH,KAAK,KAAKrH,QA7BxB,WAClBlD,EAAMoK,YA4BA,SAEIpK,EAAMqT,QACN,cAAC,KAAD,CAA2BzS,UAAU,cACrC,eC/BC,SAASib,KAAY,IAAD,EAC3BhT,EAAUC,cACRrF,EAAUwE,IAAVxE,MACAgC,EAAamD,cAAbnD,SACR,EAAsBtB,mBAAS,GAA/B,mBAAO2X,EAAP,KAAYC,EAAZ,KACA,EAA0C5X,mBAAS,GAAnD,mBAAO6X,EAAP,KAAsBC,EAAtB,KACA,EAA4C9X,mBAAS,KAArD,mBAAO+X,EAAP,KAAuBC,EAAvB,KAEA,EAAkChY,mBAAS,GAA3C,mBAAOyX,EAAP,KAAkBQ,EAAlB,KAEMC,EAASC,uBACTC,EAAWC,yBASjB,EAA4CrY,oBAAS,GAArD,mBAAOsY,EAAP,KAAuBC,EAAvB,KACA,EAA0BvY,mBAAS,GAAnC,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAAsCtO,mBAAS,GAA/C,mBAAOwX,EAAP,KAAoBgB,EAApB,KACA,EAA4BxY,qBAA5B,mBAAOuO,EAAP,KAAeC,EAAf,KACA,EAAwCxO,mBAAS,IAAjD,mBAAOoX,GAAP,KAAqBC,GAArB,KACMoB,GAAQ,uCAAG,WAAOxT,GAAP,iBAAA1D,EAAA,yDACV2W,GAAWE,EADD,iEAOPM,EAAON,EAASO,WAAWC,sBAPpB,SAQQV,EAAOW,YAAYH,GAR3B,UAQPI,EARO,OASbpa,QAAQC,IAAI,kBAAmBma,KATlB,OAUTA,QAVS,IAUTA,OAVS,EAUTA,EAAQC,OAVC,oBAWXR,GAAkB,IAEfd,EAbQ,kCAcgBvT,GAAU5E,EAAMxD,GAAI,CAC3CoR,YAAY,GACZ8L,WAAY9V,WAAWuU,KAhBhB,wChClCS3b,EgCsDUwD,EAAMxD,GhCtDZoG,EgCsDgB,CACtC+W,aAAcH,EAAOC,MAAMjd,IhCtDnC6D,EAAIuZ,KAAJ,sBAAwBpd,EAAxB,QAAkCoG,GgCiCjB,eAuBH5D,KAAKoD,QACXgD,EAAQlB,KAAK,CACX2V,SAAS,+BAAD,OAAiC7X,EAAjC,iBAAkDhC,EAAMxD,IAChEsd,MAAO,CAAEN,QAAQ,KAGnBpU,EAAQlB,KAAK,CACX2V,SAAS,+BAAD,OAAiC7X,GACzC8X,MAAO,CAAEN,QAAQ,KA/BV,0DAoCbpa,QAAQC,IAAR,MACA+F,EAAQlB,KAAK,CACX2V,SAAS,+BAAD,OAAiC7X,GACzC8X,MAAO,CAAEN,QAAQ,KAvCN,kChClCQ,IAAChd,EAAIoG,IgCkCb,qBAAH,sDAiER8K,GAAQ,uCAAG,gCAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,gCAGOsI,GAAa9E,EAAMxD,IAH1B,QAIX,QADM2F,EAHK,cAIX,IAAGA,OAAH,EAAGA,EAAKnD,QACAgB,EAAQmC,EAAInD,KAAKA,KAAKgB,MACXmC,EAAInD,KAAKA,KAAKe,SAC/BgY,GAAgB/X,EAAM4N,aACtBoB,EAAShP,EAAMmP,aACf+J,EAAelZ,EAAM+Z,0BACjB9N,EAAM,EACVjM,EAAM4N,YAAY1B,SAAQ,SAAC3I,GACzB0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,IAdD,uDAoBb7M,QAAQC,IAAR,MApBa,yDAAH,qDAwBdiF,qBAAU,WACLiC,QAAQA,OAAO+J,OAAO,EAAE,KAC1B,IACHhM,qBAAU,WACRoJ,OACC,CAAC1N,IACJsE,qBAAU,YA3CM,WACd,IAAI2G,MAAMoN,GAER,OADAM,EAAaN,IACN,EAGT,GAAqB,KAAlBI,EACDE,EAAaJ,OACV,CACH,IAAIyB,EAAUpW,WAAW2U,IAAkB,EAC3CI,EAAavN,GAAS4O,EAAU,OAkClCC,KACC,CAAC5B,EAAKE,EAAeE,IACxB,OAA8B/X,mBAAS,CACrCwZ,OAAQ,GACRC,OAAQ,GACRC,IAAK,KAHP,qBAAO3X,GAAP,MAAgB4X,GAAhB,MAKA,OACE,eAAC,EAAD,WACE,cAACnS,GAAD,CAAYM,QAAQ,EAAMnM,MAAO,iBACjC,eAAC2J,EAAA,EAAD,CACEtH,OAAK,EACLvB,UAAU,OACVL,MAAO,CACLsa,cAAe,SAJnB,UAQE,cAACkD,GAAA,EAAD,CAAWnd,UAAU,OAArB,SACE,eAACmd,GAAA,EAAUjQ,KAAX,CAAgBkQ,SAAS,IAAIpd,UAAW8M,KAAOuQ,gBAA/C,UACE,eAACF,GAAA,EAAU/a,OAAX,CAAkBpC,UAAW8M,KAAOwQ,qBAApC,0BACgBxL,EADhB,OAGA,cAACqL,GAAA,EAAU9N,KAAX,CAAgBrP,UAAW8M,KAAOyQ,sBAAlC,SAEI,cAAC,GAAD,CACErN,OAAQyK,GACR5F,UAAU,WAOpB,oBAAI/U,UAAU,8BAAd,4BAEA,cAACgP,GAAA,EAAD,CACEhP,UACE,gCAAkC8M,KAAO0Q,uBAF7C,SAKE,cAACxO,GAAA,EAAKK,KAAN,UACE,uBAAMrP,UAAU,4BAAhB,UACE,mBAAGA,UAAU,sBADf,gCAMJ,eAACuJ,EAAA,EAAD,CAAMvJ,UAAU,OAAhB,UACE,cAAC,qBAAD,CACEA,UAAW8M,KAAO2Q,gBAClBnJ,QAAS,CACP3U,MAAO,CACL+d,KAAM,CACJjE,SAAU,OACVpB,aAAc,QAGlBxO,YAAa,eAEf8T,QAAS,aAGT7T,SAAU,SAAC8T,QAEW5X,IAAhB4X,EAAM5b,MACRkb,GAAW,2BAAK5X,IAAN,IAAeyX,OAAQa,EAAM5b,MAAMsD,WAE7C4X,GAAW,2BAAK5X,IAAN,IAAeyX,OAAQ,OAGrCc,OAAQ,aAGRxR,QAAS,eAIX,qBAAKrM,UAAU,wBAAf,SACGsF,GAAQyX,SAEX,eAACjU,EAAA,EAAD,CAAK9I,UAAU,MAAf,UACE,eAAC+I,EAAA,EAAD,CAAKE,GAAG,IAAR,UACE,cAAC,qBAAD,CACEjJ,UAAW8M,KAAO2Q,gBAClBnJ,QAAS,CACP3U,MAAO,CAAE+d,KAAM,CAAEjE,SAAU,OAAQpB,aAAc,SAEnDsF,QAAS,aAGT7T,SAAU,SAAC8T,QAEW5X,IAAhB4X,EAAM5b,MACRkb,GAAW,2BAAK5X,IAAN,IAAe0X,OAAQY,EAAM5b,MAAMsD,WAE7C4X,GAAW,2BAAK5X,IAAN,IAAe0X,OAAQ,OAGrCa,OAAQ,aAGRxR,QAAS,eAIX,qBAAMrM,UAAU,wBAAhB,SACGsF,GAAQ0X,YAGb,eAACjU,EAAA,EAAD,CAAKE,GAAG,IAAR,UACE,cAAC,kBAAD,CACEjJ,UAAW8M,KAAO2Q,gBAClBnJ,QAAS,CACP3U,MAAO,CAAE+d,KAAM,CAAEjE,SAAU,OAAQpB,aAAc,SAEnDsF,QAAS,aAGT7T,SAAU,SAAC8T,QAEW5X,IAAhB4X,EAAM5b,MACRkb,GAAW,2BAAK5X,IAAN,IAAe2X,IAAKW,EAAM5b,MAAMsD,WAE1C4X,GAAW,2BAAK5X,IAAN,IAAe2X,IAAK,OAGlCY,OAAQ,aAGRxR,QAAS,eAIX,qBAAKrM,UAAU,wBAAf,SACGsF,GAAQ2X,eA8BjB,qBAAIjd,UAAU,8BAAd,qBACU,sBAAMA,UAAU,6BAAhB,2BAEV,qBAAKA,UAAU,eAAf,SACE,cAAC8d,GAAA,EAAD,CAAa9d,UAAU,OAAvB,SArRU,CAChB,CAAE4F,MAAO,GACT,CAAEA,MAAO,GACT,CAAEA,MAAO,IACT,CAAEA,MAAO,UAkRUgH,KAAI,SAAC6H,EAAQlH,GACtB,OACE,eAACwQ,GAAA,EAAD,CAEE1e,GAAE,gBAAWkO,EAAX,QACFxN,KAAK,QACL2B,KAAK,YACL1B,UAAW,QAAU8M,KAAOkR,iBAC5B3b,QAAQ,oBACRuD,MAAO6O,EAAO7O,MACdoP,QAASP,EAAO7O,OAASsV,EACzB5Y,QAAS,SAACkG,GAAD,OAzOLyV,EAyOuBxJ,EAAO7O,WAvO9CuV,EADCD,IAAQ+C,EACF,EAEAA,GAJQ,IAACA,GAgON,UAWGC,OAAOC,UAAU1J,EAAO7O,OAAxB,IAAuC,GACvC6O,EAAO7O,QAXH2H,UAkBP,SAAP2N,GACC,eAACpS,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKE,GAAG,IAAR,SACE,cAAC6U,GAAA,EAAD,CAAa9d,UAAU,OAAvB,SA/SiB,CAAC,CAAE4F,MAAO,KAAO,CAAEA,MAAO,MAgTnBgH,KAAI,SAAC6H,EAAQlH,GACjC,OACE,cAACwQ,GAAA,EAAD,CAEE1e,GAAE,gBAAWkO,EAAX,eACFxN,KAAK,QACLsC,QAAQ,oBACRrC,UAAW,aAAe8M,KAAOsR,wBACjC1c,KAAK,mBACLkE,MAAO6O,EAAO7O,MACdoP,QAASP,EAAO7O,OAAS0V,EACzBxR,SAAU,SAACtB,GAAD,OAAO+S,EAAkB/S,EAAE6V,cAAczY,QATrD,SAWG6O,EAAO7O,OAVH2H,UAgBf,cAACxE,EAAA,EAAD,CAAKE,GAAG,IAAR,SACE,cAACM,EAAA,EAAKmB,MAAN,UACE,cAACnB,EAAA,EAAKG,QAAN,CACE3J,KAAK,SACLue,UAAU,UACVte,UAAW,QAAU8M,KAAO0Q,uBAC5B1T,SAAU,SAACtB,GACT6S,EAAiB7S,EAAE6V,cAAczY,oBAQ/C,cAACkV,IAAD,GACEE,UAAWA,EACX/M,MAAOA,EACP8M,YAAaA,EACbvR,SAAUwS,IAJZ,uBAKS/N,GALT,8BAMgBuN,GANhB,yBAOWK,GAPX,O,wBC5XS,SAAS0C,GAAYnf,GAClC,IAAOof,EAAoBpf,EAApBof,iBACP,EAA4Bjb,mBAAS,GAArC,mBAAO+P,EAAP,KAAemL,EAAf,KAuBA,OANAtX,qBAAU,WACL1J,OAAOgB,KAAK+f,GAAkB1gB,QAE/B2gB,EAAUD,EAAiBlL,UAE5B,CAACkL,IAEF,qBAAKxe,UAAW8M,KAAO4R,gBAAvB,SAtBY,CACZ,CACE1X,MAAO,iBACP3H,GAAI,GAEN,CACE2H,MAAO,YACP3H,GAAI,GAEN,CACE2H,MAAO,YACP3H,GAAI,IAYGuN,KAAI,SAAAxG,GAAS,IAAD,EACjB,OACE,sBAAKpG,UAAWkL,KAAG4B,KAAO6R,cAAR,oBACf7R,KAAO8R,wBAA0BtL,EAASlN,EAAK/G,IADhC,eAEfyN,KAAO+R,qBAAwBvL,GAAUlN,EAAK/G,IAF/B,IAAlB,UAIE,qBAAKW,UAAWkL,KAAG4B,KAAOgS,aAAR,gBACfhS,KAAOiS,wBAA2BzL,GAAUlN,EAAK/G,OAEpD,8BAAM+G,EAAKY,gB,uDCbR,SAASgY,KAAmB,IAAD,MAClC/W,EAAUC,cAEhB,GADqBF,cAAbnD,SACoBtB,mBAAS,IAArC,mBAAOuO,EAAP,KAAeC,EAAf,KACA,EAAwCxO,mBAAS,IAAjD,mBAAOoX,EAAP,KAAqBC,EAArB,KACA,EAA0BrX,mBAAS,GAAnC,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAAsCtO,mBAAS,GAA/C,mBAAOwX,EAAP,KAAoBgB,EAApB,KACA,EAAkCxY,mBAAS,GAA3C,mBAAOyX,EAAP,KAAkBQ,EAAlB,KAGMyD,GADOC,cACM,IAAIC,gBAAgBD,cAAcE,QAAQra,IAAI,SAC3DsX,EAAM,UAAG6C,cAAcvC,aAAjB,aAAG,EAAqBN,OAC9BgD,EAAehD,GAAU4C,EAC/B,EAAiE5X,IAAzD1E,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MAAc0D,GAAjC,EAA0B7B,MAA1B,EAAiC6B,UAAU1C,EAA3C,EAA2CA,KAAM2B,EAAjD,EAAiDA,YACjD,EAAgDjC,mBAAS,IAAzD,mBAAOib,EAAP,KAAyBc,EAAzB,KACA,EAAgCC,eAAhC,mBACA,GADA,UAC8Bhc,oBAAS,IAAvC,mBAAOic,GAAP,KAAgBC,GAAhB,KACM3f,GAAM4f,oBAAU,MAChBnP,GAAQ,uCAAG,sCAAAzL,EAAA,mEAETjC,EAAMxD,KAAM4f,EAFH,uBAILU,EAAW9c,EAAMxD,IAAM4f,EAJlB,SAKOtX,GAAagY,GALpB,QAMX,QADM3a,EALK,cAMX,IAAGA,OAAH,EAAGA,EAAKnD,OACAgB,EAAQmC,EAAInD,KAAKA,KAAKgB,MAC5B+X,EAAgB/X,EAAM4N,aACtBoB,EAAShP,EAAMoL,OACf8N,EAAelZ,EAAM+Z,2BACrB,OAAG/Z,QAAH,IAAGA,OAAH,EAAGA,EAAO+c,mBAAmB9hB,UACrB8hB,EAAqB/c,EAAM+c,mBAE3BC,EAAUD,EAAmBzZ,MAAK,SAAC3G,GACvC,OAAOA,EAAEmgB,UAAYA,KAEvBL,EAAoBO,IAEnBpZ,WAAW5D,EAAM0Z,YAAc,GAChCf,EAAa/U,WAAW5D,EAAM0Z,aAE5BzN,EAAM,EACVjM,EAAM4N,YAAY1B,SAAQ,SAAC3I,GACzB0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,IAEV7G,EAAQlB,KAAK,uBA5BJ,uDAgCbkB,EAAQlB,KAAK,uBAhCA,yDAAH,qDAyCR+Y,GAAe,uCAAG,sBAAAhb,EAAA,sDAEnBU,EAAW,OAAC7C,QAAD,IAACA,OAAD,EAACA,EAAWtD,GAAIwE,IAC5BoE,EAAQlB,KAAR,0CAAyCpE,QAAzC,IAAyCA,OAAzC,EAAyCA,EAAWtD,GAApD,UAHoB,2CAAH,qDA2CrB,OAHA8H,qBAAU,WACRoJ,OACC,CAAC1N,IAEF,cAAC,EAAD,UAGE,eAACgG,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,sBAAKlC,GAAI,oBAAsBS,IAAKA,GAApC,UACE,qBAAKE,UAAU,qCAAf,SACE,sBAAKA,UAAU,wCAAf,UACE,cAACkB,EAAD,CAAgBI,KAAI,UAAEqB,EAAUC,gBAAZ,iBAAE,EAAoBtB,YAAtB,aAAE,EAA0BsH,aAC/CyW,EACC,qCACE,qBAAKrf,UAAU,sCAAf,SACE,cAAC,KAAD,CAAe2J,KAAM,GAAI3J,UAAU,OAAOL,MAAO,CAAC8B,MAAM,uBAE1D,oBAAIzB,UAAU,YAAYL,MAAO,CAAC8B,MAAO,mBAAzC,iCAGA,eAACuN,GAAA,EAAD,CAAMhP,UAAW,wBAA0B8M,KAAO0Q,uBAAlD,UACE,cAACxO,GAAA,EAAK8I,OAAN,CAAa9X,UAAU,mBAAvB,2BAGA,eAACgP,GAAA,EAAKK,KAAN,WACE,sBAAKrP,UAAU,cAAf,UACE,eAAC8I,EAAA,EAAD,CAAK9I,UAAU,OAAf,UACE,eAAC+I,EAAA,EAAD,CAAKE,GAAG,KAAKjJ,UAAU,cAAvB,UACE,qBAAKL,MAAO,CAAC8B,MAAO,sBAApB,4BACA,qBAAKzB,UAAU,yBAAf,SAAyCwe,EAAiBuB,gBAC1D,0BAEF,eAAChX,EAAA,EAAD,WACE,qBAAKpJ,MAAO,CAAC8B,MAAO,sBAApB,2BACA,sBAAKzB,UAAU,sCAAsCL,MAAO,CAACqgB,WAAY,QAAzE,cACInd,EAAMxD,IAAM4f,QAGlB,eAAClW,EAAA,EAAD,CAAK/I,UAAU,yBAAf,UACE,qBAAKL,MAAO,CAAC8B,MAAO,sBAApB,yBACA,qBAAKzB,UAAU,yBAAf,SACGigB,KAAOzB,EAAiB0B,YAAYnS,OAAO,wBAIlD,uBACA,sBAAK/N,UAAU,gBAAf,UACE,cAAC,KAAD,CACE4F,MAAK,UAAKtC,uBAAL,+CAAoFT,EAAMxD,IAAM4f,GACrGtV,KAAM,IACNwW,QAAS,YAEX,mBAAGngB,UAAU,QAAb,8FAKHqf,GAAgB,cAACd,GAAD,CAAaC,iBAAkBA,IAEnB,GAA3BA,EAAiBlL,QACjB,qBAAKtT,UAAU,cAAf,SACE,wBAAQA,UAAW,2CAA4CsC,QArEjE,WACpBmd,IAAW,GACXlP,KACA7D,YAAW,WACT+S,IAAW,KACV,MAgEmB,SAEID,GACA,cAAC,KAAD,CAA2Bxf,UAAU,cAErC,uBASd,mCACE,sBAAKA,UAAU,wCAAf,UACE,mBACEogB,MAAM,gCACNzgB,MAAO,CAAE8Z,SAAU,GAAIhY,MAAO,aAEhC,oBAAIzB,UAAU,eAAeL,MAAO,CAAE8B,MAAO,WAA7C,qCAGA,mBAAG9B,MAAO,CAAE8B,MAAO,WAAnB,oDASV,eAACuN,GAAA,EAAD,CAAMhP,UAAW,mBAAqB8M,KAAO0Q,uBAA7C,UACE,eAACxO,GAAA,EAAK8I,OAAN,CAAa9X,UAAU,mBAAvB,0BACgB8R,EADhB,OAGA,cAAC9C,GAAA,EAAKK,KAAN,UACE,cAAC,GAAD,CAA0Ba,OAAQyK,EAAc5F,UAAU,SAkB9D,sBAAK/U,UAAU,8DAAf,UACE,2CACA,qBAAKA,UAAU,UAAf,SACGyN,GAAeQ,QAGnBD,GAAUzH,IAAY0H,GAErB+M,EAAY,GAAKqE,GACjB,sBAAKrf,UAAU,sCAAf,UACE,sCACA,qBAAKA,UAAU,UAAf,SAA0ByN,GAAeuN,QAG7C,uBACA,sBAAKhb,UAAU,4DAAf,UACE,qBAAKA,UAAU,YAAf,mBACA,qBAAKA,UAAU,UAAf,SACGyN,GAAesN,WAIrBsE,EACC,qCACA,sBAAKrf,UAAU,6BAAf,UACE,cAACoC,EAAA,EAAD,CACEC,QAAQ,kBACRsH,KAAK,KACL3J,UAAW,QAAU8M,KAAO0Q,uBAC5Blb,QAAS,SAACkG,GAAD,OAAOY,OAAOiX,SAJzB,0BASEhE,GACA,cAACja,EAAA,EAAD,CACAC,QAAQ,YACRsH,KAAK,KACL3J,UAAW,QAAU8M,KAAO0Q,uBAC5Blb,QAASwd,GAJT,6BApMNnF,EAAa7c,UACW6c,EAAala,QAAO,SAAC+H,GAAD,OAAiB,GAAVA,EAAE2R,QAClCrc,QA8Mf,sBAAKkC,UAAW,4BAA6BL,MAAO,CAClD2gB,WAAY,6BACZzQ,WAAY,sBAFd,UAIE,qBAAK7P,UAAU,oBAAf,SACE,cAAC,KAAD,CAA4B2J,KAAM,OAEpC,kJAOJ,qBAAK3J,UAAU,oBAAf,SACE,cAACoC,EAAA,EAAD,CACEC,QAAQ,YACRsH,KAAK,KACL3J,UAAW,QAAU8M,KAAO0Q,uBAC5Blb,QAAS,WACP2F,EAAQoD,UALZ,yBAaHgU,GACC,kCC9SKkB,OAjBf,SAAsBnhB,GAEpB,OADgB8I,cAEd,qBACElI,UAAU,qEACVL,MAAO,CAAEmB,OAAQ,SAFnB,SAIE,sBAAKd,UAAU,YAAf,UACE,oBAAIL,MAAO,CAAE8Z,SAAU,IAAMzZ,UAAU,wBAAvC,iBAGA,oBAAIA,UAAU,cAAd,sDCRO,SAASwgB,GAAoBphB,GAC1C,MAA+CiI,IAAxCnD,EAAP,EAAOA,OAAQO,EAAf,EAAeA,UAAWkB,EAA1B,EAA0BA,kBAC1B,EAA0BpC,mBAAS,IAAnC,mBAAOP,EAAP,KAAcyd,EAAd,KACO5b,EAAYmD,cAAZnD,SACDoD,EAAUC,cAwChB,OAJAf,qBAAU,YAlCoB,WAC5B,GAAGjD,EAAOpG,OAAO,CACf,IAAIiW,EAAM,GAEV7P,EAAO6K,SAAQ,SAAAnR,GAAM,IAAD,EAElB,aAAGA,EAAEoF,aAAL,aAAG,EAASlF,OAAO,CACjB,IAEM4iB,EADiB9iB,EAAEoF,MAAMvC,QAAO,SAAAjB,GAAC,OAAIiY,SAASjY,EAAE8R,gBAAkB,GAAK9R,EAAE2P,aAC/BvC,KAAI,SAACpN,GAAD,mBAAC,eAAWA,GAAZ,IAAe6G,MAAO,CACxEhH,GAAIzB,EAAEyB,GACNqC,KAAM9D,EAAE8D,WAGPgf,EAAuB5iB,QACxBiW,EAAIhN,KAAJ,MAAAgN,EAAG,aAAS2M,QAIlBD,EAAS1M,IAgBX4M,KACC,CAACzc,IAGF,mCAEIlB,EAAMlF,OAAS,GACf,sBAAKkC,UAAU,OAAf,UACE,cAAC6I,EAAA,EAAD,UACE,oBAAI7I,UAAU,UAAd,gCAEF,qBAAKA,UAAU,OAAf,SACE,cAAC6I,EAAA,EAAD,CAAW7I,UAAU,gBAArB,SACE,cAAC8I,EAAA,EAAD,CAAK9I,UAAU,cAAf,SACGgD,EAAM4J,KAAI,SAACxG,EAAKmH,GAAN,aACT,eAACxE,EAAA,EAAD,CAEEE,GAAG,IACHD,GAAG,IACHhJ,UAAW8M,KAAO4G,SAJpB,UAME,cAAC1E,GAAA,EAAD,CACEhP,UAAW8M,KAAOsF,WAClB9P,QAAS,SAAAkG,GAAC,OAlCN,SAACpC,GACvB,GAAGA,EAAK/G,IAAM+G,EAAK+I,WAAajL,EAAOpG,OAAO,CAC5C,IAAMmI,EAAiB/B,EAAOiC,MAAK,SAAC3G,GAAD,aAAOA,EAAEH,KAAF,UAAQ+G,EAAKC,aAAb,aAAQ,EAAYhH,OAC3D4G,EAAe5G,KAChBsG,EAAkBM,GAClBxB,EAAU2B,EAAK/G,IACf4I,EAAQlB,KAAR,mCAAyClC,EAAzC,YA4B4B+b,CAAgBxa,IAFhC,SAIE,qBAAK/E,IAAG,UAAE+E,EAAKmJ,aAAP,aAAE,EAAY3G,WAAY5I,UAAU,cAAcL,MAAO,CAAC0S,UAAU,aAE9E,sBAAKrS,UAAU,OAAf,UACE,qBAAKA,UAAU,iCAAf,SAAiDoG,EAAK1E,OACtD,sBAAK1B,UAAU,QAAf,UACGmO,GAAe/H,GAAO,IACvB,sBAAMpG,UAAU,+BAA+BL,MAAO,CAAC8B,MAAO,sBAA9D,SACGgM,GAAerH,EAAK0J,SACf,IACR,sBAAM9P,UAAU,uBAAhB,SAAwCyN,GAAea,GAAqBlI,EAAK0J,MAAO1J,EAAKkL,2BAlB5F/D,iBCaVsT,OApEf,SAAgBzhB,GAAQ,IAAD,EACrB,EAAoCiI,IAA5B1E,EAAR,EAAQA,UAAWuB,EAAnB,EAAmBA,OAAQL,EAA3B,EAA2BA,KAY3B,OALAsD,qBAAU,WACJiC,QACFA,OAAO+J,OAAO,EAAG,KAElB,IAED,sBAAKnT,UAAU,+BAAf,UAKE,cAACgL,GAAA,EAAD,CAAQC,OAAO,KAAKjL,UAAU,sBAA9B,SACE,cAAC6I,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,8BACE,sBACEvB,UAAU,+BACVL,MAAO,CACLkQ,WAAY,sBACZpO,MAAO,qBAJX,SAOGkB,EAAUjB,aAKnB,8BACE,eAACmH,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,OAA3B,UACE,oBAAGA,UAAU,kBAAb,0BACe,mBAAGA,UAAU,UAAb,gBAAwB6D,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAM6E,gBAE7C,qBAAI1I,UAAU,qBAAd,oBACU,IACR,sBAAMA,UAAU,iBAAhB,mBAAkC2C,EAAUC,gBAA5C,aAAkC,EAAoBlB,UAExD,cAAC6J,GAAD,CAAQ1B,YAAY,2BAA2B4B,cAAY,SAG9DvH,GACC,mCACE,sBACElE,UAAU,aACVL,MAAO,CACLoB,UAAW,QACX8O,WAAY,qBACZiR,uBAAwB,MACxBC,wBAAyB,OAN7B,UASE,qBAAK/gB,UAAU,OAAf,SACE,cAACuS,GAAD,CAAWM,YAAU,EAACW,QAAM,MAE9B,cAACgN,GAAD,aCyBGQ,OArFf,SAAsB5hB,GAAQ,IAAD,EACrB6I,EAAUC,cAChB,EAAiCb,IAAzBjD,EAAR,EAAQA,cAAevB,EAAvB,EAAuBA,MACfgC,EAAamD,cAAbnD,SACR,EAA0BtB,qBAA1B,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAA4BtO,qBAA5B,mBAAOuO,EAAP,KAAeC,EAAf,KACMxB,EAAQ,uCAAG,8BAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,gCAGOsI,GAAa9E,EAAMxD,IAH1B,OAGL2F,EAHK,OAIX6M,EAAS7M,EAAInD,KAAKA,KAAKoM,OACnBa,EAAM,EACV9J,EAAInD,KAAKA,KAAK4O,YAAY1B,SAAQ,SAAC3I,GACjC0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,GATC,yDAYb7M,QAAQC,IAAR,MAZa,0DAAH,qDAkBd,OAHAiF,qBAAU,WACRoJ,MACC,CAAC1N,IAEF,cAAC,EAAD,UACE,eAACgG,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,qBAAKvB,UAAU,wDAAf,SACE,sBAAKA,UAAU,wCAAf,UACE,cAACkB,EAAD,CAAgBI,KAAI,UAAE8C,EAAc9C,YAAhB,aAAE,EAAoBsH,aAC1C,qBAAK5I,UAAU,wCAAf,SACE,mBACEA,UAAU,0BACVL,MAAO,CAAE8Z,SAAU,GAAIhY,MAAO,eAGlC,oBAAIzB,UAAU,8BAAd,wBACA,mBAAGA,UAAU,mBAAmBL,MAAO,CAAE8B,MAAO,WAAhD,yEAKJ,qBAAKzB,UAAU,OAAf,SACE,cAACoC,EAAA,EAAD,CACEC,QAAQ,YACRsH,KAAK,KACL3J,UAAW,qBAAuB8M,KAAO0Q,uBACzClb,QAAS,kBAAM2F,EAAQlB,KAAR,mCAAyClC,EAAzC,WAJjB,0BASF,cAACsY,GAAA,EAAD,CAAWnd,UAAU,OAArB,SACE,cAACmd,GAAA,EAAUjQ,KAAX,CAAgBkQ,SAAS,IAAIpd,UAAW8M,KAAOuQ,gBAA/C,SACE,eAACF,GAAA,EAAU/a,OAAX,CACEpC,UAAW8M,KAAOwQ,qBAClBhb,QAAS,kBAAM2F,EAAQlB,KAAR,+BAAqClC,KAFtD,8BAIoB,IAJpB,OAKGoJ,QALH,IAKGA,OALH,EAKGA,EAAOgT,WAAWC,QAAQ,wBAAyB,YAI1D,sBAAKlhB,UAAU,6CAAf,UACE,oBAAIA,UAAU,4BAAd,2BACA,mBAAGA,UAAU,oBAAoBL,MAAO,CAAE8B,MAAO,WAAjD,+DAIF,qBAAKzB,UAAU,OAAf,SACE,eAACoC,EAAA,EAAD,CACEC,QAAQ,UACRsH,KAAK,KACL3J,UAAW,qBAAuB8M,KAAO0Q,uBACzClb,QAAS,kBAAM2F,EAAQlB,KAAR,8BAAoClC,KAJrD,8BAMoBiN,EANpB,MAM+B,IAN/B,OAOG7D,QAPH,IAOGA,OAPH,EAOGA,EAAOgT,WAAWC,QAAQ,wBAAyB,gBCrFjD,OAA0B,0CC0G1BC,OAhGf,SAAmB/hB,GACjB,IAAM6I,EAAUC,cACRrD,EAAamD,cAAbnD,SACAhC,EAAUwE,IAAVxE,MACR,EAA0BU,qBAA1B,mBAAO0K,EAAP,KAAc4D,EAAd,KACA,EAA4BtO,qBAA5B,mBAAOuO,EAAP,KAAeC,EAAf,KACA,EAAwCxO,mBAAS,IAAjD,mBAAOoX,EAAP,KAAqBC,EAArB,KACMrK,EAAQ,uCAAG,8BAAAzL,EAAA,mEAETjC,EAAMxD,GAFG,iCAGOsI,GAAa9E,EAAMxD,IAH1B,OAGL2F,EAHK,OAIX4V,EAAgB5V,EAAInD,KAAKA,KAAK4O,aAC9BoB,EAAS7M,EAAInD,KAAKA,KAAKoM,OACnBa,EAAM,EACV9J,EAAInD,KAAKA,KAAK4O,YAAY1B,SAAQ,SAAC3I,GACjC0I,GAAY1I,EAAKwI,YAEnBmD,EAAUjD,GAVC,0DAab7M,QAAQC,IAAR,MAba,0DAAH,qDAgBRoX,EAAqB,uCAAG,WAAOja,GAAP,eAAAyF,EAAA,+EAER8C,GAAgBvI,GAFR,OAEpB2F,EAFoB,OAG1B/C,QAAQC,IAAI8C,EAAInD,MAChB0O,IAJ0B,gDAM1BtO,QAAQC,IAAR,MAN0B,yDAAH,sDAiB3B,OAHAiF,qBAAU,WACRoJ,MACC,CAAC1N,IAEF,gCACE,cAACkI,GAAD,CAAYM,QAAQ,EAAMnM,MAAO,cACjC,cAAC2a,GAAD,CACE3J,OAAQyK,EACRrB,sBAAuBA,EACvBc,oBAdsB,SAAChB,EAAe1I,GAC1CzI,EAAQlB,KAAR,mCAC8BlC,EAD9B,iBAC+C6L,EAD/C,YAC+D0I,OAc7D,eAAC7H,GAAD,CAAgBC,YAAY,OAA5B,UACE,eAAC3I,EAAA,EAAD,CAAWtH,OAAK,EAACvB,UAAU,OAA3B,UACE,sBAAKA,UAAU,yDAAf,UACE,uCACA,qBAAKA,UAAU,UAAf,uBAEF,sBAAKA,UAAU,+DAAf,UACE,wCACA,qBAAKA,UAAU,UAAf,uBAEF,sBAAKA,UAAU,+DAAf,UACE,qCACA,qBAAKA,UAAU,UAAf,uBAEF,uBACA,sBAAKA,UAAU,4DAAf,UACE,wCACA,qCAAMiO,QAAN,IAAMA,OAAN,EAAMA,EAAOgT,WAAWC,QAAQ,wBAAyB,aAG7D,eAACrY,EAAA,EAAD,CAAWtH,OAAK,EAAhB,UACE,qBAAKvB,UAAU,oBAAf,SACE,eAACoC,EAAA,EAAD,CACEC,QAAQ,UACRrC,UAAU,0BACVsC,QAAS,kBAAM2F,EAAQlB,KAAR,8BAAoClC,KAHrD,8BAKoBiN,EALpB,MAK+B,IAL/B,OAMG7D,QANH,IAMGA,OANH,EAMGA,EAAOgT,WAAWC,QAAQ,wBAAyB,UAGxD,sBAAKlhB,UAAU,0EAAf,uBAEE,cAACoB,EAAA,EAAD,CACEC,IAAK+f,GACL7f,OAAK,EACLvB,UAAU,OACVL,MAAO,CACLmB,OAAQ,uB,UC/ET,SAASugB,KACtB,MAA8B9d,mBAAS,IAAvC,mBAAOiP,EAAP,KAAgB8O,EAAhB,KACA,EAA0C/d,mBAAS,IAAnD,mBAAOge,EAAP,KAAsBC,EAAtB,KACA,EAAgDna,IAAzCnD,EAAP,EAAOA,OAAQO,EAAf,EAAeA,UAAYkB,EAA3B,EAA2BA,kBACrBsC,EAAUC,cACTrD,EAAYmD,cAAZnD,SA2DP,OAHAsC,qBAAU,YAtDkB,WAC1B,GAAGjD,GAAUA,EAAOpG,OAAO,CAEzB,IAAI2jB,EAAgBvd,EAAOzD,QAAO,SAAC+H,GAAD,OAAmB,GAAZA,EAAE8K,UAEvCS,EAAM,GAEV0N,EAAc1S,SAAQ,SAAC1I,GAAW,IAAD,EAE/B,aAAGA,EAAMrD,aAAT,aAAG,EAAalF,OAAO,CACrB,IAgB8B,EAJxB4jB,EAZcrb,EAAMrD,MAAMvC,QAAO,SAACjB,GAAO,IAAD,IACxCkC,EAAI,UAAUlC,EAAEkC,YAAZ,aAAU,EAAQ0R,cACtBrD,EAAW,UAAGvQ,EAAEuQ,mBAAL,aAAG,EAAeqD,cAC7BuO,EAAenP,EAAWA,EAAQY,cAAgB,GACtD,OAAO1R,EAAK0W,SAASuJ,IAAa5R,EAAYqI,SAASuJ,MAQf/U,KAAI,SAAApN,GAAC,kCAASA,GAAT,IAAY6G,MAAO,CAChEhH,GAAIgH,EAAMhH,GACVqC,KAAM2E,EAAM3E,WAEXggB,EAAoB5jB,SACrB,EAAAiW,GAAIhN,KAAJ,qBAAY2a,QAKf3N,EAAIjW,SACLiW,EAAMA,EAAI/C,MAAK,SAAClM,EAAEmM,GAAH,OAASA,EAAE9B,UAAYrK,EAAEqK,cAE1CqS,EAAiBzN,IAoBnB6N,KACC,CAACpP,IAEF,eAAC,EAAD,WAKE,cAAC3J,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,sBAAKvB,UAAU,6BAAf,UACE,qBAAKA,UAAU,sDAAf,SACE,cAACoC,EAAA,EAAD,CACEpC,UAAU,gEACVsC,QAAS,kBAAM2F,EAAQoD,UAFzB,SAIE,cAAC,KAAD,CAAe1B,KAAM,GAAIhK,MAAO,CAAC2L,YAAa,aAGlD,qBAAKtL,UAAU,SAAf,SACE,cAACuL,GAAD,CACEG,aAAW,EACXF,eAAgB8V,EAChBzX,YAAa,qCAOnB2I,EACA,sBAAKxS,UAAU,gBAAgBL,MAAO,CAACoB,UAAW,uBAAlD,UACE,qBAAKf,UAAU,OAAf,SACE,cAACuS,GAAD,CACEM,YAAU,EACVW,QAAM,EACNhB,QAASA,MAIX+O,EAAczjB,OACZ,qCACE,cAAC+K,EAAA,EAAD,CAAWtH,OAAK,EAAhB,SACE,oBAAIvB,UAAU,UAAd,qBAEDuhB,EAAc3U,KAAI,SAACxG,GAAD,iBACjB,cAAC4I,GAAA,EAAD,CAAM1M,QAAS,SAAAkG,GAAC,OA5DR,SAACpC,GACvB,GAAGA,EAAK/G,IAAM+G,EAAK+I,WAAajL,EAAOpG,OAAO,CAE5C,IAAMmI,EAAiB/B,EAAOiC,MAAK,SAAC3G,GAAD,aAAOA,EAAEH,KAAF,UAAQ+G,EAAKC,aAAb,aAAQ,EAAYhH,OAC3D4G,EAAe5G,KAEhBsG,EAAkBM,GAClBxB,EAAU2B,EAAK/G,IACf4I,EAAQlB,KAAR,mCAAyClC,EAAzC,YAoD8B+b,CAAgBxa,IAAOpG,UAAWkL,KAAG4B,KAAOmC,UAAR,gBACrDnC,KAAOoC,gBAAoB9I,EAAK+I,YADnC,SAGE,cAACH,GAAA,EAAKK,KAAN,UACE,eAACvG,EAAA,EAAD,CAAK9I,UAAU,qBAAf,UACE,cAAC+I,EAAA,EAAD,CAAKE,GAAG,IAAID,GAAG,IAAf,SACE,qBAAK3H,IAAM+E,EAAKmJ,MAAN,UAAenJ,EAAKmJ,aAApB,aAAe,EAAY3G,WAAa4G,GAAcxP,UAAWkL,KAAG4B,KAAO2C,iBAAR,gBAC1E3C,KAAO4C,+BAAmCtJ,EAAK+I,gBAGpD,eAACpG,EAAA,EAAD,CAAKE,GAAG,IAAID,GAAG,IAAf,UACE,qBAAKhJ,UAAU,uBAAf,SAAuCoG,EAAK1E,OAC5C,qBAAK1B,UAAU,aAAf,SAA6BqN,GAAajH,EAAK2J,YAAa,MAC5D,gCACE,sBAAM/P,UAAU,gFAAgFL,MAAO,CAAEkQ,WAAY,uBAArH,mBAA8IzJ,EAAK0K,gBAAnJ,aAA8I,EAAepP,OAC7J,uBAAM1B,UAAU,qEAAqEL,MAAO,CAACkQ,WAAY,yBAAzG,UACE,cAAC,KAAD,CAAY7P,UAAU,SADxB,UAEGoG,EAAKC,aAFR,aAEG,EAAY3E,2BAW7B,MAEF6f,EAAczjB,QAAU,cAACwU,GAAD,CAAQhF,KAAM,qDAG1C,qBAAKtN,UAAU,mDAAmDL,MAAO,CAACoB,UAAW,sBAArF,SACE,cAACiO,GAAA,EAAD,CAAMhP,UAAU,oBAAhB,SACE,cAACgP,GAAA,EAAKK,KAAN,UACE,mBAAGrP,UAAU,OAAb,gDC/HC,SAAS6hB,KACtB,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACI,cAAC,IAAD,CACEC,OAAK,EACLC,KAAK,qCACLC,UAAWC,KAGb,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,mBAAmBC,UAAWE,KAEhD,cAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,mBAAmBC,UAAWG,KAEhD,cAAC,IAAD,CACEL,OAAK,EACLC,KAAK,0CACLC,UAAWI,KAGb,cAAC,IAAD,CACEN,OAAK,EACLC,KAAK,mDACLC,UAAWK,KAGb,cAAC,IAAD,CACEP,OAAK,EACLC,KAAK,kEACLC,UAAWK,KAGb,cAAC,IAAD,CACEP,OAAK,EACLC,KAAK,4CACLC,UAAWM,KAIb,cAAC,IAAD,CACER,OAAK,EACLC,KAAK,+BACLC,UAAWO,KAEb,cAAC,IAAD,CACET,OAAK,EACLC,KAAK,oCACLC,UAAWQ,KAEb,cAAC,IAAD,CACEV,OAAK,EACLC,KAAK,iCACLC,UAAWS,KAEb,cAAC,IAAD,CACEX,OAAK,EACLC,KAAK,gCACLC,UAAWU,KAEb,cAAC,IAAD,CACEZ,OAAK,EACLC,KAAK,wCACLC,UAAWW,KAGb,cAAC,IAAD,CACEb,OAAK,EACLC,KAAO,6BACPC,UAAWY,KAEb,cAAC,IAAD,CAAOd,OAAK,EAACC,KAAK,sBAAsBC,UAAWa,KAEnD,cAAC,IAAD,CAAOd,KAAK,IAAIC,UAAWa,UCzGrC,IAYeC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,UCERQ,GAAgBC,aAAW,mCAAoC,CACnEC,OAAQ,OAGVC,IAASlX,OACP,cAAC,IAAMmX,WAAP,UACE,cAAC,EAAD,UACE,cAAC,YAAD,CAAUlI,OAAQ8H,GAAlB,SACE,cAAC,GAAD,UAINxX,SAASC,eAAe,SAG1B8W,M,mBCvBAtmB,EAAOC,QAAU,CAAC,WAAa,8BAA8B,iBAAmB,oCAAoC,SAAW,8B,mBCA/HD,EAAOC,QAAU,CAAC,gBAAkB,qCAAqC,aAAe,kCAAkC,aAAe,kCAAkC,qBAAuB,0CAA0C,wBAA0B,6CAA6C,wBAA0B,+C,mBCA7UD,EAAOC,QAAU,CAAC,mBAAqB,uCAAuC,cAAgB,kCAAkC,qBAAuB,2C,mBCAvJD,EAAOC,QAAU,CAAC,kBAAoB,wCAAwC,0BAA4B,mD","file":"static/js/main.72c2fbe2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"accordion_order\":\"PayCheck_accordion_order__3s86V\",\"accordion_order__btn\":\"PayCheck_accordion_order__btn__LpGYW\",\"accordion_order__body\":\"PayCheck_accordion_order__body__3S2hF\",\"paycheck_border_radius\":\"PayCheck_paycheck_border_radius__3KWCs\",\"paycheck_custom\":\"PayCheck_paycheck_custom__1ibGi\",\"paycheck_btn_tip\":\"PayCheck_paycheck_btn_tip__26Kb8\",\"paycheck_btn_tip_format\":\"PayCheck_paycheck_btn_tip_format__3rPYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Navbar_avatar__3QOl8\",\"usertype_text\":\"Navbar_usertype_text__3FO13\",\"username_text\":\"Navbar_username_text__1E1eN\",\"navbar\":\"Navbar_navbar__21xQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card_menu\":\"MenuCardList_card_menu__3ji_G\",\"card_menu__title\":\"MenuCardList_card_menu__title__19Vvf\",\"card_menu__description\":\"MenuCardList_card_menu__description__ZLmbn\",\"card_menu__image\":\"MenuCardList_card_menu__image__1DRrf\",\"card_menu__image__unavailable\":\"MenuCardList_card_menu__image__unavailable__1GsEX\",\"card_menu__price\":\"MenuCardList_card_menu__price__3KZJ3\",\"bg_unavailable\":\"MenuCardList_bg_unavailable__1Awer\",\"text_unavailable\":\"MenuCardList_text_unavailable__3Z_0O\",\"card_menu__selected\":\"MenuCardList_card_menu__selected__DwJ0U\",\"card_menu__title__selected\":\"MenuCardList_card_menu__title__selected__3siG7\",\"container\":\"MenuCardList_container__1IQ3m\",\"row\":\"MenuCardList_row__1ikfm\",\"col\":\"MenuCardList_col__36xOP\"};","var _style, _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTpLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 361.1 137.8\",\n    style: {\n      enableBackground: \"new 0 0 361.1 137.8\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\r\\n\\t.st0{fill:#FE7B50;stroke:#FFFFFF;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;}\\r\\n\\t.st1{fill:#FE7B50;stroke:#FFFFFF;stroke-width:0.5;stroke-linecap:round;stroke-linejoin:round;}\\r\\n\\t.st2{fill:#033F7A;stroke:#FFFFFF;stroke-width:0.75;stroke-miterlimit:10;}\\r\\n\\t.st3{clip-path:url(#SVGID_2_);}\\r\\n\\t.st4{fill:#033F7A;}\\r\\n\")), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M107.2,111.2c-1.3-1.9-3.2-3.4-5.4-4.3c-2.6-1.1-5.4-1.6-8.3-1.5H81.2c-1.2,0-2.4-0.2-3.5-0.8 c-0.8-0.4-1.3-1.2-1.3-2.1c0-0.7,0.2-1.4,0.6-2c0.4-0.6,0.9-1,1.5-1.3c2.3,1,4.9,1.6,7.4,1.6c3.2,0,6.4-0.7,9.3-2.3 c2.7-1.5,4.9-3.6,6.4-6.3c1.6-2.7,2.4-5.8,2.3-9c0-2.9-0.9-5.8-2.6-8.2h4.2c0.5,0,1-0.2,1.4-0.5c0.4-0.3,0.5-0.8,0.5-1.3v-4.7 c0.1-0.5-0.1-1-0.5-1.4c-0.4-0.3-0.9-0.5-1.4-0.5H92.8c-1.2-0.4-2.5-0.8-3.8-1c-1-0.2-2.1-0.3-3.1-0.3c-3.2,0-6.3,0.8-9.1,2.3 c-2.6,1.5-4.8,3.7-6.3,6.4c-1.5,2.8-2.3,6-2.3,9.2c0,2,0.3,4.1,1,6c0.6,1.9,1.6,3.6,2.8,5.1c-1.5,0.8-2.8,2.1-3.6,3.6 c-0.9,1.6-1.3,3.4-1.3,5.2c-0.1,2.2,0.5,4.3,1.7,6.1c1.2,1.8,3,3.2,5,4c2.3,1,4.8,1.4,7.2,1.4h12.2c1.7-0.1,3.3,0.2,4.8,0.9 c1.1,0.7,1.7,1.9,1.6,3.2c0,1.7-1.1,3-3.2,3.9c-2.8,1-5.8,1.5-8.8,1.4c-2.7,0-5.4-0.2-8-0.7c-2.4-0.4-4.7-0.9-7-1.7 c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.3-0.1-0.5-0.2c-2.4-0.8-4.9,0.5-5.7,2.9c-0.8,2.4,0.5,4.9,2.9,5.7c0.1,0.1,0.2,0.2,0.3,0.2 c2.7,1,5.6,1.8,8.5,2.2c3.3,0.5,6.5,0.8,9.8,0.8c3.8,0.1,7.6-0.5,11.2-1.8c2.9-1,5.5-2.8,7.4-5.2c1.8-2.4,2.7-5.2,2.6-8.2 C109.1,115.5,108.5,113.2,107.2,111.2z M78.9,78.8c0.7-1.2,1.8-2.3,3-3c1.2-0.7,2.6-1.1,4.1-1.1c3,0,5.7,1.5,7.2,4.1 c0.7,1.3,1.1,2.8,1.1,4.3c0,1.5-0.4,2.9-1.1,4.1c-0.7,1.2-1.8,2.2-3,2.9c-1.3,0.7-2.8,1.1-4.2,1.1c-1.5,0-2.9-0.4-4.1-1.1 c-1.2-0.7-2.2-1.8-2.9-3c-0.7-1.3-1.1-2.7-1.1-4.1C77.9,81.6,78.2,80.1,78.9,78.8z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M19.7,67.8c-0.1-0.6,0.3-1.2,1-1.3c0.1,0,0.2,0,0.3,0h4.6V54.9c0-0.7,0.4-1.3,1.1-1.5l7.7-3 c0.2,0,0.3-0.1,0.5-0.1c0.3,0,0.6,0.1,0.7,0.3c0.2,0.3,0.3,0.6,0.3,0.9v15h9.8c0.6-0.1,1.2,0.3,1.3,0.9c0,0.1,0,0.2,0,0.4v7.2 c0.1,0.6-0.3,1.2-0.9,1.3c-0.1,0-0.2,0-0.3,0h-9.8v29.9c0.1,0.6-0.3,1.2-0.9,1.3c-0.1,0-0.2,0-0.3,0H27c-0.3,0-0.7-0.1-1-0.3 c-0.2-0.3-0.4-0.6-0.3-0.9V76.3H21c-0.6,0.1-1.2-0.3-1.3-1c0-0.1,0-0.2,0-0.3L19.7,67.8z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M52.9,53.3c-1-0.6-1.8-1.3-2.3-2.3c-0.6-0.9-0.9-2-0.9-3.1c0-1.1,0.3-2.2,0.9-3.2c0.6-1,1.4-1.8,2.3-2.3 c1-0.6,2-0.9,3.2-0.8c2.3,0,4.4,1.2,5.5,3.2c0.6,1,0.9,2,0.8,3.2c0,1.1-0.3,2.2-0.8,3.1c-0.6,0.9-1.4,1.7-2.3,2.3 c-1,0.6-2.1,0.9-3.2,0.8C55,54.1,53.9,53.8,52.9,53.3z M60.8,66.8c0.3,0.3,0.4,0.6,0.3,1v38.4c0,0.4-0.1,0.7-0.3,1 c-0.3,0.2-0.6,0.4-1,0.3h-7.6c-0.6,0.1-1.2-0.3-1.3-1c0-0.1,0-0.2,0-0.3V67.8c-0.1-0.6,0.3-1.2,1-1.3c0.1,0,0.2,0,0.3,0h7.7 C60.2,66.5,60.6,66.6,60.8,66.8z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M140.6,68.2c3.1,1.9,5.7,4.6,7.4,7.9c1.8,3.3,2.6,7.1,2.5,10.8c0,1.2-0.5,2.3-1.3,3.1c-0.8,0.7-1.9,1.1-3,1.1 h-26.8c0.8,2.3,2.3,4.4,4.3,5.9c1.9,1.5,4.3,2.3,6.8,2.3c2.7,0,5.6-1.1,8.7-3.2c0.3-0.2,0.6-0.3,0.9-0.3c0.4,0,0.7,0.2,0.9,0.6 l1.6,2.3c0.8,1,1.4,1.9,1.9,2.6c0.2,0.3,0.3,0.6,0.3,0.9c0,0.4-0.2,0.8-0.5,1c-3.8,3.5-8.8,5.4-14,5.4c-3.9,0-7.7-1-11-2.9 c-3.3-1.9-6.1-4.6-8-7.9c-2-3.3-3-7-3-10.9c-0.1-11.8,9.4-21.5,21.3-21.6c0.2,0,0.3,0,0.5,0C133.8,65.3,137.4,66.3,140.6,68.2z  M122.9,77.6c-2,1.4-3.3,3.6-3.9,5.9h20.9c-0.5-2.3-1.7-4.4-3.5-5.9c-1.8-1.5-4.2-2.3-6.6-2.2C127.4,75.3,124.9,76.1,122.9,77.6z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M187.9,70c0,0.3-0.1,0.6-0.3,0.8l-3.5,5.5c-0.2,0.4-0.6,0.6-1,0.6c-0.2,0-0.5-0.1-0.7-0.2l-0.3-0.3 c-0.9-0.7-2-1.2-3.1-1.6c-1.1-0.3-2.2-0.5-3.4-0.5c-1.8,0-3.6,0.4-5.2,1.3c-1.6,0.9-2.9,2.1-3.8,3.7c-0.9,1.5-1.4,3.2-1.4,5v21.8 c0.1,0.6-0.3,1.3-1,1.4c-0.1,0-0.2,0-0.3,0h-7.6c-0.7,0.1-1.2-0.4-1.3-1c0-0.1,0-0.2,0-0.3V67.8c0-0.4,0.1-0.7,0.4-1 c0.3-0.3,0.6-0.4,1-0.4h6c0.8,0,1.2,0.3,1.3,0.8l0.9,4.6c1.4-2.1,3.3-3.8,5.6-4.9c2.2-1.2,4.6-1.8,7.1-1.8c2,0,3.9,0.3,5.7,1 c1.7,0.6,3.3,1.6,4.6,2.8C187.8,69.2,188,69.6,187.9,70z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M344.2,48.1v-9.4c0,0-12.4-3.9-21.5,5.2c-5.2,5.2-5.5,13.3-5.5,16.2v6.5h-6.3l0,0h-12.7c0,0-0.4-8.3,0.4-10.7 s1.8-10.3,16.4-8.2v-9.4c0,0-12.4-3.9-21.5,5.2c-5.2,5.2-5.5,13.3-5.5,16.2v6.5h-10.3v10.2H288v30.6h10.3V76.9h18.9v30.6h10.3V77.2 h12.6V67h-12.7c0,0-0.4-8.3,0.4-10.7S329.6,46,344.2,48.1z\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st2\",\n    d: \"M334,29.6c-7.2-13.7-20.3-23.3-35.5-26.1c-14.9-2.5-30.2,2-41.3,12.2c-5.6,5-9.9,11.2-12.8,18.2 c-15.1-5.2-33-1-43.9,11.1c-3.5,3.9-6.1,8.4-7.8,13.3c-1.2,3.3,4,4.7,5.2,1.4c5.1-14.5,19.9-23.2,34.9-22.7c4.1,0.1,8,1,11.8,2.6 c1.3,0.8,3,0.3,3.8-1c0.1-0.2,0.2-0.4,0.2-0.6c4.5-12.8,14.5-22.8,27.2-27.5c12.8-4.5,27-2.7,38.3,4.8c6.5,4.2,11.8,10,15.3,16.9 C331,35.4,335.6,32.7,334,29.6z\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st2\",\n    d: \"M267.1,32.1c3.5-9.6,14.3-16.1,24.4-14.5c1,0.2,1.9-0.3,2.2-1.3c0.3-1-0.3-1.9-1.3-2.2 c-12.4-1.7-24.4,5.4-28.8,17.1C262.9,33.3,266.4,34.3,267.1,32.1L267.1,32.1z\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M213.1,65c3.7,0.7,5.8,1.3,8.8,3.2c3,1.9,5.4,4.6,7,7.8c3.4,7,3.4,15.2,0,22.2c-1.6,3.2-4,5.9-7,7.8 c-3,1.9-6.5,2.9-10.1,2.8c-2.7,0-5.4-0.6-7.8-1.8c-2.4-1.1-4.5-2.8-6.1-4.9l0.1,24.2c0.1,0.7-0.4,1.3-1.1,1.4c-0.1,0-0.2,0-0.3,0 H189c-0.3,0-0.7-0.1-0.9-0.4c-0.2-0.3-0.4-0.6-0.4-1V86c0,0-0.7-6,4.6-13.4C196.6,66.6,206.3,63.7,213.1,65z M215.7,97.2 c1.7-1,3.2-2.5,4.2-4.2c1.1-1.8,1.6-3.9,1.6-5.9c0-2.1-0.5-4.2-1.6-6c-1-1.8-2.5-3.3-4.2-4.3c-1.8-1-3.8-1.6-5.8-1.6 c-6.5-0.1-11.8,5.2-11.9,11.7c0,0.1,0,0.1,0,0.2c0,2.1,0.5,4.1,1.6,5.9c1,1.8,2.5,3.2,4.3,4.2c1.8,1,3.9,1.6,6,1.6 C211.9,98.7,214,98.2,215.7,97.2L215.7,97.2z\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M236.6,67.3v16c0,0,0.1,12.4,0.6,13.7s3.4,10.5,17.1,10.5s18.4-10,18.4-12.7V67.1h-11.5v20.7 c0,0,0.6,10.3-6.5,10.3s-6-9.8-6-10.6V67.3H236.6z\"\n  })), /*#__PURE__*/React.createElement(\"g\", null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"SVGID_1_\",\n    d: \"M106.7,111c-1.8-2.4-2.8-2.6-5.1-3.8s-5.2-1.4-8.4-1.4H81.1c-1.2,0-2.4-0.3-3.5-0.9 c-0.8-0.5-1.4-1.3-1.4-2.3c0-0.8,0.2-1.6,0.6-2.2c0.4-0.6,1-1.1,1.7-1.4c2.3,1.1,4.8,1.8,7.4,1.9c3.2,0.1,6.4-0.7,9.3-2.3 c2.7-1.5,4.9-3.6,6.4-6.3c1.6-2.7,2.4-5.8,2.3-9c0-2.9-0.9-5.8-2.6-8.2h4.2c0.5,0,1-0.2,1.4-0.5c0.4-0.3,0.5-0.8,0.5-1.3v-4.7 c0-0.5-0.2-1-0.5-1.4c-0.4-0.3-0.9-0.5-1.4-0.5H92.8c-1.2-0.4-2.5-0.8-3.8-1c-1-0.2-2.1-0.4-3.1-0.4c-3.2,0-6.3,0.8-9.1,2.3 c-2.6,1.5-4.8,3.7-6.3,6.4c-1.5,2.8-2.3,6-2.3,9.2c0,2,0.3,4.1,1,6c0.6,1.9,1.6,3.6,2.8,5.1c-1.4,0.8-2.6,2.1-3.3,3.6 c-0.9,1.6-1.4,3.4-1.4,5.2c-0.1,2.1,0.5,4.2,1.7,5.9c1.2,1.7,2.8,3.1,4.8,3.9c2.3,1,4.8,1.5,7.2,1.4h12.3c1.8-0.1,3.6,0.3,5.2,1.1 c1.1,0.7,1.6,1.9,1.5,3.2c0,1.7-1,3.3-3.5,4.2c-2.8,1-5.8,1.4-8.8,1.4c-2.7,0-5.4-0.2-8-0.7c-2.4-0.4-4.7-1.1-7-2 c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.3-0.1-0.5-0.2c-2.5-0.7-5.1,0.7-5.8,3.2c-0.5,2.3,0.7,4.6,2.9,5.4c0.1,0.1,2.5,0.8,2.6,0.9 c1.8,0.5,3.6,0.9,5.4,1.1c3.5,0.6,7.1,0.9,10.7,1c3.8,0,7.6-0.6,11.1-1.9c3-1,5.5-2.9,7.4-5.4c1.6-2.3,2.4-5,2.3-7.8 C108.9,115.4,108.1,113,106.7,111z M78.9,78.9c0.7-1.2,1.8-2.3,3-3c1.2-0.7,2.6-1.1,4.1-1.1c3,0,5.7,1.5,7.2,4.1 c0.7,1.3,1.1,2.8,1.1,4.3c0,2.9-1.6,5.6-4.1,7c-1.3,0.7-2.7,1.1-4.2,1.1c-1.4,0-2.9-0.4-4.1-1.1c-1.2-0.7-2.2-1.8-2.9-3 c-0.7-1.3-1.1-2.7-1.1-4.1C77.9,81.6,78.2,80.2,78.9,78.9z\"\n  }))), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"SVGID_2_\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#SVGID_1_\",\n    style: {\n      overflow: \"visible\"\n    }\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    className: \"st3\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M82.7,124.1c-0.3,3.4-0.5,7.3,2,10c0.8,0.9,2.1-0.4,1.3-1.3c-2.2-2.3-1.8-5.9-1.5-8.7c0-0.5-0.4-0.9-0.9-0.9 C83.1,123.2,82.7,123.5,82.7,124.1L82.7,124.1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M92.7,124l2.7,9.1c0.2,0.5,0.7,0.7,1.2,0.6c0.4-0.2,0.7-0.6,0.6-1.1l-2.7-9.1c-0.2-0.5-0.7-0.7-1.2-0.5 C92.9,123.1,92.6,123.6,92.7,124z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M98,119.8c4.8,2.4,10.1,3.9,15.4,4.5c1.2,0.1,1.2-1.7,0-1.9c-5-0.6-9.9-2-14.4-4.3 C97.9,117.7,97,119.3,98,119.8L98,119.8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M96.7,116.5c4.4-2.6,9.2-4.5,14.2-5.6c1.2-0.3,0.7-2.1-0.5-1.8c-5.1,1.2-10.1,3.2-14.6,5.8 c-0.4,0.3-0.6,0.8-0.3,1.3C95.7,116.6,96.3,116.8,96.7,116.5L96.7,116.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M92.2,104.8c-1.5,3.5-3.6,6.7-6.1,9.5c-0.8,0.9,0.5,2.2,1.3,1.3c2.6-2.9,4.8-6.3,6.4-9.9 c0.2-0.4,0.1-1-0.3-1.3C93,104.2,92.4,104.3,92.2,104.8C92.2,104.8,92.2,104.8,92.2,104.8L92.2,104.8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M81.9,104.3c-2.1,1.7-4.5,3.1-6.9,4.3c-1.2,0.6-2.4,1.1-3.7,1.5c-1,0.4-2.7,1.1-3.7,0.5s-2.1,0.8-1.1,1.5 c1.3,0.9,2.7,0.6,4.1,0.2c1.5-0.5,3-1,4.4-1.6c2.8-1.3,5.5-2.9,8-4.8C84,105,82.9,103.5,81.9,104.3L81.9,104.3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M67.4,99c3.7,1.7,7.6,3.2,11.6,4.3c0.5,0.1,1-0.2,1.1-0.6c0.1-0.5-0.2-1-0.6-1.1c-3.8-1.1-7.5-2.4-11.1-4.1 c-0.4-0.2-1-0.1-1.3,0.3C66.9,98.2,67.1,98.7,67.4,99L67.4,99z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st4\",\n    d: \"M77.4,123.1c0,0-3.5-1.2-4.9-1.6c-2.4-0.9-5.1,0.3-6,2.7c0,0,0,0.1,0,0.1c-1.2,3.4,1.7,4.9,3.1,5.7 c1.8,0.7,3.7,1.2,5.6,1.6C75.3,131.6,74.7,125.9,77.4,123.1z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTpLogo);\nexport default __webpack_public_path__ + \"static/media/tp-logo.f15adbdd.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useState} from \"react\";\r\n// tigerpuff logo \r\nimport {ReactComponent as TPLogo} from '../assets/logo/tp-logo.svg';\r\nimport { Container, Row, Col, Card } from \"react-bootstrap\";\r\nimport '../assets/styles/CustomerLayout.css';\r\nexport default function CustomerLayout(props){\r\n  /**\r\n   * pages that has gradient bg \r\n   * home, signup, signin \r\n  **/\r\n  const renderStyleBgWhiteGradient = () => {\r\n    if(props.bgGradient){\r\n      return {\r\n        backgroundImage: `linear-gradient(to bottom, rgba(${props.bgGradient}, 0) 0%, rgba(${props.bgGradient}, 1) 55%)`,\r\n        height: '100vh'\r\n      }\r\n    }\r\n    return {\r\n      minHeight: '100%'\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n    {/* \r\n      Main Content \r\n      Full width minus off the footer\r\n    */}\r\n    {/* render the cover photo if required */}\r\n    { \r\n      props.coverPhoto && \r\n      <div\r\n      className=\"position-absolute h-100 w-100\"\r\n      style={{\r\n        backgroundImage: `url(${props.coverPhoto})`,\r\n        zIndex: '-1',\r\n        // blur effect \r\n        filter: 'blur(1px)',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: '0% 0%',\r\n        backgroundRepeat: 'no-repeat',\r\n        // opacity: 0.45\r\n        // minHeight: 'calc(100vh - 45px)'\r\n      }}\r\n      >\r\n      </div>\r\n    }\r\n    <div \r\n      className=\"d-flex flex-column \"\r\n      style={renderStyleBgWhiteGradient()}\r\n      >\r\n      {props.children}\r\n      {/* Powered By Tigerpuff */}\r\n      <div\r\n        className=\"mt-auto text-muted bottom-0 w-100 text-center\"\r\n        >\r\n          <div className=\"d-flex small pt-3 pb-2 justify-content-center align-items-center\">\r\n            Powered By \r\n            <TPLogo \r\n              style={{\r\n                height: '25px',\r\n                marginTop: '-0.25rem'\r\n              }}/>\r\n          </div>\r\n      </div> \r\n    </div>\r\n     \r\n    </>\r\n  )\r\n}","import React, { useEffect } from \"react\"\r\nimport { Image } from \"react-bootstrap\"\r\n\r\n\r\nexport default function RestaurantLogo(props){\r\n\r\n  return (\r\n    props.orientation == 'vertical' ? \r\n    <>\r\n      {/* display the restaurant image and logo vertically */}\r\n      <Image\r\n        src={props.logo}\r\n        fluid \r\n        className=\"mx-auto d-block\"\r\n        rounded\r\n        style={{height: (props.height) ? props.height : '55px'}}\r\n        />\r\n      <div\r\n        className=\"text-center mb-0 mt-2\"\r\n        style={{color: 'var(--tp-gray-300)'}}\r\n        >\r\n          {props.name}\r\n      </div>\r\n      \r\n    </>\r\n    :\r\n    <>\r\n      <div\r\n        className=\"d-flex align-items-center\"\r\n        >\r\n          <Image\r\n            src={props.logo}\r\n            fluid\r\n            style={{height: (props.height) ? props.height : '55px'}}\r\n            rounded/>\r\n            <div\r\n              className=\"text-center ms-2\"\r\n              style={{color: 'var(--tp-gray-300)'}}\r\n              >\r\n                {props.name}\r\n            </div>\r\n      </div>\r\n    </>\r\n  )\r\n}","/**\r\n * The main QR scanner to change table \r\n * NOTE: the current package used for this scanner to work has quite a bad support for ios and android\r\n * Need to update to another alternative: TODO LATER */\r\n\r\nimport QrReader from \"react-qr-reader\";\r\nimport { Button } from \"react-bootstrap\";\r\nexport default function QRScanner(props){\r\n  \r\n  const onScan = (data) => {\r\n    if(data){\r\n      // should have a more cleaner solution for this \r\n      props.scanResult(data)\r\n    }\r\n  }\r\n  const onError = (error) => {\r\n    console.log(error)\r\n  }\r\n  \r\n  const closeScanner = () => {\r\n    props.closeScanner(false)\r\n  }\r\n\r\n  return ( \r\n    <>\r\n      <h4 className=\"text-center\">Scan the QR Code on your table</h4>\r\n      <QrReader\r\n        onScan={onScan}\r\n        onError={onError}\r\n        facingMode={'environment'}\r\n        ></QrReader>\r\n      <div\r\n        className=\"d-grid gap-2 mt-2\">\r\n          <Button \r\n            variant=\"light\"\r\n            onClick={closeScanner}>\r\n              Cancel\r\n          </Button>\r\n        </div>\r\n    </>\r\n  )\r\n\r\n}","/**\r\n * Context Provider for Customer / Table Ordering Views\r\n **/\r\n\r\nimport { createContext, useContext, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n// init context\r\nconst CustContext = createContext();\r\n\r\n// initial state\r\nconst defaultState = {\r\n  tableInfo: {\r\n    id: null,\r\n    location: {},\r\n    order: {},\r\n  },\r\n  order: {\r\n    payment_type: null,\r\n    id: null,\r\n    customer: {},\r\n    items: [],\r\n  },\r\n};\r\n\r\n// provider\r\nexport const CustProvider = ({ children }) => {\r\n  const API = axios.create({ baseURL: process.env.REACT_APP_API_URL });\r\n\r\n  // table ordering detail. save details in local storage\r\n  const [tableInfo, setTableInfo] = useState(\r\n    JSON.parse(localStorage.getItem('tableInfo')) || defaultState.tableInfo\r\n  );\r\n  // we will use this at some point, for now, use name from order\r\n  const [user, setUser] = useState(\r\n    JSON.parse(localStorage.getItem('custUser')) || null\r\n  );\r\n  // global error if table doesn't exist\r\n  const [error, setError] = useState(null);\r\n  // Current Order Detail\r\n  const [order, setOrder] = useState(\r\n    JSON.parse(localStorage.getItem('order')) || defaultState.order\r\n  );\r\n  // menu\r\n  const [menu, setMenu] = useState(null);\r\n  //selected brand\r\n  const [brands, setBrands] = useState(\r\n    JSON.parse(localStorage.getItem('brands')) || []\r\n  );\r\n  const [selectedBrand, setSelectedBrand] = useState(\r\n    JSON.parse(localStorage.getItem('selectedBrand')) || {}\r\n  );\r\n\r\n  // maintain current scroll position y when going back from menu item \r\n  const [scrollY, setScrollY] = useState(0);\r\n\r\n  // show sidedrawer if item is selected \r\n  const [itemId, setItemId] = useState();\r\n\r\n  // retrieve taxes when joining table. \r\n  const [taxes, setTaxes] = useState(JSON.parse(localStorage.getItem('taxes')) || {});\r\n\r\n\r\n\r\n  /**\r\n   * get table info\r\n   * @param table_id\r\n   **/\r\n  const getTableInfo = async (table_id) => {\r\n    // if there is exiting table, check if table_id match\r\n    /*if (tableInfo) {\r\n      if (table_id == tableInfo.id) {\r\n        return tableInfo;\r\n      }\r\n    }*/\r\n    // else re-call, we are at a different table\r\n    try {\r\n      const res = await API.get(`/api/tables/${table_id}`);\r\n      if (res.data.success) {\r\n        // save the table detail\r\n        const data = res.data.data;\r\n        setTableInfo(data);\r\n        // persistent local storage\r\n        localStorage.setItem('tableInfo', JSON.stringify(data));\r\n        resetSavedState();\r\n      } else {\r\n        // fail to fetch, not found?\r\n        setTableInfo(defaultState.tableInfo);\r\n        setError(res.data.error_code);\r\n      }\r\n    } catch (err) {\r\n      // console.log(err)\r\n      setError(err.message);\r\n      console.log(err);\r\n    }\r\n  };\r\n  // return table no\r\n  const getTableNumber = () => {\r\n    if (tableInfo.id) {\r\n      return tableInfo.name;\r\n    }\r\n  };\r\n  // reset saved settings \r\n  const resetSavedState = () => {\r\n    // reset brands \r\n    setBrands([]);\r\n    localStorage.removeItem('brands');\r\n    // reset selectedBrands \r\n    setSelectedBrand({});\r\n    localStorage.removeItem('selectedBrand');\r\n    // reset order \r\n    setOrder(defaultState.order);\r\n    localStorage.removeItem('order');\r\n  };\r\n  /**\r\n   * Return tax % and label\r\n  **/ \r\n  const getTaxes = () => {\r\n    // check if location and tableInfo is present \r\n    if(Object.keys(taxes).length){\r\n      // very botchy, should consider returning items directly from BE\r\n      const service_charge = (parseFloat(taxes.service_charge) > 0) ? `Service Charge (${Math.round(parseFloat(taxes.service_charge * 100))}%)` : null ; \r\n      const government_tax = (parseFloat(taxes.government) > 0) ? `GST (${Math.round(parseFloat(taxes.government) * 100)}%)` : null; \r\n      let temp_taxes = [];\r\n      if(service_charge){\r\n        temp_taxes.push({\r\n          label: service_charge, \r\n          value: parseFloat(taxes.service_charge),\r\n          // we define how to calculate this \r\n          calculate: (amt) => {\r\n            return amt * parseFloat(taxes.service_charge);\r\n          }\r\n        });\r\n      }\r\n      if(government_tax){\r\n        temp_taxes.push({\r\n          label: government_tax,\r\n          value: parseFloat(taxes.government),\r\n          // we define how to calculate this \r\n          calculate: (amt) => {\r\n            if(amt){\r\n              return (amt + (amt * parseFloat(taxes.service_charge))) * taxes.government\r\n            }\r\n            return 0;\r\n          }\r\n        })\r\n      }\r\n      return temp_taxes;\r\n    }\r\n  }\r\n  /**\r\n   * create order\r\n   * @param int table_id\r\n   * @param obj formData\r\n   */\r\n  const createOrder = async (table_id, formData) => {\r\n    try {\r\n      const res = await API.put(`/api/tables/${table_id}/join`, formData);\r\n      if (res.data.success) {\r\n        // save state and save to localStorage if we want to access it at a later state\r\n        const order = res.data.data.order;\r\n        const location = res.data.data.location; \r\n        setOrder(order);\r\n        localStorage.setItem('order', JSON.stringify(order));\r\n        setUser(formData);\r\n        localStorage.setItem('custUser', JSON.stringify(formData));\r\n        // set location tax \r\n        if(location){\r\n          setTaxes(location);\r\n          localStorage.setItem('taxes', JSON.stringify(location));\r\n        }\r\n      } else {\r\n        // fail to put\r\n        setOrder(defaultState.order);\r\n        setError('Error creating order');\r\n        return true;\r\n      }\r\n    } catch (err) {\r\n      console.log(error);\r\n      // setError(err)\r\n    }\r\n    // API.put(`/api/tables/${table_id}`, formData)\r\n  };\r\n  const handleSelectBrand = (value) => {\r\n    setSelectedBrand(value);\r\n    // reset default scroll position \r\n    setScrollY(0);\r\n    localStorage.setItem('selectedBrand', JSON.stringify(value));\r\n  };\r\n  const getBrands = async (table_id, select) => {\r\n    try {\r\n      const res = await API.get(`/api/tables/${table_id}/menu`);\r\n      if (res.data.success) {\r\n        if (res.data.data?.stores) {\r\n          setBrands(res.data.data.stores);\r\n          localStorage.setItem('brands', JSON.stringify(res.data.data.stores));\r\n          if (select) {\r\n            handleSelectBrand(res.data.data.stores[0]);\r\n          } else {\r\n            let selected_brand = JSON.parse(\r\n              localStorage.getItem('selectedBrand')\r\n            )?.id;\r\n            if (selected_brand !== undefined) {\r\n              let obj = res.data.data.stores.find((item) => {\r\n                return item.id === selected_brand;\r\n              });\r\n              // only update the latest menu availability \r\n              handleSelectBrand({\r\n                ...selectedBrand,\r\n                items: obj.items\r\n              });\r\n            }\r\n          }\r\n        }\r\n        if (res.data.data?.store) {\r\n          setBrands([res.data.data.store]);\r\n          localStorage.setItem('brands', JSON.stringify([res.data.data.store]));\r\n          handleSelectBrand(res.data.data.store);\r\n        }\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      return false;\r\n    }\r\n  };\r\n  //\r\n  // context values\r\n  const value = {\r\n    user,\r\n    tableInfo,\r\n    order,\r\n    menu,\r\n    error,\r\n    getTableNumber,\r\n    getTableInfo,\r\n    createOrder,\r\n    getBrands,\r\n    brands,\r\n    selectedBrand,\r\n    handleSelectBrand,\r\n    scrollY,\r\n    setScrollY,\r\n    getTaxes,\r\n    itemId,\r\n    setItemId\r\n  };\r\n\r\n  useEffect(() => {\r\n    setError(null);\r\n  }, []);\r\n  return <CustContext.Provider value={value}>{children}</CustContext.Provider>;\r\n};\r\n\r\n// get context method\r\nexport const useCustContext = () => {\r\n  return useContext(CustContext);\r\n};\r\n","import axios from 'axios';\r\n\r\nconst API = axios.create({ baseURL: process.env.REACT_APP_API_URL });\r\n\r\n/**\r\n * ported over CustContext\r\n */\r\n// export const getInfoTable = (table_id) => API.get(`/api/tables/${table_id}`);\r\n// export const createOrder = (id, formData) =>\r\n//   API.put(`/api/tables/${id}/join`, formData);\r\n\r\n/**\r\n * Get the menu items\r\n * @param int table_id\r\n **/\r\nexport const getMenu = (table_id) => API.get(`/api/tables/${table_id}/menu`);\r\n\r\n/**\r\n * Get the item details\r\n * @param int item_id\r\n **/\r\nexport const getItemDetails = (item_id) =>\r\n  API.get(`/api/menus/items/${item_id}`);\r\nexport const addToCart = (id, formData) =>\r\n  API.patch(`/api/orders/${id}/add-to-cart`, formData);\r\nexport const getOrderInfo = (id) => API.get(`/api/orders/${id}`);\r\nexport const deleteOrderItem = (id) => API.delete(`/api/orders/items/${id}`);\r\nexport const updateOrderItem = (id, formData) =>\r\n  API.patch(`/api/orders/items/${id}`, formData);\r\nexport const PayForOrder = (id, formData) =>\r\n  API.post(`/api/orders/${id}/pay`, formData);\r\n","/**\r\n * MAIN INDEX FOR DINE IN PAGE\r\n * url: /customer/table-ordering/:table_id\r\n * This is the welcome page when the customer wants to dine in\r\n **/\r\nimport React, { useEffect, useState, useRef } from 'react';\r\n// react-router-dom\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  useParams,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Image,\r\n  Form,\r\n  FloatingLabel,\r\n  Alert,\r\n} from 'react-bootstrap';\r\n// layout\r\nimport CustomerLayout from '../layout/CustomerLayout';\r\n// qr scanner\r\n// sample data section\r\nimport RestaurantLogo from '../components/RestaurantLogo';\r\nimport QRScanner from '../components/QrScanner';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { getMenu } from '../api';\r\n/**\r\n * The Home view for customer dining in.  */\r\nexport default function Home(props) {\r\n  const { table_id } = useParams();\r\n  const { tableInfo, getTableInfo, error, createOrder, getBrands } =\r\n    useCustContext();\r\n  const history = useHistory();\r\n  const [name, setName] = useState('');\r\n  // activate the scanner\r\n  const [scan, setScan] = useState(false);\r\n  const qrReaderRef = useRef();\r\n\r\n  const clickScan = () => {\r\n    // click on the scanner\r\n    setScan(true);\r\n  };\r\n\r\n  // when scan redirect them to the correct path.\r\n  const onScan = (data) => {\r\n    if (data) {\r\n      window.location.href = data;\r\n    }\r\n  };\r\n  // scan error\r\n  const onError = (error) => {\r\n    console.log(error);\r\n  };\r\n\r\n  // handle the onsubmit event\r\n  const handleSubmit = async (e) => {\r\n    console.log(name);\r\n    e.preventDefault();\r\n    // return false if the name is not available\r\n    if (!name) {\r\n      return false;\r\n    }\r\n    // try to create new order\r\n    if (createOrder(table_id, { guess_name: name })) {\r\n      \r\n      if(tableInfo.location?.type == 'food_center'){\r\n        // redirect to the brands page and allow user to select the brands they want to view first \r\n        history.push(`/customer/table-ordering/${table_id}/brands`);\r\n      }else{\r\n        // restaurant or something else \r\n        history.push(`/customer/table-ordering/${table_id}/menu`);\r\n\r\n      }\r\n    }\r\n    // try {\r\n    //   const res = await createOrder(table, {\r\n    //     name: name,\r\n    //   });\r\n    //   console.log(res.data);\r\n    //   history.push(`/customer/menu/${restaurant}/${table}`);\r\n    // } catch (err) {\r\n    //   console.log(err);\r\n    // }\r\n  };\r\n\r\n  // on mount\r\n  useEffect(() => {\r\n    getTableInfo(table_id);\r\n  }, []);\r\n\r\n  // check error\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log(error);\r\n      // need a better error state. TBD\r\n      // history.push('/customer/not-found')\r\n    }\r\n  }, [error]);\r\n\r\n  return (\r\n    <CustomerLayout\r\n      // rgb or var values\r\n      bgGradient={'var(--bs-white-rgb)'}\r\n      // coverPhoto={data.location.background_photo}\r\n      coverPhoto={tableInfo.location?.background_photo?.public_url}\r\n    >\r\n      {/* Should be responsive if user is trying to use other devices instead  */}\r\n      <Container fluid className='h-100'>\r\n        <Row className='justify-content-center align-items-center h-100'>\r\n          <Col md='8' xs='12' sm='10' lg='6'>\r\n            {scan ? (\r\n              <QRScanner scanResult={onScan} closeScanner={setScan}></QRScanner>\r\n            ) : (\r\n              <>\r\n                {error && <Alert variant='danger'><i className=\"bi bi-exclamation-circle me-2\"></i>{error}</Alert>}\r\n                <div className='mt-2'>\r\n                  <RestaurantLogo\r\n                    orientation='vertical'\r\n                    logo={tableInfo.location?.logo?.public_url}\r\n                    name={tableInfo.location?.name}\r\n                  />\r\n                </div>\r\n                <h1 className='text-center mt-5 mb-0 fw-bold text-primary'>Welcome!</h1>\r\n                <div className='mb-2'>\r\n                  <div className='fs-5 text-center mb-0 text-secondary'>\r\n                    {tableInfo.name}\r\n                  </div>\r\n                  \r\n                  {/* we are temporary removing this feature */}\r\n                  {/* <div \r\n                          className=\"text-center\">\r\n                            <a \r\n                              href=\"#\" \r\n                              onClick={clickScan} \r\n                              className=\"text-decoration-none fw-semibold\"\r\n                              style={{\r\n                                color: 'var(--tp-gray-300)'\r\n                              }}\r\n                            >This is not my table</a>\r\n                        </div> */}\r\n                </div>\r\n                <Form onSubmit={handleSubmit}>\r\n                  <FloatingLabel className='mb-3' label='Your Name'>\r\n                    <Form.Control\r\n                      size='lg'\r\n                      required\r\n                      placeholder='Your Name'\r\n                      onChange={(e) => setName(e.target.value)}\r\n                      className='tp-rounded'\r\n                    ></Form.Control>\r\n                  </FloatingLabel>\r\n                  <div className='d-grid gap-2'>\r\n                    <Button\r\n                      type='submit'\r\n                      variant='primary'\r\n                      size='lg'\r\n                      className='tp-rounded font-tp fw-semibold'\r\n                    >\r\n                      Start Ordering\r\n                    </Button>\r\n                  </div>\r\n                </Form>\r\n              </>\r\n            )}\r\n            {/* Loyalty is not available yet */}\r\n            {/* <div\r\n              className='text-center mt-4'\r\n              style={{\r\n                color: 'var(--tp-gray-300)',\r\n              }}\r\n            >\r\n              <p>\r\n                Loyalty rewards awaits!{' '}\r\n                <Link to='/customer/signin' className='fw-semibold text-decoration-none'>\r\n                  Log in now\r\n                </Link>\r\n              </p>\r\n            </div> */}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </CustomerLayout>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.4b83d489.png\";","export default __webpack_public_path__ + \"static/media/cover-photo.b42ee178.png\";","/**\r\n * SIGN IN PAGE FOR CUSTOMER \r\n * url: /customer/signin\r\n * This is the sign in page for the customer \r\n * TBD: based on the figma design, we are retaining the restuarant's logo\r\n * and their name as the header\r\n **/ \r\n\r\nimport React, {useEffect, useState, useRef} from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  useHistory\r\n} from 'react-router-dom'\r\n\r\n\r\nimport { Container, Row, Col, Card, Button, Image, Form, FloatingLabel, InputGroup } from \"react-bootstrap\";\r\nimport CustomerLayout from \"../layout/CustomerLayout\";\r\nimport Logo from '../assets/images/logo.png';\r\nimport RestaurantLogo from \"../components/RestaurantLogo\";\r\nimport CoverPhoto from '../assets/images/cover-photo.png';\r\n/* main function to sign in\r\n*/ \r\nexport default function SignIn(){\r\n  // define the variables \r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [viewPassword, setViewPassword] = useState(false)\r\n  // fake data\r\n  const data = {\r\n    name: 'Bo\\'s Coffee House',\r\n    logo: Logo,\r\n    cover_photo: CoverPhoto\r\n    \r\n  }\r\n  // view password \r\n  const clickToggleViewPassword = () => {\r\n    setViewPassword(p => !p)\r\n  }\r\n  // handle submit \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    // do some magic here\r\n  }\r\n\r\n  return (\r\n    <CustomerLayout\r\n      bgGradient={'var(--bs-white-rgb)'}\r\n      coverPhoto={data.cover_photo}\r\n    >\r\n      <Container fluid className=\"mt-5 h-100\">\r\n        <Row className=\"justify-content-center h-100 align-items-center\">\r\n          <Col md=\"8\" xs=\"12\" sm=\"10\" lg=\"6\">\r\n            {/* Do we need to add the Resturant logo? */}\r\n            {/* <RestaurantLogo\r\n              orientation=\"horizontal\"\r\n              logo={data.logo}\r\n              name={data.name}></RestaurantLogo> */}\r\n            <h2 className=\"mt-5 text-secondary text-center\">\r\n              SIGN IN\r\n            </h2>\r\n            <Form onSubmit={handleSubmit}>\r\n              <FloatingLabel \r\n                className=\"mb-2\"\r\n                label=\"Email\"\r\n                >\r\n                <Form.Control\r\n                  size=\"lg\"\r\n                  required\r\n                  placeholder=\"Email\"\r\n                  type=\"email\"\r\n                  className=\"tp-rounded\"\r\n                  onChange={e => setEmail(e.target.value)}>\r\n                </Form.Control>\r\n              </FloatingLabel>\r\n              <FloatingLabel \r\n                className=\"mb-2\"\r\n                label=\"Password\">\r\n                <Form.Control\r\n                  type={! viewPassword ? 'password' : 'text'}\r\n                  size=\"lg\"\r\n                  required\r\n                  placeholder=\"Password\"\r\n                  className=\"tp-rounded\"\r\n                  onChange={e => setPassword(e.target.value)}></Form.Control>\r\n                  {/* view password icon */}\r\n                  <button\r\n                    className=\"border-0 bg-transparent position-absolute\"\r\n                    style={{\r\n                      top: '1rem',\r\n                      right: '0.752rem'\r\n                    }}\r\n                    onClick={clickToggleViewPassword}\r\n                  >\r\n                    <i\r\n                      className=\"bi bi-eye\"\r\n                    />\r\n                  </button>\r\n              </FloatingLabel>\r\n              {/* submit button */}\r\n              <Form.Group className=\"mt-4\">\r\n                <div className=\"d-grid gap-2\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    size=\"lg\"\r\n                    variant=\"primary\"\r\n                    className=\"fw-bold tp-rounded\"  \r\n                  >\r\n                      Start Ordering\r\n                    </Button>\r\n                </div>\r\n              </Form.Group>\r\n            </Form>\r\n            <Row className=\"justify-content-between mt-3\">\r\n              <Col>\r\n                <Link to=\"/customer/signup\" \r\n                  className=\"fw-bold\"\r\n                  style={{\r\n                    textDecoration: 'none',\r\n                    color: 'var(--tp-gray-300)'\r\n                  }}>Sign Up</Link>\r\n              </Col>\r\n              <Col className=\"text-end\">\r\n                <Link to=\"\" \r\n                  className=\"fw-bold\"\r\n                  style={{\r\n                    textDecoration: 'none',\r\n                    color: 'var(--tp-gray-300)'\r\n                  }}>Forgot Password</Link>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </CustomerLayout>\r\n  )\r\n}\r\n","/**\r\n * SIGN UP PAGE FOR CUSTOMER \r\n * url: /customer/sign-up \r\n * If the customer wants to sign up to collect rewards, this is the signup page.\r\n * TBD: Do we need to display the restaurant's name for this */ \r\n\r\n\r\nimport React, {useEffect, useState, useRef} from \"react\";\r\n// react-router-dom\r\nimport {\r\n  BrowserRouter as Router, \r\n  Link,\r\n  useParams,\r\n  useHistory\r\n} from 'react-router-dom'\r\n\r\n// layout \r\nimport CustomerLayout from \"../layout/CustomerLayout\";\r\n\r\n// bootstrap modules \r\nimport {Container, Row, Col, Card, Button, Image, Form, FloatingLabel} from \"react-bootstrap\"\r\n// resturant logo \r\nimport Logo from '../assets/images/logo.png';\r\nimport CoverPhoto from '../assets/images/cover-photo.png';\r\n\r\n// The main sign up view \r\nexport default function SignUp() {\r\n\r\n  // input fields \r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  // fake data\r\n  const data = {\r\n    name: 'Bo\\'s Coffee House',\r\n    logo: Logo,\r\n    cover_photo: CoverPhoto\r\n  }\r\n  // handle form submit \r\n  const handleSubmit = (e) => {\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <CustomerLayout\r\n      bgGradient={'var(--bs-white-rgb)'}\r\n      coverPhoto={data.cover_photo}\r\n    >\r\n      <Container\r\n        className=\"h-100\"\r\n      >\r\n        <Row\r\n          className=\"d-flex justify-content-center h-100 align-items-center\"\r\n          >\r\n            <Col md=\"6\" xs=\"12\" sm=\"10\">\r\n              {/* displaying the same information of the restaurant here  */}\r\n              <div className=\"d-flex align-items-center\">\r\n                {/* <Image\r\n                  src={data.logo}\r\n                  fluid\r\n                  style={{height:'65px'}}/>\r\n                  <h5 className=\"ms-3\">{data.name}</h5> */}\r\n              </div>\r\n              <h2 className=\"text-center text-secondary\">SIGN UP</h2>\r\n              <p className=\"text-center fw-semibold\">\r\n                We just need a few more details about you to get started.\r\n              </p>\r\n              <Form onSubmit={handleSubmit}>\r\n                {/* Email */}\r\n                <FloatingLabel \r\n                  className=\"mb-2\"\r\n                  label=\"Email\"\r\n                  >\r\n                  <Form.Control\r\n                    type=\"email\"\r\n                    required\r\n                    placeholder=\"Email\"\r\n                    size=\"lg\"\r\n                    className=\"tp-rounded\"\r\n                    onChange={e =>setEmail(e.target.value)}\r\n                    ></Form.Control>\r\n                </FloatingLabel>\r\n                {/* Password */}\r\n                <FloatingLabel \r\n                  className=\"mb-2\"\r\n                  label=\"Password\">\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    required\r\n                    placeholder=\"Password\"\r\n                    size=\"lg\"\r\n                    className=\"tp-rounded\"\r\n                    onChange={e => setEmail(e.target.value)}></Form.Control>\r\n                </FloatingLabel>\r\n                {/* Re-enter Password */}\r\n                <FloatingLabel \r\n                  className=\"mb-4\"\r\n                  label=\"Confirm Password\">\r\n                  <Form.Control\r\n                      type=\"password\"\r\n                      required\r\n                      placeholder=\"Confirm Password\"\r\n                      size=\"lg\"\r\n                      className=\"tp-rounded\"\r\n                      onChange={e => setConfirmPassword(e.target.value)}>\r\n                  </Form.Control>\r\n                </FloatingLabel>\r\n                {/* Submit button */}\r\n                <Form.Group>\r\n                  <div className=\"d-grid gap-2\">\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      size=\"lg\"\r\n                      className=\"tp-rounded fw-bold\"\r\n                      type=\"submit\">\r\n                        SIGN UP\r\n                      </Button>\r\n                  </div>\r\n                </Form.Group>\r\n              </Form>\r\n            </Col>\r\n        </Row>\r\n      </Container>\r\n    </CustomerLayout>\r\n  )\r\n\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTable(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 16,\n    viewBox: \"0 0 20 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 3.5C20 1.57 15.52 0 10 0C4.48 0 0 1.57 0 3.5C0 5.31 3.95 6.81 9 6.98V11H7.35C6.53 11 5.8 11.5 5.49 12.26L4 16H6L7.2 13H12.8L14 16H16L14.5 12.26C14.2 11.5 13.46 11 12.65 11H11V6.98C16.05 6.81 20 5.31 20 3.5V3.5Z\",\n    fill: \"#808D9A\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTable);\nexport default __webpack_public_path__ + \"static/media/table.4b69b82e.svg\";\nexport { ForwardRef as ReactComponent };","/**\r\n * CUSTOMER NAVBAR WHEN VIEWING AUTH\r\n * This is a component for the customer view*/\r\n\r\nimport React, { useState } from 'react';\r\nimport { Container, Col, Row, Form, Navbar, Image } from 'react-bootstrap';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { ReactComponent as TableSvg } from '../assets/icons/table.svg';\r\nimport styles from '../assets/styles/Navbar.module.css';\r\nimport { Button } from 'react-bootstrap';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport LetteredAvatar from 'react-lettered-avatar';\r\nimport cx from 'classnames';\r\nimport { BsChevronLeft } from 'react-icons/bs';\r\nexport default function NavbarCust(props) {\r\n  const history = useHistory();\r\n  const {table_id} = useParams();\r\n  const { getTableNumber, tableInfo, user } = useCustContext();\r\n  return (\r\n    <Navbar expand='lg' className={cx((props.className),{\r\n      'bg-white sticky-top' : ! props.className,\r\n    })}>\r\n      <Container\r\n        fluid\r\n        className='d-flex justify-content-between align-items-center'\r\n      >\r\n        {props.page == 'home' && (\r\n          <>\r\n            {/* we are showing the current table no and current group */}\r\n            {/* <div\r\n              className='d-flex align-items-center tp-rounded px-3 py-1'\r\n              style={{\r\n                background: 'var(--tp-primary-4)',\r\n              }}\r\n              onClick={() => {history.push(`/customer/table-ordering/${table_id}/brands`)}}\r\n            >\r\n              <div>\r\n                <TableSvg />\r\n              </div>\r\n              <div className='ms-1 fw-bold'>{getTableNumber()}</div>\r\n            </div> */}\r\n            <div\r\n              onClick={() => history.push(`/customer/table-ordering/${table_id}/brands`)}\r\n            >\r\n              <span className=\"d-flex align-items-center fw-bold lh-sm  cursor-pointer\" >\r\n                <BsChevronLeft className='me-2 stroke-width-2' />\r\n                <div>\r\n                  <div className='small truncate fw-normal'>{tableInfo.location?.name}</div>\r\n                  <div className='text-primary'>{getTableNumber()}</div>\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <div className='text-truncate d-flex align-items-center'>\r\n              {/*<div className={styles.avatar}></div>*/}\r\n              <div className='me-2 text-end lh-sm'>\r\n                <div className='small' style={{color: 'var(--bs-gray-600)'}}>Guest User</div>\r\n                <div className='fw-bold'>{user?.guess_name}</div>\r\n              </div>\r\n              <LetteredAvatar\r\n                name={user?.guess_name}\r\n                color='var(--tp-primary)'\r\n                backgroundColor='var(--tp-primary-4)'\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n        {/* Go back will need to be accompanied with a title  */}\r\n        {props.goBack && (\r\n          <>\r\n            <div className='d-flex col-1 align-items-center text-secondary'>\r\n              <Button\r\n                className='rounded-pill border-0 text-secondary bg-transparent ps-0 pb-2'\r\n                onClick={() => history.goBack()}\r\n              >\r\n                <BsChevronLeft size={20} style={{strokeWidth: '2px'}}/>\r\n              </Button>\r\n            </div>\r\n            <div>\r\n              {props.title && <h4 className='my-0 fw-bold'>{props.title}</h4>}\r\n            </div>\r\n            <div className='col-1'>&nbsp;</div>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n","/**\r\n * Search UI on the menu section\r\n * The search UI needs to accomodate for multi brands. so we need a dropdown here if\r\n * type == foodcourt\r\n **/\r\nimport { useEffect, useState } from 'react';\r\nimport { Row, Col, Form, Button } from 'react-bootstrap';\r\nimport {BiSearch} from 'react-icons/bi';\r\nimport { useHistory, useParams } from 'react-router';\r\nexport default function Search(props) {\r\n  // pass the search key to the parent to handle the searches\r\n  const {searchFunction, placeholder, globalSearch, focusOnInit} = props;\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [show, setShow] = useState(true);\r\n  const history = useHistory();\r\n  const {table_id} = useParams();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // if searchKey is empty, prevent execution\r\n    if (!searchKey) {\r\n      return false;\r\n    }\r\n  };\r\n  const handleResetSearch = () => {\r\n    setSearchKey('');\r\n    if(searchFunction){\r\n      searchFunction('');\r\n    }\r\n  }\r\n\r\n  // if a globalSearch is present, we should lead it to the search page \r\n  const handleRedirectToGlobalSearch = () => {\r\n    if(globalSearch){\r\n      history.push(`/customer/search/${table_id}`);\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(searchFunction){\r\n      searchFunction(searchKey);\r\n    }\r\n  }, [searchKey]);\r\n\r\n  useEffect(() => {\r\n    if(focusOnInit){\r\n      const search_form = document.getElementById('search-menu');\r\n      search_form.focus();\r\n    }\r\n  }, [focusOnInit])\r\n\r\n  return (\r\n  <div>\r\n    {\r\n      show ? \r\n      <div>\r\n        <Form className='mt-3 position-relative' onSubmit={handleSubmit}>\r\n          <Form.Control\r\n            // onBlur={e => setShow(false)}\r\n            className='rounded-pill ps-5'\r\n            id='search-menu'\r\n            // onKeyUp={() =>{ searchFunction('search-menu')}}\r\n            onChange={(e) => setSearchKey(e.target.value)}\r\n            onClick={() => handleRedirectToGlobalSearch()}\r\n            value={searchKey}\r\n            placeholder={placeholder || 'Search For Food'}\r\n            style={{\r\n              minHeight: '42px',\r\n            }}\r\n          />\r\n          {\r\n            searchKey && \r\n            <span className='position-absolute px-2 bg-white-50 tp-rounded fw-bold'\r\n            onClick={e => handleResetSearch()}\r\n            style={{\r\n              right:'1rem',\r\n              top: '0.5rem',\r\n              cursor: 'pointer'\r\n            }}\r\n            >x</span>\r\n          }\r\n          <i\r\n            className='bi bi-search position-absolute'\r\n            style={{\r\n              left: '1rem',\r\n              top: '0.5rem',\r\n            }}\r\n          />\r\n        </Form>\r\n      </div> : \r\n      <Button\r\n        variant=\"light\"\r\n        className=\"rounded-circle\"\r\n        style={{padding: '0px'}}\r\n        onFocus={e => setShow(true)}\r\n      >\r\n       <BiSearch size={20}/>\r\n      </Button>\r\n    }\r\n  </div>\r\n  )\r\n}\r\n","/**\r\n * This is the category pills UI on the menu page \r\n * Some discussion here. We are using a scrollspy method to auto select the category\r\n * when scrolling through the menu. I don't think we need to setCategory for now. \r\n **/\r\nimport { Nav } from \"react-bootstrap\";\r\nimport React, { useState,useEffect } from \"react\";\r\nimport styles from '../assets/styles/MenuCategory.module.css';\r\nimport ScrollSpyNav from 'react-scrollspy-nav';\r\nexport default function MenuCategory(props){\r\n  const {categories} = props;\r\n  // force scrollSPy to re-render component set a temporary timeout \r\n  const [render, setRender] = useState(false);\r\n  useEffect(() => {\r\n    setRender(false);\r\n    setTimeout(() => {setRender(true)}, 5);\r\n  }, [categories])\r\n  return (\r\n    // map categories array here \r\n    categories.length && render ? \r\n    (\r\n      <ScrollSpyNav\r\n        scrollTargetIds={(categories).map(i => `category-header-${i.id}`)}\r\n        activeNavClass={styles.menucategory_link__active}\r\n        scrollDuration=\"150\"\r\n      >\r\n        <div className=\"overflow-auto p-3\">\r\n          <Nav\r\n            className=\"d-flex flex-nowrap font-tp\"\r\n            id=\"menuCategory-tab\"\r\n            >\r\n            {categories.map((item) => {\r\n              return (\r\n                <Nav.Item \r\n                  key={item.id}\r\n                  className=\"flex-shrink-0\">\r\n                  <Nav.Link \r\n                    href={`#category-header-${item.id}`}\r\n                    className={styles.menucategory_link}\r\n                  >\r\n                    {item.label}\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n              )\r\n            })}\r\n          </Nav>\r\n        </div>\r\n      </ScrollSpyNav>\r\n    ) :\r\n    (\r\n      <div style={{height:'64px'}}></div>\r\n    )\r\n  )\r\n}","/**\r\n * Helper functions for customer pages */\r\n\r\n\r\nexport function truncateText(text, index){\r\n  if(text){\r\n    return text.length > index ? text.substring(0, (index - 3)) + '...' : text\r\n  }\r\n}\r\n// use INTL.numberformat to do the currency. \r\nexport function formatCurrency(value, currency = 'USD'){\r\n  const formatter = new Intl.NumberFormat('en-US',{\r\n    style: 'currency', currency: currency\r\n  });\r\n  if(!isNaN(parseFloat(value))){\r\n    return formatter.format(value);\r\n  }\r\n  return value; \r\n  \r\n}\r\n/**\r\n * render list taxes for Payment and Invoice page */ \r\nexport function renderTax(taxes, total){\r\n  if(taxes && taxes.length){\r\n    return ( \r\n      taxes.map((item, ind) => {\r\n        return(\r\n          <div className='d-flex mb-1 justify-content-between align-items-center' key={ind}>\r\n            <div>{item.label}</div>\r\n            <div className='fw-bold'>\r\n              {formatCurrency(item.calculate(total))}\r\n            </div>\r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * add 'from' before price to indicate the price may change \r\n * depending on variant and modifier selection \r\n**/ \r\nexport function renderFromText(item) {\r\n  if(Object.keys(item).length){\r\n    if(item.variants?.length || item.modifiers?.length){\r\n      return 'from';\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// get sale discount % \r\nexport function getDiscountPercentage(original, discount){\r\n  return Math.round(discount / original * 100)\r\n}\r\n\r\nexport function finalDiscountedPrice(original, discount){\r\n  if(parseFloat(original) && parseFloat(discount)){\r\n    return parseFloat(original) - parseFloat(discount);\r\n  }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPASURBVHgB7VqLTttAEBz7/Mg7lBSCWmj//7NaqWoIqBCchPjdnTWJWtqqMUQt6G4iYxTvPXZ2d/YQ9r7MrmpYDB+WwxEAy+EIgOVwBMByOAJgORwBsByOAFgORwAshyMAlsMRAMvhCIDlCPCKsF6vcXe3QJEXqOoa/X4Pw+EIURThqXgVBGRZhquruTp6dHSE+/t7jMZjpJsN5vNLRGGE0+kUT8GLL4FcnP/8+ROm0zMEQYiyrPDmzTECY9Dr9XF+fiH3Hmazr3gKXiQBnic/JMUh98XiFh8+fMQySSTl+3rh4fEWg+GQo7BardAWL6oENpLSl7MZTGCg3teV3t+eRBL9AL7/c7yKotGCKAxxdnampVKVJXxj9l7zWQRkaYoszzAYDPFcUNyWyyXOLy5gfuPAY+dpn8r6vu9JSUxwe3sj5VEijjsYjUbYF60JyPNcL9adJ4ubFmz/ec5M0/fdu/d72dNxasPx8UTX51gSRG0gIXWL/3a2JoBpWlWl/NZDKOrL67mgqk8mb/e2Z6SNlMSW/FJKgR3C89o5T7QioIl+JovUSESU4jjSOqQal2WhkeAGjPERimJHcSzOrXWcUdXuCXm1zuHJJ81SdCRlh1JCa7FbrZZqx5JiRNcynwkDxFGsZwDOy/FpulESuAeiKKkFlT7riUj6qqL7oVUX2M5LpplqRVFqOhKLxUI2GIhYGY0ojZPkTp9H4gBJSJKlksdaLyWLut2mjJJlok51ul2d6+bmm4ob58mzXL/j8yzNdG39/OAk5yQhVVWhLVoRwD7MlGeU+v3BbhNcnNA2NRho9GjTOB+poHc6HVHpdDcXo8xnvGg3Gh+h2+nuBKzI89/ugfMws7jGUNofL2ZbLN9xbJvoq084AOisRlZSkqlIYrRteX6TLXInCePRWO0b4ppirbdF+3Cvq/rBBjpmC43u8/X2FxyEAEaW6ckUDmTX27bIaFE0meq0YdbUf1Ap1nMo/ZylQud32SHjtd8LAYz8odGaAKba1glumClnfKPRSrVDPIiRCB7LIUwDEbtcz+vbTOmLaD7mgem72TQlQ8L4nH/opJHMKcdflhfXI2hDQdztSYhumfk7eId6R4hdgNGjHjR9OsdUTmd/Qy0lc319rW3w8WHnX+AgK7IDzC/n2hWaDmG0S+yL5uj/f97VOggBXal9pid7vnYEcWZycrrXWE8E8uR0epAT5VPgudfkLIcjAJbDEQDL4QiA5XAEwHI4AmA5HAGwHI4AWA5HACyHIwCWwxEAy+EIgOWwnoDvXvKqCTL0Mk8AAAAASUVORK5CYII=\"","/**\r\n * single menu item card*/\r\n\r\nimport { Card, Row, Image, Col } from \"react-bootstrap\";\r\nimport styles from \"../assets/styles/MenuCardList.module.css\";\r\nimport { formatCurrency, truncateText, getDiscountPercentage, finalDiscountedPrice} from \"./Helper\";\r\nimport cx from \"classnames\";\r\nimport { useEffect, useState } from \"react\";\r\nimport defaultImage from '../assets/images/menu-img-placeholder.png';\r\nimport { useCustContext } from \"../CustomerContext\";\r\nexport default function MenuCard(props) {\r\n  const {selected, addFromText} = props; \r\n  // we need to loop through the different variation of the item. \r\n  const [quantity, setQuantity] = useState(0);\r\n  const {setScrollY, setItemId} = useCustContext();\r\n  const onClickHandler = (e) => {\r\n    if (props.id && props.available) {\r\n      // save current scoll pos for menu\r\n      // const element = document.getElementById(`${props.id}-sc`);\r\n      // setScrollY(element.offsetTop);\r\n      // props.clickViewItem(props.id);\r\n      setItemId(props.id);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if(selected.length){\r\n      let num = 0;\r\n      selected.forEach((item)=> {\r\n        num += item.quantity;\r\n      })\r\n      setQuantity(num);\r\n    }\r\n  },[selected])\r\n  return props.name ? (\r\n    <Card\r\n      className={cx(styles.card_menu, {\r\n        [styles.bg_unavailable]: !props.available,\r\n        [styles.card_menu__selected]: props.selected.length,\r\n      })}\r\n      onClick={onClickHandler}\r\n      id={`${props.id}-sc`}\r\n    >\r\n      <Card.Body\r\n        className={cx(\"text-left\", {\r\n          [styles.text_unavailable]: !props.available,\r\n        })}\r\n      >\r\n        <Row className=\"align-items-center\">\r\n          <Col xs=\"4\" md=\"4\">\r\n            {/* set a default image if unavailable */}\r\n            <Image src={(props.image) ? props.image : defaultImage} fluid className={cx(styles.card_menu__image,{\r\n              [styles.card_menu__image__unavailable] : !props.available\r\n            })} />\r\n          </Col>\r\n          <Col xs=\"8\" md=\"8\">\r\n              <p\r\n                className={cx(('mb-0'),{\r\n                  [styles.text_unavailable]: !props.available,\r\n                  [styles.card_menu__title__selected]: props.selected.length,\r\n                })}\r\n              >\r\n                <span className=\"fw-bold font-tp\">{props.name}</span>{' '}\r\n                {props.priceDiscount > 0 && <span className=\"badge small text-primary tp-rounded\" style={{background: 'var(--tp-primary-4)'}}>\r\n                  {getDiscountPercentage(props.price, props.priceDiscount)}% off\r\n                </span>}\r\n              </p>\r\n              \r\n              <p className=\"small\" style={{color: 'var(--bs-gray-600)'}}>\r\n                {truncateText(props.description, props.truncateCount)}\r\n              </p>\r\n              <div className=\"d-flex mt-1 align-items-center justify-content-between\">\r\n                <div className=\"d-flex align-items-center\">\r\n                  <div>\r\n                    <span className=\"small\">{addFromText}</span>\r\n                  </div>\r\n                  <div>\r\n                    { props.priceDiscount > 0 && <span className=\"text-decoration-line-through ms-1\" style={{color:'var(--bs-gray-500)'}}>{formatCurrency(props.price)}</span> }\r\n                    <span className={cx('ms-1 d-inline-block fw-bold')}>\r\n                      {\r\n                        props.priceDiscount ? \r\n                          formatCurrency(finalDiscountedPrice(props.price, props.priceDiscount))\r\n                        : \r\n                          formatCurrency(props.price)                        \r\n                      }\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                {quantity > 0 && (\r\n                  <div>\r\n                    x\r\n                    <span className=\"fw-semibold\">{quantity}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  ) : null;\r\n}\r\n","/**\r\n * Menu List component for the customer\r\n **/\r\nimport { useEffect, useState } from 'react';\r\nimport { Container, Row, Card, Col, Image, Button } from 'react-bootstrap';\r\nimport MenuCard from './MenuCard';\r\nimport styles from '../assets/styles/MenuCardList.module.css';\r\nimport { useHistory } from 'react-router';\r\nimport { renderFromText } from './Helper';\r\nexport default function MenuCardList(props) {\r\n  // history\r\n  const {menu, orders, table, categories} = props;\r\n  const history = useHistory();\r\n  const [filteredMenu, setFilteredMenu] = useState([]);\r\n  const clickViewItem = (id) => {\r\n    if (id) {\r\n      // push route to the product detail page\r\n      history.push(`/customer/table-ordering/${props.table}/menu/${id}`);\r\n    }\r\n  };\r\n  // if there is an order already, return the object\r\n  const getOrder = (id) => {\r\n    if(! props.orders?.id){\r\n      return {}\r\n    }\r\n    const orderItems = props.orders?.order_items;\r\n    if(orderItems.length){\r\n      const order = orderItems.filter((x) => x.menu_item_id == id)\r\n      if (order.length) {\r\n        return order;\r\n      }\r\n    }\r\n    return {};\r\n  };\r\n  const renderMenuList = (category_id) => {\r\n    if (!props.menu.length) {\r\n      return null;\r\n    }\r\n    const filtered_menu = props.menu.filter(\r\n      (x) => x.category.id == category_id\r\n    );\r\n\r\n    if (filtered_menu.length) {\r\n      // sort by availability \r\n      const sorted_menu = filtered_menu.sort((a,b) => b.available - a.available)\r\n\r\n   \r\n      return sorted_menu.map((item) => {\r\n        return (\r\n          <Col lg='4' xs='12' md='6' className={styles.col} key={item.id}>\r\n            <MenuCard\r\n              name={item.name}\r\n              image={item.image?.public_url}\r\n              id={item.id}\r\n              description={item.description}\r\n              price={item.price}\r\n              clickViewItem={clickViewItem}\r\n              available={item.available}\r\n              selected={getOrder(item.id)}\r\n              truncateCount={50}\r\n              addFromText={renderFromText(item)}\r\n            />\r\n          </Col>\r\n        );\r\n      });\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleFilteredMenu = () => {\r\n    if(menu.length && categories.length){\r\n      let array = [];\r\n      categories.forEach((item) => {\r\n        let object = {};\r\n        const category_menu = menu.filter((i) => i.category?.id === item.id);\r\n        if(category_menu.length){\r\n          const sorted_category_menu = category_menu.sort((a,b) => b.available - a.available);\r\n          object = {\r\n            ...item,\r\n            items: sorted_category_menu\r\n          };\r\n          array.push(object);\r\n        }\r\n      })\r\n      setFilteredMenu(array);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleFilteredMenu();\r\n  }, [menu]);\r\n\r\n  return (\r\n    <Container fluid className={`${styles.container} position-relative`}>\r\n      {\r\n        filteredMenu.length ? \r\n        <div>\r\n          {filteredMenu.map((item,index) => {\r\n            return (\r\n              <div id={`category-header-${item.id}`} key={index} className=\"bg-white\">\r\n                <Container className=\"py-2 mt-3\" fluid>\r\n                  <h5 className=\"fw-bold\">\r\n                    {item.label}\r\n                  </h5>\r\n                </Container>\r\n                <Row className={styles.row}>\r\n                  {item.items.map((i,ind) => {\r\n                    return (\r\n                      <Col lg='4' xs='12' md='6' className={styles.col} key={i.id}>\r\n                        <MenuCard\r\n                          name={i.name}\r\n                          image={i.image?.public_url}\r\n                          id={i.id}\r\n                          description={i.description}\r\n                          price={i.price}\r\n                          clickViewItem={clickViewItem}\r\n                          available={i.available}\r\n                          selected={getOrder(i.id)}\r\n                          truncateCount={50}\r\n                          addFromText={renderFromText(i)}\r\n                          priceDiscount={(i.price_discount) ? parseFloat(i.price_discount) : 0}\r\n                        />\r\n                      </Col>\r\n                    )\r\n                  })}\r\n                </Row>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        :\r\n        null\r\n      }\r\n      {/* {props.categories.length ? (\r\n        <div>\r\n          {props.categories.map((item, index) => {\r\n            return (\r\n              <div id={`category-header-${item.id}`} key={index} className=\"bg-white\">\r\n                <Container className='py-1' fluid>\r\n                  <div className='fs-5 fw-bold'>\r\n                    {item.label}\r\n                  </div>\r\n                </Container>\r\n                <Row className={`${styles.row}`}>{renderMenuList(item.id)}</Row>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : null} */}\r\n    </Container>\r\n  );\r\n}\r\n","/**\r\n * Customer Fixed bottom footer */\r\nimport React from 'react'\r\n\r\nexport default function CustomerFooter(props){\r\n  const classPrefix = (props.classPrefix) ? props.classPrefix : 'py-3'\r\n  return (\r\n    <footer\r\n      className=\"fixed-bottom bottom-0 bg-white overflow-hidden\"\r\n      style={{\r\n        borderTopLeftRadius: 'var(--tp-border-radius)',\r\n        borderTopRightRadius: 'var(--tp-border-radius)',\r\n        boxShadow: '0 -0.25rem 0.25rem rgb(0 0 0 / 8%)'\r\n      }}\r\n    >\r\n      <div\r\n       className={classPrefix}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </footer>\r\n  )\r\n}","/**\r\n * This is the sticky footer cart that is appended below the page of the customer*/\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Container, Card, Row, Col, Button } from \"react-bootstrap\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport CustomerFooter from \"../components/CustomerFooter\";\r\nimport { formatCurrency } from \"./Helper\";\r\nexport default function FooterCart(props) {\r\n  // get the table no and restaurant\r\n  const { table_id } = useParams();\r\n  const history = useHistory();\r\n  const [total, setTotal] = useState(0);\r\n  const [amount, setAmount] = useState(0);\r\n  const { orderItems } = props;\r\n  useEffect(() => {\r\n    if (orderItems.final_total) {\r\n      setTotal(orderItems.final_total);\r\n    }\r\n    if (orderItems.order_items) {\r\n      let num = 0;\r\n      orderItems.order_items.forEach((item) => {\r\n        num = num + item.quantity;\r\n      });\r\n      setAmount(num);\r\n    }\r\n  }, [orderItems]);\r\n  return (\r\n    <CustomerFooter classPrefix=\"py-0\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col xs=\"12\" md=\"6\">\r\n          <Card className=\"border-0\">\r\n            <Row className=\"g-0 justify-content-between\">\r\n              <Col xs=\"6\" md=\"\">\r\n                <Card.Body className=\"py-2\">\r\n                  <span \r\n                    className=\"text-muted small\"\r\n                  >\r\n                    {amount} Items selected\r\n                  </span>\r\n                  <h4 className=\"fw-bold mt-0 mb-0\">\r\n                    {formatCurrency(total)}\r\n                  </h4>\r\n                </Card.Body>\r\n              </Col>\r\n              <Col xs=\"6\" className=\"text-end g-0\">\r\n                {/* if order is empty, we shouldn't allow them to checkout  */}\r\n                <Button\r\n                  disabled={!total}\r\n                  style={(!total) ? {\r\n                    opacity: 0.5\r\n                  } : null}\r\n                  onClick={() => {\r\n                    history.push(`/customer/checkout/${table_id}`);\r\n                  }}\r\n                  className=\"h-100 w-100 fw-bold rounded-0 font-tp rounded-end\"\r\n                >\r\n                  Check out\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </CustomerFooter>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {Card, Image} from 'react-bootstrap';\r\nimport cx from 'classnames';\r\nimport styles from '../assets/styles/MenuBrand.module.css';\r\nfunction MenuBrand(props) {\r\n  const { logo, background, text, selected, category } = props;\r\n  return (\r\n    <div className=\"mb-2\">\r\n      <Card className={cx(styles.brand_card)}>\r\n        <img src={background} className=\"w-100 h-100\" style={{objectFit:'cover'}}/>\r\n      </Card>\r\n      <div className='mt-2'>\r\n        <span className='badge text-primary shadow-sm' style={{background: 'var(--tp-primary-4)'}}>{category}</span>\r\n        <div className={cx('small fw-bold text-truncate font-tp mt-1')}>{text}</div> \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuBrand;\r\n","import { BsFolder2Open } from \"react-icons/bs\";\r\n\r\n/**\r\n * A default reusable state for empty data page*/ \r\nexport default function NoData(props){\r\n  const {text} = props;\r\n  return (\r\n    <div className=\"text-center h5 d-flex align-items-center justify-content-center\" >\r\n      <div className=\"p-4\">\r\n        <BsFolder2Open size={55}/>\r\n        <div className=\"mt-3\">{text || 'No Data'}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {React, useState, useEffect} from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { useCustContext } from \"../CustomerContext\";\r\nimport MenuBrand from \"./MenuBrand\";\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\nimport cx from 'classnames';\r\nimport styles from '../assets/styles/MenuBrand.module.css';\r\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\r\nimport NoData from \"./NoData\";\r\nexport default function BrandList(props){\r\n  const {brands, selectedBrand, handleSelectBrand, tableInfo, getBrands} = useCustContext();\r\n  const {keyword} = props;\r\n  const {table_id} = useParams();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [filteredBrands, setFilteredBrands] = useState([]);\r\n  const clickSelectBrand = (item) => {\r\n    handleSelectBrand(item);\r\n    if(props.goBack){\r\n      history.goBack();\r\n    }\r\n    if(props.goMenu){\r\n      history.push(`/customer/table-ordering/${table_id}/menu`)\r\n    }\r\n  }\r\n\r\n  const handleFilteredBrands = () => {\r\n    const filter = (keyword) ? keyword.toUpperCase() : '';\r\n    const filtered = brands.filter(x => {\r\n      return x.name.toUpperCase().indexOf(filter) != -1 && x.status == 1\r\n    });\r\n    setFilteredBrands(filtered);\r\n  }\r\n  useEffect(() => {\r\n    // check if brands empty. \r\n    if(! brands.length){\r\n      setLoading(true);\r\n      getBrands(table_id, false);\r\n    }\r\n    if(brands.length){\r\n      setLoading(false);\r\n    }\r\n    if(filteredBrands.length && selectedBrand.id && props.scrollable){\r\n      const scrollableDiv = document.getElementById('brand-scrollable-container');\r\n      const selectedBrandDiv = document.getElementById(`brandCol-${selectedBrand.id}`);\r\n      // scroll div to current selected brand \r\n      let offsetLeft = selectedBrandDiv.offsetLeft;\r\n      let width = selectedBrandDiv.scrollLeft;\r\n      scrollableDiv.scroll(offsetLeft - (width + 60) , 0);\r\n    }\r\n  }, [brands])\r\n\r\n  useEffect(() => {\r\n    handleFilteredBrands();\r\n  }, [keyword, brands]);\r\n  return (\r\n    <>\r\n    {\r\n      loading && \r\n      <div className=\"text-center\">\r\n        <AiOutlineLoading3Quarters className=\"icon-spin text-primary\" size={50}/>\r\n      </div>\r\n    }\r\n    {/* {\r\n      !filteredBrands.length && !loading && \r\n      <NoData\r\n        text={'No Stores Found'}\r\n      />\r\n    } */}\r\n    {\r\n    filteredBrands.length ?\r\n      <Container fluid>\r\n        <h3 className=\"fw-bold\">Stores</h3> \r\n      </Container>  : null\r\n    }\r\n    <div className={cx({\r\n      'mt-3 px-0' : props.scrollable,\r\n      'mt-2' : !props.scrollable\r\n    })}>\r\n      <div id={'brand-scrollable-container'}  className={cx({'container overflow-auto' : props.scrollable})}>\r\n        <Row className={cx({'flex-nowrap' : props.scrollable})}>\r\n        {filteredBrands.map((item, index) => {\r\n          return (\r\n            // only show the brands that are active\r\n            item.status ? \r\n            <Col \r\n              xs=\"6\" \r\n              md=\"4\" \r\n              key={index} \r\n              onClick={() => clickSelectBrand(item)}\r\n              className={cx({\r\n                [styles.brandCol] : props.scrollable\r\n              })}\r\n              id={`brandCol-${item.id}`}\r\n            >\r\n              <MenuBrand\r\n                category={item.category}\r\n                logo={item.logo?.public_url}\r\n                background={item.cover_photo?.public_url}\r\n                text={item.name}\r\n                selected={item.id === selectedBrand.id ? true : false}\r\n              />\r\n            </Col>\r\n            : null\r\n            );\r\n        })}\r\n        </Row>\r\n      </div>\r\n    </div>\r\n    </>\r\n  )\r\n\r\n}","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinusSquareO(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M16.1333 1.46667H5.86667C3.43661 1.46667 1.46667 3.43661 1.46667 5.86667V16.1333C1.46667 18.5634 3.43661 20.5333 5.86667 20.5333H16.1333C18.5634 20.5333 20.5333 18.5634 20.5333 16.1333V5.86667C20.5333 3.43661 18.5634 1.46667 16.1333 1.46667ZM5.86667 0C2.6266 0 0 2.6266 0 5.86667V16.1333C0 19.3734 2.6266 22 5.86667 22H16.1333C19.3734 22 22 19.3734 22 16.1333V5.86667C22 2.6266 19.3734 0 16.1333 0H5.86667Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.6667 9.53333C15.4767 9.53333 16.1333 10.19 16.1333 11C16.1333 11.81 15.4767 12.4667 14.6667 12.4667H7.33333C6.52332 12.4667 5.86667 11.81 5.86667 11C5.86667 10.19 6.52332 9.53333 7.33333 9.53333L14.6667 9.53333Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusSquareO);\nexport default __webpack_public_path__ + \"static/media/minus-square-o.6e58989d.svg\";\nexport { ForwardRef as ReactComponent };","/**\r\n * The item detail modifier component */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Container, ListGroup, Form } from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function ItemDetailModifier(props) {\r\n  const { editItemId } = props;\r\n  // the save state here\r\n  const [selectedModifier, setSelectedModifier] = useState([]);\r\n  const type = props.type ? props.type : 'radio';\r\n  // list group onClick event\r\n  // NOTE: do the option have id?\r\n  const clickSelectModifier = (modifier_id, option, index) => {\r\n    /*if (!modifier_id || !option_id) {\r\n      return false;\r\n    }\r\n    // update selected modifier\r\n    setSelectedModifier({\r\n      ...selectedModifier,\r\n      [modifier_id]: option_id,\r\n    });*/\r\n    let copy = [...selectedModifier[index]];\r\n    let check = copy.find((item) => {\r\n      return item.name === option.name;\r\n    });\r\n    if (check === undefined) {\r\n      copy.push({\r\n        id: modifier_id,\r\n        name: option.name,\r\n        price: option.price,\r\n      });\r\n      let mod = [...selectedModifier];\r\n      mod[index] = copy;\r\n      setSelectedModifier(mod);\r\n      props.handleSelectModifiers(mod);\r\n    } else {\r\n      let arr = copy.filter((item) => {\r\n        return item.name !== option.name;\r\n      });\r\n      let mod = [...selectedModifier];\r\n      mod[index] = arr;\r\n      setSelectedModifier(mod);\r\n      props.handleSelectModifiers(mod);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    let arr = [];\r\n    if (props.modifiers) {\r\n      if (editItemId === undefined) {\r\n        props.modifiers.forEach((item) => {\r\n          arr.push([]);\r\n        });\r\n        setSelectedModifier(arr);\r\n      } else {\r\n        if (props.orderModifiers) {\r\n          props.modifiers.forEach((item) => {\r\n            let arr1 = [];\r\n            props.orderModifiers.forEach((item1) => {\r\n              if (item1.id === item.id) {\r\n                arr1.push(item1);\r\n              }\r\n            });\r\n            arr.push(arr1);\r\n          });\r\n          setSelectedModifier(arr);\r\n        }\r\n      }\r\n    }\r\n  }, [props.modifiers, props.orderModifiers]);\r\n  // list the options\r\n\r\n  const renderOptionList = (modifier, modifier_index) => {\r\n    if (!modifier.options.length) {\r\n      return false;\r\n    }\r\n    // create the modifier list\r\n    return (\r\n      <ListGroup variant='flush'>\r\n        {modifier.options.map((item, index) => {\r\n          return (\r\n            <ListGroup.Item\r\n              key={index}\r\n              onClick={(e) => {\r\n                clickSelectModifier(modifier.id, item, modifier_index);\r\n              }}\r\n              className={`d-flex justify-content-between align-items-center pointer ${\r\n                selectedModifier[modifier.id] === index + 1\r\n                  ? 'fw-bold'\r\n                  : 'fw-light'\r\n              }`}\r\n            >\r\n              <div>\r\n                <Form>\r\n                  <Form.Check\r\n                    readOnly\r\n                    checked={\r\n                      selectedModifier[modifier_index] !== undefined &&\r\n                      selectedModifier[modifier_index].find((sel) => {\r\n                        return sel.name === item.name;\r\n                      }) !== undefined\r\n                        ? true\r\n                        : false\r\n                    }\r\n                    type={type}\r\n                    label={item.name}\r\n                  />\r\n                </Form>\r\n              </div>\r\n              {parseFloat(item.price) > 0 && <div>+ ${item.price}</div>}\r\n            </ListGroup.Item>\r\n          );\r\n        })}\r\n      </ListGroup>\r\n    );\r\n  };\r\n  return Array.isArray(props.modifiers) && props.modifiers.length\r\n    ? props.modifiers.map((modifier, modifier_index) => {\r\n        return (\r\n          <>\r\n            <div className='bg-gray-100 py-1' key={modifier.id}>\r\n              <Container fluid>\r\n                <p className='mb-0 fw-bold'>{modifier.name}</p>\r\n              </Container>\r\n            </div>\r\n            {renderOptionList(modifier, modifier_index)}\r\n          </>\r\n        );\r\n      })\r\n    : null;\r\n}\r\n","/**\r\n * The item detail modifier component */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Container, ListGroup, Form } from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function ItemDetailVariant(props) {\r\n  const { editItemId } = props;\r\n  // the save state here\r\n  const [selectedVariant, setSelectedVariant] = useState({});\r\n  const type = props.type ? props.type : 'radio';\r\n  // list group onClick event\r\n  // NOTE: do the option have id?\r\n  const clickSelectVariant = (option, id) => {\r\n    /*if (!modifier_id || !option_id) {\r\n       return false;\r\n     }\r\n     // update selected modifier\r\n     setSelectedModifier({\r\n       ...selectedModifier,\r\n       [modifier_id]: option_id,\r\n     });*/\r\n\r\n    // let copy = [...selectedVariant];\r\n    // copy[index] = option;\r\n    const updated_variant = {\r\n      ...selectedVariant,\r\n      [id] : option\r\n    };\r\n    setSelectedVariant(updated_variant);\r\n    props.handleSetGroupVariant(updated_variant);\r\n  };\r\n  const handleSetGroupVariant = (arr) => {\r\n    console.log(arr.join(' - '));\r\n  };\r\n  useEffect(() => {\r\n    if (props.variants) {\r\n      if (editItemId === undefined) {\r\n        let obj = {};\r\n        props.variants.forEach((item) => obj[item.id] = item.options[0]);\r\n        setSelectedVariant(obj);\r\n        props.handleSetGroupVariant(obj);\r\n      } else {\r\n        if (props.orderVariants?.name) {\r\n          let arr = props.orderVariants.name.split(' - ');\r\n          // exact comparison with the current variant item \r\n          if(arr.length){\r\n            let obj = {};\r\n            arr.forEach((item) => {\r\n              // loop through variant to see which\r\n              props.variants.forEach((variant) => {\r\n                let id = variant.id;\r\n                const option = variant.options.find((option) => option == item);\r\n                if(option){\r\n                  obj[id] = option;\r\n                }\r\n             }) \r\n            })\r\n            setSelectedVariant(obj);\r\n          }\r\n\r\n          // setSelectedVariant(arr);\r\n          // console.log(arr);\r\n        }\r\n      }\r\n    }\r\n  }, [props.variants, props.orderVariants]);\r\n  // list the options\r\n\r\n  const renderOptionList = (variant, id) => {\r\n    if (!variant.options.length) {\r\n      return false;\r\n    }\r\n\r\n    // create the modifier list\r\n    return (\r\n      <ListGroup variant='flush'>\r\n        {variant.options.map((item, index) => {\r\n          return (\r\n            <ListGroup.Item\r\n              key={index}\r\n              onClick={(e) => {\r\n                clickSelectVariant(item, id);\r\n              }}\r\n              className={`d-flex justify-content-between align-items-center pointer`}\r\n            >\r\n              <div>\r\n                <Form>\r\n                  <Form.Check\r\n                    readOnly\r\n                    type={type}\r\n                    label={item}\r\n                    checked={\r\n                      selectedVariant[id] === item ? true : false\r\n                    }\r\n                  />\r\n                  \r\n                </Form>\r\n              </div>\r\n            </ListGroup.Item>\r\n          );\r\n        })}\r\n      </ListGroup>\r\n    );\r\n  };\r\n  return Array.isArray(props.variants) && props.variants.length\r\n    ? props.variants.map((variant, variant_index) => {\r\n        return (\r\n          <>\r\n            <div className='bg-gray-100 py-1' key={variant.id}>\r\n              <Container fluid>\r\n                <p className='mb-0 fw-bold'>{variant.name}</p>\r\n              </Container>\r\n            </div>\r\n            {renderOptionList(variant, variant.id)}\r\n          </>\r\n        );\r\n      })\r\n    : null;\r\n}\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSquareO(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 6.4C0 2.86538 2.86538 0 6.4 0H17.6C21.1346 0 24 2.86538 24 6.4V17.6C24 21.1346 21.1346 24 17.6 24H6.4C2.86538 24 0 21.1346 0 17.6V6.4ZM10.6667 6.66667C10.6667 5.93029 11.2636 5.33333 12 5.33333C12.7364 5.33333 13.3333 5.93029 13.3333 6.66667V10.6667H17.3333C18.0697 10.6667 18.6667 11.2636 18.6667 12C18.6667 12.7364 18.0697 13.3333 17.3333 13.3333H13.3333V17.3333C13.3333 18.0697 12.7364 18.6667 12 18.6667C11.2636 18.6667 10.6667 18.0697 10.6667 17.3333V13.3333H6.66667C5.93029 13.3333 5.33333 12.7364 5.33333 12C5.33333 11.2636 5.93029 10.6667 6.66667 10.6667H10.6667V6.66667Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSquareO);\nexport default __webpack_public_path__ + \"static/media/plus-square-o.438b455b.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotes(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 3.75C0 2.75544 0.395088 1.80161 1.09835 1.09835C1.80161 0.395088 2.75544 0 3.75 0H14.25C15.2446 0 16.1984 0.395088 16.9016 1.09835C17.6049 1.80161 18 2.75544 18 3.75V9H12.75C11.7554 9 10.8016 9.39509 10.0983 10.0983C9.39509 10.8016 9 11.7554 9 12.75V18H3.75C2.75544 18 1.80161 17.6049 1.09835 16.9016C0.395088 16.1984 0 15.2446 0 14.25V3.75ZM10.5 17.7885C11.0305 17.6024 11.5124 17.2995 11.91 16.902L16.902 11.9085C17.2987 11.5112 17.6012 11.0298 17.787 10.5H12.75C12.1533 10.5 11.581 10.7371 11.159 11.159C10.7371 11.581 10.5 12.1533 10.5 12.75V17.7885Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotes);\nexport default __webpack_public_path__ + \"static/media/notes.5ea43ce2.svg\";\nexport { ForwardRef as ReactComponent };","/**\r\n * Item Detail Footer section\r\n * This component contains the add and minus of quantity\r\n **/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ReactComponent as MinusSvg } from \"../assets/icons/minus-square-o.svg\";\r\nimport { ReactComponent as PlusSvg } from \"../assets/icons/plus-square-o.svg\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { formatCurrency } from \"./Helper\";\r\nexport default function ItemDetailFooter(props) {\r\n  // const { order_item_id } = useParams();\r\n  const {editItemId} = props;\r\n  return (\r\n    <footer\r\n      className=\"fixed-bottom shadow-lg bg-white bottom-0 left-0 w-100\"\r\n      style={{ zIndex: 1030}}\r\n    >\r\n      <Form>\r\n        <Row className=\"g-0\">\r\n          <Col xs=\"5\" className=\"py-3 px-4\">\r\n            <Form.Group className=\"d-flex align-items-center justify-content-between\">\r\n              <div>\r\n                <Button\r\n                  variant=\"quantity\"\r\n                  onClick={() => props.setQuantity(props.quantity - 1)}\r\n                >\r\n                  <MinusSvg />\r\n                </Button>\r\n              </div>\r\n              <div>\r\n                {props.quantity && (\r\n                  <div className=\"my-0 fw-bold fs-5\">{props.quantity}</div>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  variant=\"quantity\"\r\n                  onClick={() => props.setQuantity(props.quantity + 1)}\r\n                >\r\n                  <PlusSvg />\r\n                </Button>\r\n              </div>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col xs=\"7\" className=\"d-grid gap-2\">\r\n            {! editItemId ? (\r\n              <Button\r\n                onClick={() => props.handleAddToCart()}\r\n                variant=\"primary\"\r\n                className=\"rounded-0 fw-bold d-flex align-items-center justify-content-center\"\r\n              >\r\n                Add to Order -\r\n                {props.price && (\r\n                  <>\r\n                    {\r\n                      props.priceDiscount > 0 ? \r\n                      <div className=\"lh-1 ms-1 text-end align-self-baseline\">\r\n                        <span className=\"small opacity-50 text-decoration-line-through\">\r\n                          {formatCurrency(props.price)}\r\n                        </span>\r\n                        <div>\r\n                          {formatCurrency(props.price - props.priceDiscount)}\r\n                        </div>\r\n                      </div>\r\n                      :\r\n                      <span>\r\n                        {formatCurrency(props.price)}\r\n                      </span>      \r\n                    }\r\n                               \r\n                  </>\r\n\r\n                )}\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                onClick={() => props.handleUpdatetoCart()}\r\n                variant=\"primary\"\r\n                className=\"rounded-0 fw-bold d-flex align-items-center justify-content-center\"\r\n              >\r\n                Update to Order -{\" \"}\r\n                {props.price && (\r\n                  <>\r\n                    {\r\n                      props.priceDiscount > 0 ? \r\n                      <div className=\"lh-1 ms-1 text-end align-self-baseline\">\r\n                        <span className=\"small opacity-50 text-decoration-line-through\">\r\n                          {formatCurrency(props.price)}\r\n                        </span>\r\n                        <div>\r\n                          {formatCurrency(props.price - props.priceDiscount)}\r\n                        </div>\r\n                      </div>\r\n                      :\r\n                      <span>\r\n                        {formatCurrency(props.price)}\r\n                      </span>      \r\n                    }\r\n                               \r\n                  </>\r\n\r\n                )}\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </footer>\r\n  );\r\n}\r\n","/**\r\n * Clicking on this item on the menu will open up a drawer instead \r\n **/ \r\n\r\nimport React, {useState,useEffect} from 'react';\r\nimport { Container, Row, Card, Offcanvas, Button, Form } from 'react-bootstrap';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { formatCurrency, renderFromText, finalDiscountedPrice } from './Helper';\r\nimport ItemDetailModifier from '../components/ItemDetailModifier';\r\nimport ItemDetailVariant from './ItemDetailVariant';\r\nimport ItemDetailFooter from '../components/ItemDetailFooter';\r\nimport { ReactComponent as NoteSvg } from '../assets/icons/notes.svg';\r\nimport {BsChevronLeft} from 'react-icons/bs';\r\nimport defaultImage from '../assets/images/menu-img-placeholder.png';\r\nimport {\r\n  addToCart,\r\n  deleteOrderItem,\r\n  getItemDetails,\r\n  getOrderInfo,\r\n  updateOrderItem,\r\n} from '../api';\r\nexport function ItemDrawer(props){\r\n  const {handleCloseItemDrawer, editItemId} = props;\r\n  const {itemId, setItemId, order} = useCustContext();\r\n  const [show, setShow] = useState(false);\r\n  const [itemInfo, setItemInfo] = useState({});\r\n  const [selectedModifiers, setSelectedModifiers] = useState([]);\r\n  const [extraNotes, setExtraNotes] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [itemQuantity, setItemQuantity] = useState(1);\r\n  const [orderItem, setOrderItem] = useState({});\r\n  const [groupVariant, setGroupVariant] = useState();\r\n  const handleClose = () => {\r\n    // reset information delay based on transition \r\n    setTimeout(() => {\r\n      setItemId(null);\r\n      setItemInfo({});\r\n      setGroupVariant([]);\r\n      setSelectedModifiers([]);\r\n      setExtraNotes('');\r\n      setItemQuantity(1);\r\n      setPrice(0);\r\n    }, 500);\r\n    setShow(false);\r\n    handleCloseItemDrawer();\r\n  }\r\n\r\n  const handleSelectModifiers = (item) => {\r\n    let mod = [];\r\n    item.forEach((item1) => {\r\n      item1.forEach((item2) => {\r\n        mod.push(item2);\r\n      });\r\n    });\r\n    console.log(mod);\r\n    setSelectedModifiers(mod);\r\n  };\r\n  const handleSetGroupVariant = (obj) => {\r\n    // let joinArr = arr.join(' - ');\r\n    if (itemInfo.group_variants.length) {\r\n      // check if all the array items are in the group_variant \r\n      const arr = Object.values(obj);\r\n      let group_var = itemInfo.group_variants[0].options.find(\r\n        (item) => arr.every(x => item.name.includes(x))\r\n      );\r\n      console.log(group_var);\r\n      setGroupVariant(group_var);\r\n    }\r\n  };\r\n  const getItemDetail = async () => {\r\n    const res = await getItemDetails(itemId);\r\n    if(res.status === 200){\r\n      await setItemInfo(res.data?.data);\r\n    }\r\n  }\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        if(res?.data){\r\n          const order = res.data.data.order;\r\n          let order_item = order.order_items.find((item) => {\r\n            return item.id == editItemId;\r\n          });\r\n          console.log(order_item);\r\n          setOrderItem(order_item);\r\n          setSelectedModifiers(order_item.modifiers);\r\n          setGroupVariant(order_item.variants);\r\n          setItemQuantity(order_item.quantity);\r\n          if(order_item.extra_notes){\r\n            setExtraNotes(order_item.extra_notes);\r\n          }\r\n        }\r\n\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleUpdatetoCart = async () => {\r\n    let formData = {\r\n      quantity: itemQuantity,\r\n    };\r\n\r\n    let modifiers = selectedModifiers.map((item) => {\r\n      return { ...item, quantity: itemQuantity };\r\n    });\r\n    formData['modifiers'] = modifiers;\r\n    if(extraNotes){\r\n      formData.extra_notes = extraNotes;\r\n    }\r\n    if (groupVariant?.name) {\r\n      formData['variant'] = {\r\n        name: groupVariant.name,\r\n        price: parseFloat(groupVariant.price),\r\n        quantity: itemQuantity,\r\n        price_discount: parseFloat(groupVariant.price_discount) || 0,\r\n      };\r\n    } else {\r\n      formData['variant'] = {};\r\n    }\r\n    console.log(formData);\r\n    try {\r\n      const res = await updateOrderItem(editItemId, formData);\r\n      console.log(res.data);\r\n      handleClose();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleAddToCart = async () => {\r\n    let formData = {\r\n      order_items: [\r\n        {\r\n          menu_item_id: parseInt(itemId),\r\n          quantity: itemQuantity,\r\n        },\r\n      ],\r\n    };\r\n    if(extraNotes){\r\n      formData.order_items[0].extra_notes = extraNotes;\r\n    }\r\n\r\n    let modifiers = selectedModifiers.map((item) => {\r\n      return { ...item, quantity: itemQuantity };\r\n    });\r\n    formData.order_items[0]['modifiers'] = modifiers;\r\n\r\n    if (groupVariant?.name) {\r\n      formData.order_items[0]['variants'] = {\r\n        name: groupVariant.name,\r\n        price: parseFloat(groupVariant.price),\r\n        price_discount: parseFloat(groupVariant.price_discount) || 0,\r\n        quantity: itemQuantity,\r\n\r\n      };\r\n    } else {\r\n      formData.order_items[0]['variants'] = {};\r\n    }\r\n    try {\r\n      const res = await addToCart(order.id, formData);\r\n      // a flag to send Menu.js to re-fetch orders api\r\n      if(res?.data){\r\n        handleClose();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // handle the discounted price \r\n\r\n\r\n  useEffect(() => {\r\n    if(itemId){\r\n      setShow(true);\r\n      getItemDetail();\r\n      if(editItemId){\r\n        getOrder();\r\n      }\r\n    }\r\n  }, [itemId])\r\n  useEffect(() => {\r\n        // update price\r\n        if (itemQuantity > 0) {\r\n          setPrice(itemInfo?.price)\r\n          // we need to take into consideration the additional top up\r\n          let modifierPrice = 0;\r\n          selectedModifiers.forEach((item) => {\r\n            modifierPrice = modifierPrice + parseFloat(item.price);\r\n          });\r\n          if (groupVariant?.price) {\r\n            setPrice(\r\n              itemQuantity * (parseFloat(groupVariant?.price) + modifierPrice)\r\n            );\r\n          } else {\r\n            setPrice(itemQuantity * (parseFloat(itemInfo?.price) + modifierPrice));\r\n          }\r\n        }\r\n  }, [itemId, itemQuantity, itemInfo, selectedModifiers, groupVariant, orderItem])\r\n  return (\r\n    <Offcanvas show={show} onHide={handleClose} placement={'end'} className=\"overflow-auto\" style={{\r\n      width:'100%'\r\n    }}>\r\n      <Offcanvas.Header\r\n        className=\"d-block\"\r\n        style={{minHeight: '250px'}}\r\n      >\r\n        <Button\r\n          variant='dark'\r\n          className='rounded-circle border-0'\r\n          onClick={handleClose}\r\n          style={{\r\n            background: 'rgba(0,0,0,.6)',\r\n            padding: '8px 10px'\r\n          }}\r\n        >\r\n          <BsChevronLeft className='stroke-width-2' size={20}/>\r\n        </Button>\r\n      </Offcanvas.Header>\r\n      <img src={(itemInfo.image?.public_url) ? itemInfo.image?.public_url : defaultImage} className=\"position-absolute\" style={{height:'250px', width:'100%', objectFit:'cover', zIndex:'-1'}}/>\r\n      <Container fluid className=\"mt-4\">\r\n        <div className='d-flex justify-content-between align-items-center'>\r\n          <h3 className='text-secondary fw-semibold'>{itemInfo?.name}</h3>\r\n          <div>\r\n            <div className='d-inline-block small text-gray'>\r\n              {renderFromText(itemInfo)}\r\n            </div>\r\n            <div className='d-inline-block ms-1 h4 mb-0 fw-normal fw-semibold'>\r\n              {\r\n                parseFloat(itemInfo?.price_discount) > 0 ? \r\n                  formatCurrency(finalDiscountedPrice(itemInfo.price, itemInfo.price_discount)) :\r\n                  formatCurrency(itemInfo?.price) || 0\r\n              }\r\n            </div>\r\n            {parseFloat(itemInfo?.price_discount) > 0 && <div className='text-end text-decoration-line-through'>{formatCurrency(itemInfo?.price)}</div>}\r\n          </div>\r\n        </div>\r\n        <p className='small' style={{color: 'var(--bs-gray-600)'}}>{itemInfo.description}</p>\r\n      </Container>\r\n      <ItemDetailModifier\r\n          modifiers={itemInfo?.modifiers}\r\n          orderModifiers={orderItem?.modifiers}\r\n          editItemId={editItemId}\r\n          required={true}\r\n          handleSelectModifiers={handleSelectModifiers}\r\n          type='checkbox'\r\n      />\r\n      {/* Item Detail Varients */}\r\n      <ItemDetailVariant\r\n        variants={itemInfo?.variants}\r\n        editItemId={editItemId}\r\n        orderVariants={orderItem?.variants}\r\n        type='radio'\r\n        handleSetGroupVariant={handleSetGroupVariant}\r\n      />\r\n      <Container fluid className=\"mt-1\"\r\n        style={{marginBottom:'85px'}}\r\n      >\r\n        <Form className='px-1'>\r\n          {/* special instructions section */}\r\n          <Form.Group className='d-flex align-items-center'>\r\n            <Form.Label className='mb-0'>\r\n              <span className='text-primary'>\r\n                <NoteSvg />\r\n              </span>\r\n            </Form.Label>\r\n            <Form.Control\r\n              placeholder='Extra note: E.g no pickles, more sauce..'\r\n              className='border-0 input-sm px-0 mx-2'\r\n              value={extraNotes}\r\n              onChange={(e) => setExtraNotes(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n        </Form>\r\n      </Container>\r\n      {/* Add to cart footer */}\r\n      <ItemDetailFooter\r\n        quantity={itemQuantity}\r\n        setQuantity={setItemQuantity}\r\n        price={price}\r\n        priceDiscount={(groupVariant?.price_discount) ? parseFloat(groupVariant?.price_discount) : 0}\r\n        handleAddToCart={handleAddToCart}\r\n        handleUpdatetoCart={handleUpdatetoCart}\r\n        editItemId={editItemId}\r\n      />\r\n    </Offcanvas>\r\n  )\r\n}","/**\r\n * MAIN RESTAURANT MENU PAGE\r\n * url: /customer/menu/{restaurant}/{table}\r\n * This page contains all the menu details and item to add into their cart */\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport CustomerLayout from '../layout/CustomerLayout';\r\nimport NavbarCust from '../components/NavbarCust';\r\nimport { Link, useParams, useHistory } from 'react-router-dom';\r\nimport { Container, Row, Col, Form, Button, Card } from 'react-bootstrap';\r\nimport Search from '../components/Search';\r\nimport MenuCategory from '../components/MenuCategory';\r\nimport MenuCardList from '../components/MenuCardList';\r\nimport FooterCart from '../components/MenuFooterCart';\r\nimport { getMenu, getOrderInfo } from '../api';\r\nimport BrandList from '../components/BrandList';\r\nimport { ItemDrawer } from '../components/ItemDrawer';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport NoData from '../components/NoData';\r\nexport default function Menu() {\r\n  const { selectedBrand, order, getBrands, scrollY } = useCustContext();\r\n  // maybe we can get the table no from a context\r\n  //const { restaurant, table } = useParams();\r\n  const { table_id } = useParams();\r\n  // the filtered menu items\r\n  const [menuData, setMenuData] = useState([]);\r\n  const [menuDataFilter, setMenuDataFilter] = useState([]);\r\n  const [menuCategory, setMenuCategory] = useState([]);\r\n\r\n  const handleFilterCategories = () => {\r\n    let category_id = [];\r\n    let categories = [];\r\n    if (selectedBrand.items !== undefined) {\r\n      selectedBrand.items.forEach((item) => {\r\n        if(item.category){\r\n          let check = category_id.includes(item.category?.id);\r\n          if (!check) {\r\n            category_id.push(item.category.id);\r\n            categories.push({ label: item.category.name, id: item.category.id });\r\n          }\r\n        }\r\n\r\n      });\r\n    }\r\n    setMenuCategory(categories);\r\n  };\r\n  useEffect(() => {\r\n    handleFilterCategories();\r\n    setMenuData(selectedBrand.items);\r\n    setMenuDataFilter(selectedBrand.items);\r\n    //setOrderData(orders);\r\n  }, [selectedBrand]);\r\n  const [searchStatus, setSearchStatus] = useState(false);\r\n  const searchFunction = (value) => {\r\n    // const input = document.getElementById(value);\r\n    // const filter = input.value.toUpperCase();\r\n    const filter = (value) ? value.toUpperCase() : '';\r\n    if(filter){\r\n      let data = [];\r\n      menuData.forEach((item) => {\r\n        if (\r\n          item.name.toUpperCase().indexOf(filter) > -1 ||\r\n          item.description.toUpperCase().indexOf(filter) > -1 || \r\n          item.category?.name.toUpperCase().indexOf(filter) > -1\r\n        ) {\r\n          data.push(item);\r\n        }\r\n      });\r\n      if (data.length === 0) {\r\n        setSearchStatus(true);\r\n      } else {\r\n        setSearchStatus(false);\r\n        setMenuDataFilter(data);\r\n      }\r\n    }else{\r\n      setMenuDataFilter(menuData);\r\n      setSearchStatus(false);\r\n    }\r\n\r\n  };\r\n  const [orderItems, setOrderItems] = useState({});\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        if(res?.data){\r\n          const order = res.data.data.order;\r\n          setOrderItems(order);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // if item drawer is close, fetch getOrder again\r\n  const handleCloseItemDrawer = (i) => {\r\n    getOrder();\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if(menuDataFilter.length && scrollY){\r\n      if(window){\r\n        window.scroll(0,scrollY);\r\n      }\r\n    }\r\n  }, [menuDataFilter])\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  useEffect(() => {\r\n    getBrands(table_id, false);\r\n  }, []);\r\n  return (\r\n    <CustomerLayout>\r\n      <NavbarCust table={table_id} page={'home'} className={'bg-transparent'}/>\r\n      <ItemDrawer\r\n        handleCloseItemDrawer={handleCloseItemDrawer}\r\n      />\r\n      {/* \r\n        NOTE: the search and the category UI needs to be a sticky when scrolling. so we wrap them in a div \r\n      */}\r\n      {/* <BrandList scrollable/> */}\r\n      <div style={{background: `url(${selectedBrand.cover_photo?.public_url}) 50% 50%`, backgroundSize:'cover'}}>\r\n        <div\r\n          style={{height: '200px'}}\r\n          className=\"d-flex justify-content-center align-items-center\"\r\n        >\r\n        </div>\r\n      </div>\r\n      <div className='bg-white tp-rounded py-2' style={{marginTop: '-10px'}}>\r\n        <Container>\r\n          <img src={selectedBrand.logo?.public_url} className={'img-fluid shadow-sm mb-2 bg-white tp-rounded p-1'}  style={{height:'45px', objectFit:'contain', marginTop: '-2.25rem'}}/>\r\n          <h2 className='mb-0 fw-bold'>{selectedBrand.name}</h2>\r\n        </Container>\r\n      </div>\r\n      <div className=' h-100'>\r\n        <div>\r\n          <div className='sticky-top sticky-md-none bg-light'>\r\n            <Container fluid>\r\n              <Row>\r\n                <Col xs='12'>\r\n                  {/* Search UI */}\r\n                  <Search\r\n                    //type={'food_center'}\r\n                    searchFunction={searchFunction}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n            {/*  Category Section */}\r\n            <MenuCategory categories={menuCategory} />\r\n          </div>\r\n          {/* Menu Card section */}\r\n          {!searchStatus && (\r\n            <MenuCardList\r\n              menu={menuDataFilter}\r\n              categories={menuCategory}\r\n              orders={orderItems}\r\n              table={table_id}\r\n            />\r\n          )}\r\n          {searchStatus && <div className='text-center'><NoData text={'We couldn\\'t find any results'}/></div>}\r\n          {/* Footer Cart */}\r\n          {orderItems.order_items?.length ? <FooterCart orderItems={orderItems} /> : null}\r\n        </div>\r\n      </div>\r\n    </CustomerLayout>\r\n  );\r\n}\r\n","/**\r\n * ITEM DETAIL PAGE\r\n * url: /customer/menu/{restaurant}/{table}/{item}\r\n * This is the product detail of the item.\r\n * It includes all the available variation of the item. */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport CustomerLayout from '../layout/CustomerLayout';\r\nimport { Link, useParams, useHistory } from 'react-router-dom';\r\nimport { Container, Row, Col, Form, Button, Image } from 'react-bootstrap';\r\nimport styles from '../assets/styles/ItemDetail.module.css';\r\nimport ItemDetailModifier from '../components/ItemDetailModifier';\r\nimport ItemDetailFooter from '../components/ItemDetailFooter';\r\nimport {\r\n  addToCart,\r\n  deleteOrderItem,\r\n  getItemDetails,\r\n  getOrderInfo,\r\n  updateOrderItem,\r\n} from '../api';\r\n\r\nimport { ReactComponent as NoteSvg } from '../assets/icons/notes.svg';\r\nimport ItemDetailVariant from '../components/ItemDetailVariant';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { formatCurrency, renderFromText } from '../components/Helper';\r\nexport default function ItemDetail() {\r\n  const { order} = useCustContext();\r\n  const { item_id, order_item_id } = useParams();\r\n  // quantity\r\n  const [itemQuantity, setItemQuantity] = useState(1);\r\n  const [itemInfo, setItemInfo] = useState({});\r\n  const [price, setPrice] = useState();\r\n  const history = useHistory(0);\r\n  const [selectedModifiers, setSelectedModifiers] = useState([]);\r\n  const [extraNotes, setExtraNotes] = useState('');\r\n\r\n  const handleSelectModifiers = (item) => {\r\n    let mod = [];\r\n    item.forEach((item1) => {\r\n      item1.forEach((item2) => {\r\n        mod.push(item2);\r\n      });\r\n    });\r\n    console.log(mod);\r\n    setSelectedModifiers(mod);\r\n  };\r\n  const [groupVariant, setGroupVariant] = useState();\r\n  const handleSetGroupVariant = (arr) => {\r\n    let joinArr = arr.join(' - ');\r\n    if (itemInfo.group_variants.length) {\r\n      let group_var = itemInfo.group_variants[0].options.find(\r\n        (item) => item.name === joinArr\r\n      );\r\n      console.log(group_var);\r\n      setGroupVariant(group_var);\r\n    }\r\n  };\r\n  const handleAddToCart = async () => {\r\n    let formData = {\r\n      order_items: [\r\n        {\r\n          menu_item_id: parseInt(item_id),\r\n          quantity: itemQuantity,\r\n        },\r\n      ],\r\n    };\r\n    if(extraNotes){\r\n      formData.order_items[0].extra_notes = extraNotes;\r\n    }\r\n\r\n    let modifiers = selectedModifiers.map((item) => {\r\n      return { ...item, quantity: itemQuantity };\r\n    });\r\n    formData.order_items[0]['modifiers'] = modifiers;\r\n\r\n    if (groupVariant?.name) {\r\n      formData.order_items[0]['variants'] = {\r\n        name: groupVariant.name,\r\n        price: parseFloat(groupVariant.price),\r\n        quantity: itemQuantity,\r\n      };\r\n    } else {\r\n      formData.order_items[0]['variants'] = {};\r\n    }\r\n    try {\r\n      const res = await addToCart(order.id, formData);\r\n      console.log(res.data);\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleUpdatetoCart = async () => {\r\n    let formData = {\r\n      quantity: itemQuantity,\r\n    };\r\n\r\n    let modifiers = selectedModifiers.map((item) => {\r\n      return { ...item, quantity: itemQuantity };\r\n    });\r\n    formData['modifiers'] = modifiers;\r\n    if(extraNotes){\r\n      formData.extra_notes = extraNotes;\r\n    }\r\n    if (groupVariant?.name) {\r\n      formData['variant'] = {\r\n        name: groupVariant.name,\r\n        price: parseFloat(groupVariant.price),\r\n        quantity: itemQuantity,\r\n      };\r\n    } else {\r\n      formData['variant'] = {};\r\n    }\r\n    console.log(formData);\r\n    try {\r\n      const res = await updateOrderItem(order_item_id, formData);\r\n      console.log(res.data);\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  // fake data\r\n  const [orderItem, setOrderItem] = useState({});\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        let order_item = res.data.data.order_items.find((item) => {\r\n          return item.id == order_item_id;\r\n        });\r\n        setOrderItem(order_item);\r\n        setSelectedModifiers(order_item.modifiers);\r\n        setGroupVariant(order_item.variants);\r\n        setItemQuantity(order_item.quantity);\r\n        if(order_item.extra_notes){\r\n          setExtraNotes(order_item.extra_notes);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n\r\n  const getItemDetail = async () => {\r\n    const res = await getItemDetails(item_id);\r\n    if (res.status === 200) {\r\n      await setItemInfo(res.data.data);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getItemDetail();\r\n    if (order_item_id !== undefined) {\r\n      getOrder();\r\n    }\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  const handleDeleteOrderItem = async (id) => {\r\n    try {\r\n      const res = await deleteOrderItem(id);\r\n      history.goBack();\r\n      console.log(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    // only do this once\r\n    if (itemQuantity <= 0) {\r\n      if (order_item_id !== undefined) {\r\n        handleDeleteOrderItem(order_item_id);\r\n      } else {\r\n        setItemQuantity(1);\r\n      }\r\n    }\r\n    // update price\r\n    if (itemQuantity > 0) {\r\n      // we need to take into consideration the additional top up\r\n      let modifierPrice = 0;\r\n      selectedModifiers.forEach((item) => {\r\n        modifierPrice = modifierPrice + parseFloat(item.price);\r\n      });\r\n      if (groupVariant?.price) {\r\n        setPrice(\r\n          itemQuantity * (parseFloat(groupVariant?.price) + modifierPrice)\r\n        );\r\n      } else {\r\n        setPrice(itemQuantity * (parseFloat(itemInfo?.price) + modifierPrice));\r\n      }\r\n    }\r\n  }, [itemQuantity, itemInfo, selectedModifiers, groupVariant, orderItem]);\r\n\r\n  return (\r\n    <CustomerLayout>\r\n      {/* full dish background */}\r\n      <div className='d-md-flex'>\r\n        <div>\r\n          <div className={styles.image_overlay}>\r\n            <Image\r\n              fluid\r\n              src={itemInfo?.image ? itemInfo?.image?.public_url : null}\r\n              className={styles.image_overlay__image}\r\n            />\r\n            {/* back button */}\r\n          </div>\r\n          <div\r\n            className='position-fixed top-0 left-0 opacity-75'\r\n            style={{ zIndex: 1 }}\r\n          >\r\n            <Button\r\n              onClick={(e) => history.goBack()}\r\n              variant='dark'\r\n              className='rounded-circle ms-3 mt-3'\r\n              style={{ padding: '0 7px' }}\r\n            >\r\n              <i\r\n                className='bi bi-arrow-left-short'\r\n                style={{ fontSize: 30 }}\r\n              ></i>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          {/* To create the cool scroll and hide image, we need to set a margin based on the image */}\r\n          <div className={styles.itemdetail_content}>\r\n            <Container fluid>\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <h3 className='text-secondary fw-semibold'>{itemInfo?.name}</h3>\r\n                <div>\r\n                  <div className='d-inline-block small text-gray'>\r\n                    {renderFromText(itemInfo)}\r\n                  </div>\r\n                  <div className='d-inline-block ms-1 h4 fw-normal fw-tp'>\r\n                    {formatCurrency(itemInfo?.price || 0)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className='small'>{itemInfo?.description}</p>\r\n            </Container>\r\n            {/* Item Detail Modifiers */}\r\n            <ItemDetailModifier\r\n              modifiers={itemInfo?.modifiers}\r\n              orderModifiers={orderItem?.modifiers}\r\n              required={true}\r\n              handleSelectModifiers={handleSelectModifiers}\r\n              type='checkbox'\r\n            />\r\n            {/* Item Detail Varients */}\r\n            <ItemDetailVariant\r\n              variants={itemInfo?.variants}\r\n              orderVariants={orderItem?.variants}\r\n              type='radio'\r\n              handleSetGroupVariant={handleSetGroupVariant}\r\n            />\r\n            <hr />\r\n            <Container fluid>\r\n              <Form>\r\n                {/* special instructions section */}\r\n                <Form.Group className='d-flex align-items-center'>\r\n                  <Form.Label className='mb-0'>\r\n                    <span className='text-primary'>\r\n                      <NoteSvg />\r\n                    </span>\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    placeholder='Extra note: E.g no pickles, more sauce..'\r\n                    className='border-0 input-sm'\r\n                    value={extraNotes}\r\n                    onChange={(e) => setExtraNotes(e.target.value)}\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n              </Form>\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add to cart footer */}\r\n      <ItemDetailFooter\r\n        quantity={itemQuantity}\r\n        setQuantity={setItemQuantity}\r\n        price={price}\r\n        handleAddToCart={handleAddToCart}\r\n        handleUpdatetoCart={handleUpdatetoCart}\r\n      />\r\n    </CustomerLayout>\r\n  );\r\n}\r\n","/**\r\n * This is the order list in the checkout summary page\r\n **/\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Button, Form, ListGroup } from 'react-bootstrap';\r\nimport { formatCurrency } from './Helper';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { ReactComponent as NoteSvg } from '../assets/icons/notes.svg';\r\nimport cx from 'classnames';\r\nexport default function CheckoutoutSummaryOrderList(props) {\r\n  // if it is readonly, we don't display edit\r\n  const isReadOnly = props.readOnly ? props.readOnly : false;\r\n  // to render the modifiers and variants\r\n  const renderOptions = (list_modifiers) => {\r\n    if (Array.isArray(list_modifiers) && list_modifiers.length) {\r\n      return (\r\n        <ul className='list-unstyled mb-0'>\r\n          {list_modifiers.map((option, index) => {\r\n            return <li key={index}>{option.name}</li>;\r\n          })}\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n  const renderPrice = (item) => {\r\n    let mod_price = 0;\r\n    item.modifiers.forEach((mod) => {\r\n      mod_price = mod_price + parseFloat(mod.price) * item.quantity;\r\n    });\r\n    if (item.variants.name) {\r\n      let price =\r\n        parseFloat(item.variants.price) * item.variants.quantity + mod_price;\r\n      // check for discount \r\n      if(item.variants.price_discount){\r\n        price = price - item.variants.price_discount;\r\n      }\r\n      return price;\r\n    } else {\r\n      let price = parseFloat(item.price) * item.quantity + mod_price;\r\n      return price;\r\n    }\r\n  };\r\n  return Array.isArray(props.orders) && props.orders.length ? (\r\n    <ListGroup\r\n      variant='flush'\r\n      style={\r\n        !isReadOnly\r\n          ? {\r\n              paddingBottom: '295px',\r\n            }\r\n          : {}\r\n      }\r\n    >\r\n      {/* map the orders  */}\r\n      {props.orders.map((item, index) => {\r\n        return (\r\n          <ListGroup.Item key={index} className='bg-transparent'>\r\n            {/* item details */}\r\n            <div className={cx('d-flex justify-content-between',{\r\n              'text-decoration-line-through text-danger' : item.flag == 4\r\n            })}>\r\n              <div\r\n                className='d-flex align-items-baseline mb-2'\r\n                style={{ width: '80%' }}\r\n              >\r\n                <div className='flex-shrink-0 fw-bold'>{item.quantity}x</div>\r\n                <div className='ms-2 small'>\r\n                  <p className={cx('mb-0 fw-bold', {\r\n                    'text-secondary' : item.flag != 4,\r\n                    'text-danger' : item.flag == 4\r\n                  })}>{item.name}</p>\r\n                  {/* modifiers and variants */}\r\n                  {renderOptions(item.modifiers)}\r\n                  {item.variants?.name}\r\n                  {/* special instructions */}\r\n                  {item.extra_notes && (\r\n                    <div>\r\n                      <span className='text-muted'>\r\n                        <span className=\"text-primary me-2\">\r\n                          <NoteSvg/>\r\n                        </span>\r\n                        {item.extra_notes}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              {/* total price */}\r\n              <div>\r\n                {item.price && (\r\n                  <span className='fw-bold'>\r\n                    {formatCurrency(renderPrice(item))}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* item has been rejected  */}\r\n            {\r\n              item.flag == 4  && \r\n              <div className='text-end'>\r\n                <span className=\"small badge text-danger text-decoration-none text-end\"\r\n                  style={{\r\n                    background: '#fcebec'\r\n                  }}\r\n                >Out Of Stock</span>\r\n              </div>\r\n            }\r\n            <div className='text-end'>\r\n              {!isReadOnly && (\r\n                <>\r\n                  <a\r\n                    className='fw-bold text-decoration-none'\r\n                    style={{\r\n                      color: 'var(--tp-blue)',\r\n                    }}\r\n                    onClick={() => {\r\n                      props.handleEditOrderItem(item.id, item.menu_item_id);\r\n                    }}\r\n                  >\r\n                    Edit\r\n                  </a>\r\n                  <a\r\n                    className='text-muted fw-bold ms-3 text-decoration-none'\r\n                    onClick={() => props.handleDeleteOrderItem(item.id)}\r\n                  >\r\n                    Delete\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n          </ListGroup.Item>\r\n        );\r\n      })}\r\n    </ListGroup>\r\n  ) : null;\r\n}\r\n","/**\r\n * The footer section of Checkout Summary\r\n * Contains the place order button and popular with your order components\r\n * */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Form,\r\n  Card,\r\n  Image,\r\n} from \"react-bootstrap\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { formatCurrency, truncateText } from \"../components/Helper.js\";\r\nimport CustomerFooter from \"../components/CustomerFooter.js\";\r\nimport {ReactComponent as TPLogo} from '../assets/logo/tp-logo.svg';\r\n// plus icon\r\nimport { ReactComponent as PlusSvg } from \"../assets/icons/plus-square-o.svg\";\r\nimport { useCustContext } from \"../CustomerContext.js\";\r\nimport { addToCart } from \"../api/index.js\";\r\nexport default function CheckoutSummaryFooter(props) {\r\n  const { table_id } = useParams();\r\n  const history = useHistory();\r\n  const { brands, order } = useCustContext();\r\n  const [data, setData] = useState([]);\r\n  const handleQuickAdd = async (item) => {\r\n    let formData = {\r\n      order_items: [\r\n        {\r\n          menu_item_id: parseInt(item.id),\r\n          quantity: 1,\r\n          modifiers: [],\r\n          variants: {},\r\n        },\r\n      ],\r\n    };\r\n    try {\r\n      const res = await addToCart(order.id, formData);\r\n      console.log(res.data);\r\n      props.getOrder();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  /**\r\n   * Payment type will determine what's the next flow. \r\n   * payment_type == 1 (prepaid) \r\n   * payment_type == 2 (postpaid) \r\n  **/\r\n  const setPlaceOrder = () => {\r\n    const payment_type = order.payment_type;\r\n    // prepaid\r\n    if(payment_type == 1){\r\n      history.push(`/customer/pay-check/${table_id}`);\r\n    }\r\n    // postpaid\r\n    if(payment_type == 2){\r\n      history.push(`/customer/confirm-order/${table_id}`);\r\n    }\r\n  } \r\n  useEffect(() => {\r\n    let arr = [];\r\n    brands.forEach((brand) => {\r\n      brand.items.forEach((item) => {\r\n        if (\r\n          item.available &&\r\n          item.modifiers.length === 0 &&\r\n          item.variants.length === 0\r\n        ) {\r\n          arr.push({\r\n            id: item.id,\r\n            name: item.name,\r\n            price: item.price,\r\n            image: item.image?.public_url,\r\n          });\r\n        }\r\n      });\r\n    });\r\n    setData(arr);\r\n  }, [brands]);\r\n  return (\r\n    <CustomerFooter classPrefix=\"pt-3\">\r\n      <Container fluid>\r\n        <h6 className=\"text-secondary fw-bold\">Popular with your order</h6>\r\n      </Container>\r\n      {data.length > 0 && (\r\n        <div className=\"overflow-scroll\">\r\n          <Row className=\"flex-nowrap px-3 py-2 g-2\">\r\n            {data.map((item, index) => {\r\n              return (\r\n                <Col\r\n                  key={index}\r\n                  xs=\"8\"\r\n                  className=\"flex-shrink-0\"\r\n                  style={{ maxWidth: 232 }}\r\n                >\r\n                  <Card\r\n                    className=\"overflow-hidden border-0 tp-rounded bg-primary-4\"\r\n                    style={{ height: \"100px\" }}\r\n                  >\r\n                    <Row className=\"g-0\">\r\n                      {/* only show this if image is available */}\r\n                      {item.image && (\r\n                        <Col xs=\"4\">\r\n                          <Image\r\n                            fluid\r\n                            src={item.image}\r\n                            className=\"rounded-start\"\r\n                            style={{\r\n                              objectFit: \"cover\",\r\n                              height: \"100px\",\r\n                            }}\r\n                          />\r\n                        </Col>\r\n                      )}\r\n                      <Col>\r\n                        <Card.Body\r\n                          className=\"position-relative\"\r\n                          style={{\r\n                            height: \"100px\",\r\n                          }}\r\n                        >\r\n                          <p\r\n                            className=\"fw-bold text-secondary mb-0\"\r\n                            style={{\r\n                              fontSize:\r\n                                \"calc(var(--bs-body-font-size) - 0.1rem)\",\r\n                            }}\r\n                          >\r\n                            {/* truncate text if too long  */}\r\n                            {truncateText(item.name, 30)}\r\n                          </p>\r\n                          <div className=\"position-absolute bottom-0 start-0 w-100 p-3\">\r\n                            <div className=\"d-flex align-items-center justify-content-between\">\r\n                              <div>\r\n                                <h5 className=\"mb-0\">\r\n                                  {formatCurrency(item.price)}\r\n                                </h5>\r\n                              </div>\r\n                              <div\r\n                                style={{\r\n                                  color: \"var(--tp-blue)\",\r\n                                }}\r\n                              >\r\n                                <PlusSvg onClick={() => handleQuickAdd(item)} />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </Card.Body>\r\n                      </Col>\r\n                    </Row>\r\n                  </Card>\r\n                </Col>\r\n              );\r\n            })}\r\n          </Row>\r\n        </div>\r\n      )}\r\n      <Container fluid>\r\n        <div className=\"d-grid gap-2 mt-2\">\r\n          <p\r\n            className=\"mb-0 text-center text-muted\"\r\n            style={{ fontSize: \"11px\" }}\r\n          >\r\n            By placing order, you agree to Tigerpuff{\" \"}\r\n            <a className=\"text-secondary fw-bold\">Terms&Services</a> and\r\n            acknowledge that you have read our{\" \"}\r\n            <a className=\"text-secondary fw-bold\">Privacy Statement</a>\r\n          </p>\r\n          <Button\r\n            variant=\"primary\"\r\n            className=\"tp-rounded fw-bold py-2\"\r\n            onClick={setPlaceOrder}\r\n            disabled={props.orders.length === 0 ? true : false}\r\n          >\r\n            {order.payment_type == 1 ? 'Make Payment' : 'Place Order'}\r\n          </Button>\r\n        </div>\r\n        <div className=\"text-center my-2 mt-3 small d-flex align-items-center justify-content-center\">\r\n          Powered By\r\n          <TPLogo \r\n            style={{\r\n              height: '25px',\r\n              marginTop: '-0.25rem'\r\n            }}\r\n          />\r\n        </div>\r\n      </Container>\r\n      {/* <Container fluid className=\"mt-1\">\r\n        <Row\r\n          className=\"d-flex justify-content-between align-items-center\"\r\n          >\r\n          <Col className=\"\">\r\n            {props.orderCount && <span>{props.orderCount} orders selected</span>}\r\n            {props.orderTotal && <h4 className=\"fw-bold mt-0 mb-0\">${props.orderTotal}</h4>}\r\n          </Col>\r\n          <Col className=\"text-end d-grid gap-2\" xs=\"6\">\r\n            <Button\r\n              onClick={() => {history.push(`/customer/pay-check/${restaurant}/${table}`)}}\r\n              variant=\"primary\"\r\n              className=\"h-100 py-2\">\r\n                Place Order\r\n            </Button>\r\n          </Col>\r\n        </Row>          \r\n      </Container>       */}\r\n    </CustomerFooter>\r\n  );\r\n}\r\n","/**\r\n * The checkout summary page\r\n * url: /customer/checkout/:restaurant/:table\r\n * This is the cart/summary page of the ordering*/\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  Image,\r\n  ListGroup,\r\n} from 'react-bootstrap';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport NavbarCust from '../components/NavbarCust';\r\n\r\n// Restaurant logo\r\nimport { formatCurrency } from '../components/Helper';\r\n\r\n// Components\r\nimport CheckoutSummaryOrderList from '../components/CheckoutSummaryOrderList';\r\nimport CheckoutSummaryFooter from '../components/CheckoutSummaryFooter';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { deleteOrderItem, getOrderInfo } from '../api';\r\nimport { ItemDrawer } from '../components/ItemDrawer';\r\nexport default function CheckoutSummmary() {\r\n  const { table_id } = useParams();\r\n  const history = useHistory();\r\n  const { order, setItemId } = useCustContext();\r\n  const [total, setTotal] = useState();\r\n  const [amount, setAmount] = useState();\r\n  const [orderSummary, setOrderSummary] = useState([]);\r\n  const [editItemId, setEditItemId] = useState();\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        if(res?.data){\r\n          const order = res.data.data.order;\r\n          setOrderSummary(order.order_items);\r\n          setTotal(order.final_total);\r\n          let num = 0;\r\n          order.order_items.forEach((item) => {\r\n            num = num + item.quantity;\r\n          });\r\n          setAmount(num);\r\n        }\r\n\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleDeleteOrderItem = async (id) => {\r\n    try {\r\n      const res = await deleteOrderItem(id);\r\n      console.log(res.data);\r\n      getOrder();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleEditOrderItem = (order_item_id, menu_item_id) => {\r\n    // history.push(\r\n    //   `/customer/table-ordering/${table_id}/menu/${menu_item_id}/${order_item_id}`\r\n    // );\r\n\r\n    // use ItemDrawer instead \r\n    setItemId(menu_item_id);\r\n    setEditItemId(order_item_id);\r\n  };\r\n  const handleCloseItemDrawer = () => {\r\n    getOrder();\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if(window){window.scroll(0,0)}\r\n  }, [])\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  return (\r\n    <div id='scroll'>\r\n      <NavbarCust goBack={true} title={'Order Summary'} />\r\n      <ItemDrawer \r\n        handleCloseItemDrawer={handleCloseItemDrawer}\r\n        editItemId={editItemId}\r\n      />\r\n      <Container fluid className='pt-3'>\r\n        {/* <div className=\"d-flex justify-content-between align-items-center\">\r\n          <RestaurantLogo\r\n            orientation=\"horizontal\"\r\n            logo={restaurantData.logo}\r\n            name={restaurantData.name}\r\n            />\r\n          <Button\r\n            variant=\"light\"\r\n            size=\"sm\"\r\n            className=\"pull-right\"\r\n            onClick={() => history.goBack()}\r\n            >\r\n              Order More\r\n          </Button>\r\n        </div> */}\r\n        <div className='text-center'>\r\n          <div className='text-muted small'>{amount} dish selected</div>\r\n          <h4 className='fw-bold'>\r\n            Total: {formatCurrency(total)}\r\n          </h4>\r\n        </div>\r\n      </Container>\r\n      {/* Display all the orders */}\r\n      <CheckoutSummaryOrderList\r\n        orders={orderSummary}\r\n        handleDeleteOrderItem={handleDeleteOrderItem}\r\n        handleEditOrderItem={handleEditOrderItem}\r\n      />\r\n      <CheckoutSummaryFooter getOrder={getOrder} orders={orderSummary} />\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * PayCheck footer\r\n * Contains the final price breakdown with tax + tips*/\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport CustomerFooter from '../components/CustomerFooter';\r\nimport { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport { formatCurrency, renderTax } from './Helper';\r\nimport {AiOutlineLoading3Quarters} from 'react-icons/ai';\r\nimport {useCustContext} from '../CustomerContext';\r\nexport default function PayCheckFooter(props) {\r\n  const {finalAmount, total, tipAmount} = props;\r\n  const {taxes, getTaxes} = useCustContext();\r\n  const renderTipPrice = () => {\r\n    let tip = 0;\r\n    if (!props.tipAmount) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className='d-flex mb-1 justify-content-between align-items-center'>\r\n        <div>Tip</div>\r\n        <div className='fw-bold'>{formatCurrency(props.tipAmount)}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * The tip section has the ability to calculate via percentage of total price. We need to calculate it here*/\r\n  const calcTotalPrice = () => {\r\n    if(finalAmount){\r\n      return finalAmount + parseFloat(tipAmount || 0);\r\n    }\r\n    return 0;\r\n  } \r\n  const handleClick = () => {\r\n    props.onSubmit();\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTaxes();\r\n  },[])\r\n  useEffect(() => {\r\n    console.log(taxes);\r\n  },[taxes])\r\n  return (\r\n    <CustomerFooter>\r\n      <Container fluid>\r\n        <div className='d-flex mb-1 justify-content-between align-items-center'>\r\n          <div>Subtotal</div>\r\n          <div className='fw-bold'>\r\n            {formatCurrency(props.total)}\r\n          </div>\r\n        </div>\r\n        {renderTax(getTaxes(), total)}\r\n        {renderTipPrice()}\r\n        <hr />\r\n        <div className='h4 d-flex mb-3 justify-content-between align-items-center'>\r\n          <div>Total</div>\r\n          <div>\r\n            {formatCurrency(calcTotalPrice())}\r\n          </div>\r\n        </div>\r\n        <div className='d-grid gap-2'>\r\n          <Button variant='primary' size='lg' onClick={handleClick}>\r\n            { \r\n              props.loading ? \r\n              <AiOutlineLoading3Quarters className=\"icon-spin\"/> : \r\n              'Pay' \r\n            } \r\n            \r\n          </Button>\r\n        </div>\r\n      </Container>\r\n    </CustomerFooter>\r\n  );\r\n}\r\n","/**\r\n * Pay Check Page\r\n * url: /customer/pay-check/:restaurant/:table\r\n * This is the payment page\r\n **/\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  ButtonGroup,\r\n  ToggleButton,\r\n  Card,\r\n  Image,\r\n  ListGroup,\r\n  Accordion,\r\n  FloatingLabel,\r\n} from 'react-bootstrap';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport CustomerLayout from '../layout/CustomerLayout';\r\nimport NavbarCust from '../components/NavbarCust';\r\nimport styles from '../assets/styles/PayCheck.module.css';\r\nimport {\r\n  useStripe,\r\n  useElements,\r\n  CardNumberElement,\r\n  CardCvcElement,\r\n  CardExpiryElement,\r\n} from '@stripe/react-stripe-js';\r\n// summary order\r\nimport CheckoutSummaryOrderList from '../components/CheckoutSummaryOrderList';\r\nimport PayCheckFooter from '../components/PayCheckFooter';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { addToCart, getOrderInfo, PayForOrder } from '../api';\r\n\r\nexport default function PayCheck() {\r\n  const history = useHistory();\r\n  const { order } = useCustContext();\r\n  const { table_id } = useParams();\r\n  const [tip, setTip] = useState(0);\r\n  const [otherTipValue, setOtherTipValue] = useState(0);\r\n  const [otherTipFormat, setOtherTipFormat] = useState('$');\r\n  // final price using other tip values \r\n  const [tipAmount, setTipAmount] = useState(0);\r\n  // final tip amount \r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const otherTipFormatOption = [{ value: '$' }, { value: '%' }];\r\n  const tipOption = [\r\n    { value: 5 },\r\n    { value: 7 },\r\n    { value: 10 },\r\n    { value: 'Other' },\r\n  ];\r\n  // payment loading \r\n  const [paymentLoading, setPaymentLoading] = useState(false);\r\n  const [total, setTotal] = useState(0);\r\n  const [finalAmount, setFinalAmount] = useState(0);\r\n  const [amount, setAmount] = useState();\r\n  const [orderSummary, setOrderSummary] = useState([]);\r\n  const clickPay = async (e) => {\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n    try {\r\n      const card = elements.getElement(CardNumberElement);\r\n      const result = await stripe.createToken(card);\r\n      console.log('[PaymentMethod]', result);\r\n      if (result?.token) {\r\n        setPaymentLoading(true);\r\n        // update tip_amount if available \r\n        if(tipAmount){\r\n          const update_res = await addToCart(order.id, {\r\n            order_items:[],\r\n            tip_amount: parseFloat(tipAmount)  \r\n          })\r\n        }\r\n        // check if result has \r\n        const res = await PayForOrder(order.id, {\r\n          stripe_token: result.token.id,\r\n        });\r\n        if (res.data.success) {\r\n          history.push({\r\n            pathname: `/customer/pay-check-invoice/${table_id}?o_id=${order.id}`,\r\n            state: { result: true },\r\n          });\r\n        } else {\r\n          history.push({\r\n            pathname: `/customer/pay-check-invoice/${table_id}`,\r\n            state: { result: false },\r\n          });\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      history.push({\r\n        pathname: `/customer/pay-check-invoice/${table_id}`,\r\n        state: { result: false },\r\n      });\r\n    }\r\n  };\r\n  // if user clicks on the same value for tip, it should reset it instead. \r\n  const clickOnTip = (val) =>{\r\n    if(tip === val){\r\n      setTip(0);\r\n    }else{\r\n      setTip(val);\r\n    }\r\n  }\r\n  // calculate the final tip amount \r\n  const calcTip = () => {\r\n    if(!isNaN(tip)){\r\n      setTipAmount(tip);\r\n      return false; \r\n    }\r\n    // calculate based on otherTipFormat \r\n    if(otherTipFormat == '$'){\r\n      setTipAmount(otherTipValue);\r\n    }else{\r\n      let tip_amt = parseFloat(otherTipValue) || 0;\r\n      setTipAmount(total * (tip_amt / 100));\r\n    }\r\n  }\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        if(res?.data){\r\n          const order = res.data.data.order;\r\n          const location = res.data.data.location;\r\n          setOrderSummary(order.order_items);\r\n          setTotal(order.final_total);\r\n          setFinalAmount(order.final_total_with_tax_tip)\r\n          let num = 0;\r\n          order.order_items.forEach((item) => {\r\n            num = num + item.quantity;\r\n          });\r\n          setAmount(num);\r\n\r\n        }\r\n\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  // component mount \r\n  useEffect(() => {\r\n    if(window){window.scroll(0,0)}\r\n  }, [])\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  useEffect(() => {\r\n    calcTip();\r\n  }, [tip, otherTipValue, otherTipFormat]);\r\n  const [message, setMessage] = useState({\r\n    number: '',\r\n    expiry: '',\r\n    cvc: '',\r\n  });\r\n  return (\r\n    <CustomerLayout>\r\n      <NavbarCust goBack={true} title={'Make Payment'} />\r\n      <Container\r\n        fluid\r\n        className='mt-2'\r\n        style={{\r\n          paddingBottom: '200px',\r\n        }}\r\n      >\r\n        {/* Dropdown orders */}\r\n        <Accordion className='mt-2'>\r\n          <Accordion.Item eventKey='0' className={styles.accordion_order}>\r\n            <Accordion.Button className={styles.accordion_order__btn}>\r\n              Your Orders ({amount})\r\n            </Accordion.Button>\r\n            <Accordion.Body className={styles.accordion_order__body}>\r\n              {\r\n                <CheckoutSummaryOrderList\r\n                  orders={orderSummary}\r\n                  readOnly={true}\r\n                />\r\n              }\r\n            </Accordion.Body>\r\n          </Accordion.Item>\r\n        </Accordion>\r\n        {/* payment method */}\r\n        <h6 className='text-secondary fw-bold mt-4'>Payment Method</h6>\r\n        {/* Credit Card */}\r\n        <Card\r\n          className={\r\n            'bg-secondary-5 border-0 mb-3 ' + styles.paycheck_border_radius\r\n          }\r\n        >\r\n          <Card.Body>\r\n            <span className='h6 fw-bold text-secondary'>\r\n              <i className='bi bi-credit-card'></i>&nbsp; Credit/Debit Card\r\n            </span>\r\n          </Card.Body>\r\n        </Card>\r\n        {/* Credit Card Form */}\r\n        <Form className='mb-2'>\r\n          <CardNumberElement\r\n            className={styles.paycheck_custom}\r\n            options={{\r\n              style: {\r\n                base: {\r\n                  fontSize: '16px',\r\n                  marginBottom: '0px',\r\n                },\r\n              },\r\n              placeholder: 'Card number',\r\n            }}\r\n            onReady={() => {\r\n              // console.log('CardNumberElement [ready]');\r\n            }}\r\n            onChange={(event) => {\r\n              // console.log('CardNumberElement [change]', event);\r\n              if (event.error !== undefined) {\r\n                setMessage({ ...message, number: event.error.message });\r\n              } else {\r\n                setMessage({ ...message, number: '' });\r\n              }\r\n            }}\r\n            onBlur={() => {\r\n              // console.log('CardNumberElement [blur]');\r\n            }}\r\n            onFocus={() => {\r\n              // console.log('CardNumberElement [focus]');\r\n            }}\r\n          />\r\n          <div className='mb-2 ps-1 text-danger'>\r\n            {message.number}\r\n          </div>\r\n          <Row className='g-1'>\r\n            <Col xs='7'>\r\n              <CardExpiryElement\r\n                className={styles.paycheck_custom}\r\n                options={{\r\n                  style: { base: { fontSize: '16px', marginBottom: '0px' } },\r\n                }}\r\n                onReady={() => {\r\n                  // console.log('CardNumberElement [ready]');\r\n                }}\r\n                onChange={(event) => {\r\n                  // console.log('CardNumberElement [change]', event);\r\n                  if (event.error !== undefined) {\r\n                    setMessage({ ...message, expiry: event.error.message });\r\n                  } else {\r\n                    setMessage({ ...message, expiry: '' });\r\n                  }\r\n                }}\r\n                onBlur={() => {\r\n                  // console.log('CardNumberElement [blur]');\r\n                }}\r\n                onFocus={() => {\r\n                  // console.log('CardNumberElement [focus]');\r\n                }}\r\n              />\r\n              <div  className='mb-2 ps-1 text-danger'>\r\n                {message.expiry}\r\n              </div>\r\n            </Col>\r\n            <Col xs='5'>\r\n              <CardCvcElement\r\n                className={styles.paycheck_custom}\r\n                options={{\r\n                  style: { base: { fontSize: '16px', marginBottom: '0px' } },\r\n                }}\r\n                onReady={() => {\r\n                  // console.log('CardNumberElement [ready]');\r\n                }}\r\n                onChange={(event) => {\r\n                  // console.log('CardNumberElement [change]', event);\r\n                  if (event.error !== undefined) {\r\n                    setMessage({ ...message, cvc: event.error.message });\r\n                  } else {\r\n                    setMessage({ ...message, cvc: '' });\r\n                  }\r\n                }}\r\n                onBlur={() => {\r\n                  // console.log('CardNumberElement [blur]');\r\n                }}\r\n                onFocus={() => {\r\n                  // console.log('CardNumberElement [focus]');\r\n                }}\r\n              />\r\n              <div className='mb-2 ps-1 text-danger'>\r\n                {message.cvc}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n        {/* E-wallet */}\r\n        {/* NOTE: hide for now  */}\r\n        {/* <Card\r\n          className={\r\n            'bg-primary-4 border-0 mb-3 ' + styles.paycheck_border_radius\r\n          }\r\n        >\r\n          <Card.Body>\r\n            <span className='h6 fw-bold text-secondary'>\r\n              <i className='bi bi-wallet'></i> E-wallet\r\n            </span>\r\n          </Card.Body>\r\n        </Card> */}\r\n        {/* Cash */}\r\n        {/* <Card\r\n          className={\r\n            'bg-primary-4 border-0 mb-3 ' + styles.paycheck_border_radius\r\n          }\r\n        >\r\n          <Card.Body>\r\n            <span className='h6 fw-bold text-secondary'>\r\n              <i className='bi bi-cash'></i> Cash\r\n            </span>\r\n          </Card.Body>\r\n        </Card> */}\r\n        <h6 className='text-secondary fw-bold mt-4'>\r\n          Add Tip <span className='small text-muted fw-normal'>(optional)</span>\r\n        </h6>\r\n        <div className='d-grid gap-2'>\r\n          <ButtonGroup className='mb-3'>\r\n            {tipOption.map((option, index) => {\r\n              return (\r\n                <ToggleButton\r\n                  key={index}\r\n                  id={`radio-${index}-tip`}\r\n                  type='radio'\r\n                  name='radio-tip'\r\n                  className={'py-3 ' + styles.paycheck_btn_tip}\r\n                  variant='outline-secondary'\r\n                  value={option.value}\r\n                  checked={option.value == tip}\r\n                  onClick={(e) => clickOnTip(option.value)}\r\n                >\r\n                  {Number.isInteger(option.value) ? `$` : ''}\r\n                  {option.value}\r\n                </ToggleButton>\r\n              );\r\n            })}\r\n          </ButtonGroup>\r\n          {/* Only show the extra tip input if the user clicks on other */}\r\n        </div>\r\n        {tip == 'Other' && (\r\n          <Row>\r\n            <Col xs='4'>\r\n              <ButtonGroup className='mb-2'>\r\n                {otherTipFormatOption.map((option, index) => {\r\n                  return (\r\n                    <ToggleButton\r\n                      key={index}\r\n                      id={`radio-${index}-tip-format`}\r\n                      type='radio'\r\n                      variant='outline-secondary'\r\n                      className={'px-4 py-3 ' + styles.paycheck_btn_tip_format}\r\n                      name='radio-tip-format'\r\n                      value={option.value}\r\n                      checked={option.value == otherTipFormat}\r\n                      onChange={(e) => setOtherTipFormat(e.currentTarget.value)}\r\n                    >\r\n                      {option.value}\r\n                    </ToggleButton>\r\n                  );\r\n                })}\r\n              </ButtonGroup>\r\n            </Col>\r\n            <Col xs='8'>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  type='number'\r\n                  inputMode='decimal'\r\n                  className={'py-3 ' + styles.paycheck_border_radius}\r\n                  onChange={(e) => {\r\n                    setOtherTipValue(e.currentTarget.value);\r\n                  }}\r\n                ></Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </Container>\r\n      <PayCheckFooter\r\n        tipAmount={tipAmount}\r\n        total={total}\r\n        finalAmount={finalAmount}\r\n        onSubmit={clickPay}\r\n        total={total}\r\n        setTipAmount={setTipAmount}\r\n        loading={paymentLoading}\r\n      />\r\n    </CustomerLayout>\r\n  );\r\n}\r\n","/**\r\n * Order status allows the customer to view the current \r\n * progress of their orders*/ \r\n\r\nimport {React, useState, useEffect} from \"react\";\r\nimport { useCustContext } from \"../CustomerContext\";\r\nimport styles from '../assets/styles/OrderStatus.module.css';\r\nimport cx from 'classnames';\r\nexport default function OrderStatus(props){\r\n  const {orderFulfillment} = props;\r\n  const [status, setStatus] = useState(1);\r\n\r\n  const steps = [\r\n    {\r\n      label: 'Order Received',\r\n      id: 1,\r\n    },\r\n    {\r\n      label: 'Preparing',\r\n      id: 2,\r\n    },\r\n    {\r\n      label: 'Completed',\r\n      id: 3\r\n    }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    if(Object.keys(orderFulfillment).length){\r\n      // update the status \r\n      setStatus(orderFulfillment.status);\r\n    }\r\n  }, [orderFulfillment])\r\n  return (\r\n    <div className={styles.stepper_wrapper}>\r\n      {steps.map(item => {\r\n        return (\r\n          <div className={cx(styles.stepper_item, {\r\n            [styles.stepper_item__completed]: status > item.id,\r\n            [styles.stepper_item__active] : status == item.id\r\n          })}>\r\n            <div className={cx(styles.step_counter, {\r\n              [styles.step_counter__completed] : status >= item.id\r\n            })}></div>\r\n            <div>{item.label}</div>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}","/**\r\n * A pay check transaction is the completed page after the user clicks on pay.\r\n * url: /customer/pay-check-transaction/bob/5\r\n */\r\n\r\nimport React, { useState, useEffect, createRef } from 'react';\r\n\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Form,\r\n  Image,\r\n  Accordion,\r\n  Card,\r\n} from 'react-bootstrap';\r\nimport { useHistory, useLocation, useParams } from 'react-router';\r\nimport CustomerLayout from '../layout/CustomerLayout';\r\nimport CheckoutSummaryOrderList from '../components/CheckoutSummaryOrderList';\r\nimport styles from '../assets/styles/PayCheck.module.css';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport { getOrderInfo } from '../api';\r\nimport { formatCurrency, renderTax } from '../components/Helper';\r\nimport OrderStatus from '../components/OrderStatus';\r\nimport RestaurantLogo from '../components/RestaurantLogo';\r\nimport QRCode from 'qrcode.react';\r\nimport { useScreenshot, createFileName } from 'use-react-screenshot'\r\nimport { AiOutlineExclamationCircle, AiOutlineLoading3Quarters, AiOutlineCheckCircle } from 'react-icons/ai';\r\nimport {BsCheckCircle} from 'react-icons/bs';\r\nimport moment from 'moment';\r\nexport default function PayCheckInvoice() {\r\n  const history = useHistory();\r\n  const { table_id } = useParams();\r\n  const [amount, setAmount] = useState(0);\r\n  const [orderSummary, setOrderSummary] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [finalAmount, setFinalAmount] = useState(0);\r\n  const [tipAmount, setTipAmount] = useState(0);\r\n  // const [isSuccessful, setIsSuccessful] = useState(false);\r\n  const path = useLocation();\r\n  const hasOrderId = new URLSearchParams(useLocation().search).get(\"o_id\");\r\n  const result = useLocation().state?.result;\r\n  const isSuccessful = result || hasOrderId;\r\n  const { tableInfo, order, taxes, getTaxes, user, createOrder } = useCustContext();\r\n  const [orderFulfillment, setOrderFulfillment] = useState({});\r\n  const [image ,takeScreenShot] = useScreenshot();\r\n  const [refresh, setRefresh] = useState(false);\r\n  const ref = createRef(null);\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id || hasOrderId) {\r\n        // can use either order.id OR hasOrderId \r\n        const order_id = order.id || hasOrderId;\r\n        const res = await getOrderInfo(order_id);\r\n        if(res?.data){\r\n          const order = res.data.data.order;\r\n          setOrderSummary(order.order_items);\r\n          setTotal(order.total);\r\n          setFinalAmount(order.final_total_with_tax_tip)\r\n          if(order?.order_fulfillments.length){\r\n            const order_fulfillments = order.order_fulfillments;\r\n            // get the current order \r\n            const current = order_fulfillments.find((x) => {\r\n              return x.order_id == order_id;\r\n            })\r\n            setOrderFulfillment(current);\r\n          }\r\n          if(parseFloat(order.tip_amount) > 0){\r\n            setTipAmount(parseFloat(order.tip_amount));\r\n          }\r\n          let num = 0;\r\n          order.order_items.forEach((item) => {\r\n            num = num + item.quantity;\r\n          });\r\n          setAmount(num);\r\n        }else{\r\n          history.push('/customer/not-found');\r\n        }\r\n      }\r\n    } catch (err) {\r\n      history.push('/customer/not-found')\r\n    }\r\n  };\r\n  const checkForRejectedItem = () => {\r\n    if(!orderSummary.length){return false;}\r\n    const checkRejectedOrders = orderSummary.filter((e) => e.flag == 4);\r\n    if(checkRejectedOrders.length){return true;}\r\n    return false;\r\n  }\r\n  const handleOrderMore = async () =>{\r\n    // for order more, we need to create a new order and assign a new order id to it \r\n    if(createOrder(tableInfo?.id, user)){\r\n      history.push(`/customer/table-ordering/${tableInfo?.id}/menu`);\r\n    }\r\n  }\r\n  const download = (image, { name = \"receipt\", extension = \"jpeg\" } = {}) => {\r\n    const a = document.createElement(\"a\");\r\n    a.href = image;\r\n    a.download = createFileName(extension, name);\r\n    a.click();\r\n  };\r\n\r\n  const getImage = () => {\r\n    takeScreenShot(ref.current).then(download)\r\n    // var container = document.getElementById('receipt-container');\r\n    // html2canvas(container,{\r\n    //   logging: true,\r\n    //   letterRendering: 1,\r\n    //   useCORS: true\r\n    // }).then(function(canvas){\r\n    //   var link = document.createElement('a');\r\n    //   document.body.appendChild(link);\r\n    //   link.download = 'receipt.jpg';\r\n    //   link.href = canvas.toDataURL();\r\n    //   link.target = '_blank';\r\n    //   link.click();\r\n\r\n    // })\r\n  }\r\n\r\n  // refresh to see latest order status \r\n  const handleRefresh = () => {\r\n    setRefresh(true);\r\n    getOrder();\r\n    setTimeout(()=>{\r\n      setRefresh(false);\r\n    }, 1000);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  return (\r\n    <CustomerLayout \r\n    \r\n    >\r\n      <Container fluid >\r\n        <div id={'receipt-container'}  ref={ref}>\r\n          <div className='mt-3 d-flex justify-content-center'>\r\n            <div className='d-flex flex-column align-items-center'>\r\n              <RestaurantLogo logo={tableInfo.location?.logo?.public_url} />\r\n              {isSuccessful ? (\r\n                <>\r\n                  <div className='d-block text-center mt-3 text-green'>\r\n                    <BsCheckCircle size={80} className=\"mb-2\" style={{color:'var(--tp-green)'}}/>\r\n                  </div>\r\n                  <h4 className='mt-0 mb-3' style={{color: 'var(--tp-green)'}} >\r\n                    Payment Successful!\r\n                  </h4>\r\n                  <Card className={'overflow-hidden mb-2 ' + styles.paycheck_border_radius}>\r\n                    <Card.Header className='bg-white fw-bold'>\r\n                      Order Summary\r\n                    </Card.Header>\r\n                    <Card.Body >\r\n                      <div className='text-center'>\r\n                        <Row className='mb-3'>\r\n                          <Col xs=\"12\" className=\"text-center\">\r\n                            <div style={{color: 'var(--bs-gray-700)'}}>Customer Name:</div>\r\n                            <div className=\"text-secondary fw-bold\">{orderFulfillment.customer_name}</div>\r\n                            <hr/>\r\n                          </Col>\r\n                          <Col>\r\n                            <div style={{color: 'var(--bs-gray-700)'}}>Order Number:</div>\r\n                            <div className='text-secondary d-block fw-bold mb-2' style={{marginLeft: '-5px'}}>\r\n                              #{order.id || hasOrderId}\r\n                            </div>\r\n                          </Col>\r\n                          <Col className='border-start border-1 '>\r\n                            <div style={{color: 'var(--bs-gray-700)'}}>Ordered On:</div>\r\n                            <div className='text-secondary fw-bold'>\r\n                              {moment(orderFulfillment.created_at).format('DD/MM h:mm a')}\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                        <hr/>\r\n                        <div className='mx-auto w-100'>\r\n                          <QRCode \r\n                            value={`${process.env.REACT_APP_TABLE_ORDERING_URL}/customer/pay-check-invoice/84?o_id=${order.id || hasOrderId}`}\r\n                            size={128}\r\n                            fgColor={'#033F7A'}\r\n                          />\r\n                          <p className='small'>\r\n                            Take a screenshot of the QR code to check back on your order status later!\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      {isSuccessful && <OrderStatus orderFulfillment={orderFulfillment}/>}\r\n                      {\r\n                        orderFulfillment.status != 3 && \r\n                        <div className='text-center'>\r\n                          <button className={'btn border-1 border-primary text-primary'} onClick={handleRefresh}>\r\n                            {\r\n                              refresh ? \r\n                              <AiOutlineLoading3Quarters className='icon-spin'/> \r\n                              : \r\n                              'Refresh'\r\n                            }\r\n                          </button>\r\n                        </div>\r\n                      }\r\n                    </Card.Body>\r\n                  </Card>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className='d-block text-center mt-3 text-success'>\r\n                    <i\r\n                      class='bi bi-exclamation-circle-fill'\r\n                      style={{ fontSize: 70, color: '#F45757' }}\r\n                    ></i>\r\n                    <h5 className='mt-3 fw-bold' style={{ color: '#33495E' }}>\r\n                      Something went wrong...\r\n                    </h5>\r\n                    <p style={{ color: '#001B36' }}>\r\n                      Please contact our staffs or\r\n                    </p>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {/* Order Details */}\r\n          <Card className={'overflow-hidden ' + styles.paycheck_border_radius}>\r\n            <Card.Header className='bg-white fw-bold'>\r\n              Your Orders ({amount})\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <CheckoutSummaryOrderList orders={orderSummary} readOnly={true}/>\r\n            </Card.Body>\r\n          </Card>\r\n          {/* Dropdown orders */}\r\n          {/* <Accordion className='mt-2' defaultActiveKey='0' >\r\n            <Accordion.Item eventKey='0' className={styles.accordion_order}>\r\n              <Accordion.Button className={styles.accordion_order__btn}>\r\n                Your Orders ({amount})\r\n              </Accordion.Button>\r\n              <Accordion.Body className={styles.accordion_order__body}>\r\n                <CheckoutSummaryOrderList orders={orderSummary} readOnly={true} />\r\n              </Accordion.Body>\r\n            </Accordion.Item>\r\n          </Accordion> */}\r\n\r\n          {/* Note for customer if some order items have been rejected */}\r\n\r\n          {/* price breakdown */}\r\n          <div className='d-flex mb-1 mt-4 justify-content-between align-items-center'>\r\n            <div>Subtotal</div>\r\n            <div className='fw-bold'>\r\n              {formatCurrency(total)}\r\n            </div>\r\n          </div>\r\n          {renderTax(getTaxes(), total)}\r\n          {\r\n            tipAmount > 0 && isSuccessful && \r\n            <div className='d-flex mb-1 justify-content-between'>\r\n              <div>Tip</div>\r\n              <div className='fw-bold'>{formatCurrency(tipAmount)}</div>\r\n            </div>\r\n          }\r\n          <hr />\r\n          <div className='h4 d-flex mb-3 justify-content-between align-items-center'>\r\n            <div className='fw-normal'>Total</div>\r\n            <div className='fw-bold'>\r\n              {formatCurrency(finalAmount )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {isSuccessful ? (\r\n          <>\r\n          <div className='d-grid gap-2 mt-4 no-print'  >\r\n            <Button\r\n              variant='outline-primary'\r\n              size=\"lg\"\r\n              className={'py-2 ' + styles.paycheck_border_radius }\r\n              onClick={(e) => window.print()}\r\n            >\r\n              Save Receipt\r\n            </Button>\r\n            {/* if user are not coming from paycheck, then don't show this button */}\r\n            { result && \r\n              <Button\r\n              variant='secondary'\r\n              size='lg'\r\n              className={'py-2 ' + styles.paycheck_border_radius}\r\n              onClick={handleOrderMore}\r\n              >\r\n                Order More\r\n              </Button>           \r\n            }\r\n          </div>\r\n          { \r\n            checkForRejectedItem() && \r\n            <div className={'mt-4 p-2 d-flex bg-orange'} style={{\r\n              borderLeft: '4px solid var(--bs-orange)',\r\n              background: 'var(--bs-gray-100)'\r\n            }}>\r\n              <div className='me-2 text-primary'>\r\n                <AiOutlineExclamationCircle size={20}/>\r\n              </div>\r\n              <div>\r\n                Uh oh! Some of the items you have ordered are out of stock. Don't worry, we have refunded you the amount.\r\n              </div>\r\n            </div>\r\n          }\r\n          </>\r\n        ) : (\r\n          <div className='d-grid gap-2 mt-4'>\r\n            <Button\r\n              variant='secondary'\r\n              size='lg'\r\n              className={'py-3 ' + styles.paycheck_border_radius}\r\n              onClick={() => {\r\n                history.goBack();\r\n              }}\r\n            >\r\n              Try again\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {isSuccessful && (\r\n          <>\r\n            {/* The loyalty point section. */}\r\n\r\n            {/* <div className='text-center'>\r\n              <h4 className='text-secondary mt-5 fw-bold text-center'>\r\n                You gained 200 points!\r\n              </h4>\r\n              <p className='text-muted'>\r\n                Sign up to redeem this points and enjoy many perks for loyalty\r\n                program\r\n              </p>\r\n            </div>\r\n\r\n            <div className='d-grid gap-2'>\r\n              <Button\r\n                variant='primary'\r\n                size='lg'\r\n                className={'py-3 fw-bold ' + styles.paycheck_border_radius}\r\n                onClick={() => {\r\n                  history.push('/customer/signup');\r\n                }}\r\n              >\r\n                Sign up for loyalty\r\n              </Button>\r\n            </div> */}\r\n            {/* Show the customer what they actually can earn from this   */}\r\n\r\n            {/* <div className='mt-4'>\r\n              <h6 className='fw-bold text-secondary text-center'>\r\n                You can redeem this\r\n              </h6>\r\n              <Row className='mt-3'>\r\n                {redeemItems.map((item) => {\r\n                  return (\r\n                    <Col>\r\n                      <Card className='border-0 shadow-sm bg-primary-tint-800'>\r\n                        <Card.Body className='p-2'>\r\n                          <Image fluid src={item.image} className='rounded' />\r\n                          <h6 className='mt-2 mb-0 text-truncate fw-bold'>\r\n                            {item.name}\r\n                          </h6>\r\n                          <p className='mb-0'>{item.point} points</p>\r\n                        </Card.Body>\r\n                      </Card>\r\n                    </Col>\r\n                  );\r\n                })}\r\n              </Row>\r\n            </div> */}\r\n          </>\r\n        )}\r\n      </Container>\r\n    </CustomerLayout>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction NotFoundPage(props) {\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      className='d-flex flex-column align-items-center justify-content-center w-100'\r\n      style={{ height: '100vh' }}\r\n    >\r\n      <div className='container'>\r\n        <h1 style={{ fontSize: 90 }} className='text-gray text-center'>\r\n          404\r\n        </h1>\r\n        <h3 className='text-center'>Oops! This Page Could Not Be Found</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFoundPage;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { Container, Row, Col, Card } from 'react-bootstrap';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport styles from '../assets/styles/MenuBrand.module.css';\r\nimport { renderFromText, formatCurrency, finalDiscountedPrice } from './Helper';\r\nimport {useHistory, useParams} from 'react-router-dom';\r\nexport default function BrandDiscountedMenu(props){\r\n  const {brands, setItemId, handleSelectBrand} = useCustContext();\r\n  const [items, setItems] = useState([]);\r\n  const {table_id} = useParams();\r\n  const history = useHistory();\r\n\r\n  const handleDiscountedItems = () => {\r\n    if(brands.length){\r\n      let arr = [];\r\n      // get the menu that's on sale and find which store it is coming from \r\n      brands.forEach(i => {\r\n        // const menu_items = i.items; \r\n        if(i.items?.length){\r\n          let obj = {};\r\n          let discounted_items = i.items.filter(x => parseInt(x.price_discount) > 0 && x.available);\r\n          const discounted_items_store = discounted_items.map((x) => ({...x, store: {\r\n            id: i.id,\r\n            name: i.name\r\n          }}))\r\n          \r\n          if(discounted_items_store.length){\r\n            arr.push(...discounted_items_store);\r\n          }\r\n        }\r\n      });\r\n      setItems(arr);\r\n    }\r\n  }\r\n\r\n  // handle on click item \r\n  const handleClickItem = (item) => {\r\n    if(item.id && item.available && brands.length){\r\n      const selected_brand = brands.find((x) => x.id == item.store?.id);\r\n      if(selected_brand.id){\r\n        handleSelectBrand(selected_brand);\r\n        setItemId(item.id);\r\n        history.push(`/customer/table-ordering/${table_id}/menu`);\r\n      }\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    handleDiscountedItems();\r\n  }, [brands]);\r\n\r\n  return (\r\n    <>\r\n      {\r\n        items.length > 0 && \r\n        <div className='pt-4'>\r\n          <Container>\r\n            <h3 className='fw-bold'>Discounted Items</h3>\r\n          </Container>\r\n          <div className='mt-3'>\r\n            <Container className='overflow-auto'>\r\n              <Row className='flex-nowrap'>\r\n                {items.map((item,index) => \r\n                  <Col\r\n                    key={index}\r\n                    xs='6'\r\n                    md='4'\r\n                    className={styles.brandCol}\r\n                  >\r\n                    <Card \r\n                      className={styles.brand_card}\r\n                      onClick={e => handleClickItem(item)}\r\n                    >\r\n                      <img src={item.image?.public_url} className='w-100 h-100' style={{objectFit:'cover'}} />\r\n                    </Card>\r\n                    <div className='mt-2'>\r\n                      <div className='truncate small fw-bold font-tp'>{item.name}</div>\r\n                      <div className='small'>\r\n                        {renderFromText(item)}{' '}\r\n                        <span className='text-decoration-line-through' style={{color: 'var(--bs-gray-500)'}}>\r\n                          {formatCurrency(item.price)}\r\n                        </span>{' '}\r\n                        <span className='fw-bold text-primary'>{formatCurrency(finalDiscountedPrice(item.price, item.price_discount))}</span>\r\n                       </div>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      }    \r\n    </>\r\n  );\r\n\r\n}","import React, { useEffect, useState } from 'react';\r\nimport NavbarCust from '../components/NavbarCust';\r\nimport { useCustContext } from '../CustomerContext';\r\nimport BrandList from '../components/BrandList';\r\nimport { Container, Image, Navbar } from 'react-bootstrap';\r\nimport Search from '../components/Search';\r\nimport BrandCategoryList from '../components/BrandCategoryList';\r\nimport BrandDiscountedMenu from '../components/BrandDiscountedMenu';\r\nfunction Brands(props) {\r\n  const { tableInfo, brands, user } = useCustContext();\r\n  // const [search, setSearch] = useState('');\r\n  // const searchFunction = (value) => {\r\n  //   setSearch(value);\r\n  // }\r\n\r\n  // force scroll to top\r\n  useEffect(() => {\r\n    if (window) {\r\n      window.scroll(0, 0);\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className='position-relative bg-primary'>\r\n      {/* <NavbarCust \r\n        page={'home'}\r\n        className=\"bg-white\"\r\n      /> */}\r\n      <Navbar expand='lg' className='bg-transparent pt-3'>\r\n        <Container fluid>\r\n          <div>\r\n            <span\r\n              className='px-3 fw-bold py-1 tp-rounded'\r\n              style={{\r\n                background: 'var(--tp-primary-4)',\r\n                color: 'var(--tp-primary)',\r\n              }}\r\n            >\r\n              {tableInfo.name}\r\n            </span>\r\n          </div>\r\n        </Container>\r\n      </Navbar>\r\n      <div>\r\n        <Container fluid className='py-4'>\r\n          <p className='mb-0 text-white'>\r\n            Hello there, <b className='fw-bold'>{user?.guess_name}</b>\r\n          </p>\r\n          <h4 className='fw-bold text-white'>\r\n            Explore{' '}\r\n            <span className='text-secondary'>{tableInfo.location?.name}</span>\r\n          </h4>\r\n          <Search placeholder='Search For Stores, Foods' globalSearch />\r\n        </Container>\r\n      </div>\r\n      {brands && (\r\n        <>\r\n          <div\r\n            className='tp-rounded'\r\n            style={{\r\n              minHeight: '100vh',\r\n              background: 'var(--tp-gray-100)',\r\n              borderBottomLeftRadius: '0px',\r\n              borderBottomRightRadius: '0px',\r\n            }}\r\n          >\r\n            <div className='pt-4'>\r\n              <BrandList scrollable goMenu />\r\n            </div>\r\n            <BrandDiscountedMenu />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Brands;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Accordion, Container, Button } from \"react-bootstrap\";\r\nimport { useCustContext } from \"../CustomerContext\";\r\nimport CustomerLayout from \"../layout/CustomerLayout\";\r\nimport RestaurantLogo from \"../components/RestaurantLogo\";\r\nimport styles from \"../assets/styles/PayCheck.module.css\";\r\nimport { getOrderInfo } from \"../api\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nfunction ConfirmOrder(props) {\r\n  const history = useHistory();\r\n  const { selectedBrand, order } = useCustContext();\r\n  const { table_id } = useParams();\r\n  const [total, setTotal] = useState();\r\n  const [amount, setAmount] = useState();\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        setTotal(res.data.data.total);\r\n        let num = 0;\r\n        res.data.data.order_items.forEach((item) => {\r\n          num = num + item.quantity;\r\n        });\r\n        setAmount(num);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  return (\r\n    <CustomerLayout>\r\n      <Container fluid>\r\n        <div className=\"mt-3 d-flex justify-content-center align-items-center\">\r\n          <div className=\"d-flex flex-column align-items-center\">\r\n            <RestaurantLogo logo={selectedBrand.logo?.public_url} />\r\n            <div className=\"d-block text-center mt-2 text-success\">\r\n              <i\r\n                className=\"bi bi-check-circle-fill\"\r\n                style={{ fontSize: 70, color: \"#58C2F1\" }}\r\n              ></i>\r\n            </div>\r\n            <h5 className=\"mt-2 fw-bold text-secondary\">Thank you!</h5>\r\n            <p className=\"w-75 text-center\" style={{ color: \"#001B36\" }}>\r\n              Your order is submitted and will be served to you soon\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"lg\"\r\n            className={\"form-control py-3 \" + styles.paycheck_border_radius}\r\n            onClick={() => history.push(`/customer/table-ordering/${table_id}/menu`)}\r\n          >\r\n            Order More\r\n          </Button>\r\n        </div>\r\n        <Accordion className=\"mt-3\">\r\n          <Accordion.Item eventKey=\"0\" className={styles.accordion_order}>\r\n            <Accordion.Button\r\n              className={styles.accordion_order__btn}\r\n              onClick={() => history.push(`/customer/open-check/${table_id}`)}\r\n            >\r\n              View open check -{\" \"}\r\n              {total?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\r\n            </Accordion.Button>\r\n          </Accordion.Item>\r\n        </Accordion>\r\n        <div className=\"d-flex flex-column align-items-center mt-3\">\r\n          <h5 className=\"mt-3 fw-bold text-primary\">Do not forget</h5>\r\n          <p className=\"w-100 text-center\" style={{ color: \"#001B36\" }}>\r\n            To closeout your check at the end of your meal\r\n          </p>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <Button\r\n            variant=\"primary\"\r\n            size=\"lg\"\r\n            className={\"form-control py-3 \" + styles.paycheck_border_radius}\r\n            onClick={() => history.push(`/customer/pay-check/${table_id}`)}\r\n          >\r\n            Pay check total ({amount}) -{\" \"}\r\n            {total?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n    </CustomerLayout>\r\n  );\r\n}\r\n\r\nexport default ConfirmOrder;\r\n","export default __webpack_public_path__ + \"static/media/TigerPuffLogo.5345b116.png\";","import React, { useEffect, useState } from \"react\";\r\nimport { Container, Button, Image } from \"react-bootstrap\";\r\nimport { deleteOrderItem, getOrderInfo } from \"../api\";\r\nimport { useCustContext } from \"../CustomerContext\";\r\nimport CheckoutoutSummaryOrderList from \"../components/CheckoutSummaryOrderList\";\r\nimport CustomerFooter from \"../components/CustomerFooter\";\r\nimport NavbarCust from \"../components/NavbarCust\";\r\nimport TPLogo from \"../assets/images/TigerPuffLogo.png\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nfunction OpenCheck(props) {\r\n  const history = useHistory();\r\n  const { table_id } = useParams();\r\n  const { order } = useCustContext();\r\n  const [total, setTotal] = useState();\r\n  const [amount, setAmount] = useState();\r\n  const [orderSummary, setOrderSummary] = useState([]);\r\n  const getOrder = async () => {\r\n    try {\r\n      if (order.id) {\r\n        const res = await getOrderInfo(order.id);\r\n        setOrderSummary(res.data.data.order_items);\r\n        setTotal(res.data.data.total);\r\n        let num = 0;\r\n        res.data.data.order_items.forEach((item) => {\r\n          num = num + item.quantity;\r\n        });\r\n        setAmount(num);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleDeleteOrderItem = async (id) => {\r\n    try {\r\n      const res = await deleteOrderItem(id);\r\n      console.log(res.data);\r\n      getOrder();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleEditOrderItem = (order_item_id, menu_item_id) => {\r\n    history.push(\r\n      `/customer/table-ordering/${table_id}/menu/${menu_item_id}/${order_item_id}`\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [order]);\r\n  return (\r\n    <div>\r\n      <NavbarCust goBack={true} title={\"Pay check\"} />\r\n      <CheckoutoutSummaryOrderList\r\n        orders={orderSummary}\r\n        handleDeleteOrderItem={handleDeleteOrderItem}\r\n        handleEditOrderItem={handleEditOrderItem}\r\n      />\r\n      <CustomerFooter classPrefix=\"pt-3\">\r\n        <Container fluid className=\"px-3\">\r\n          <div className=\"d-flex mb-1 justify-content-between align-items-center\">\r\n            <div>Join</div>\r\n            <div className=\"fw-bold\">123.45</div>\r\n          </div>\r\n          <div className=\"d-flex mb-1 mt-4s justify-content-between align-items-center\">\r\n            <div>Maria</div>\r\n            <div className=\"fw-bold\">123.45</div>\r\n          </div>\r\n          <div className=\"d-flex mb-1 mt-4s justify-content-between align-items-center\">\r\n            <div>me</div>\r\n            <div className=\"fw-bold\">123.45</div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"h4 d-flex mb-3 justify-content-between align-items-center\">\r\n            <div>Total</div>\r\n            <div>{total?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}</div>\r\n          </div>\r\n        </Container>\r\n        <Container fluid>\r\n          <div className=\"d-grid gap-2 mt-2\">\r\n            <Button\r\n              variant=\"primary\"\r\n              className=\"tp-rounded fw-bold py-2\"\r\n              onClick={() => history.push(`/customer/pay-check/${table_id}`)}\r\n            >\r\n              Pay check Total ({amount}) -{\" \"}\r\n              {total?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\r\n            </Button>\r\n          </div>\r\n          <div className=\"text-center small d-flex align-items-center justify-content-center mt-2\">\r\n            Powered By\r\n            <Image\r\n              src={TPLogo}\r\n              fluid\r\n              className=\"pb-1\"\r\n              style={{\r\n                height: \"45px\",\r\n              }}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </CustomerFooter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OpenCheck;\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\nimport { Container, Row, Col, Card, Button } from \"react-bootstrap\";\r\nimport CustomerLayout from \"../layout/CustomerLayout\";\r\nimport Search from \"../components/Search\";\r\nimport NavbarCust from \"../components/NavbarCust\";\r\nimport { useCustContext } from \"../CustomerContext\";\r\nimport BrandList from \"../components/BrandList\";\r\nimport styles from '../assets/styles/MenuCardList.module.css';\r\nimport defaultImage from '../assets/images/menu-img-placeholder.png';\r\nimport cx from 'classnames';\r\nimport { truncateText } from \"../components/Helper\";\r\nimport {FaStoreAlt} from 'react-icons/fa';\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport {BsChevronLeft} from 'react-icons/bs';\r\nimport NoData from \"../components/NoData\";\r\nimport {setItemId} from '../CustomerContext';\r\nexport default function GlobalSearch(){\r\n  const [keyword, setKeyword] = useState('');\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const {brands, setItemId , handleSelectBrand} = useCustContext();\r\n  const history = useHistory();\r\n  const {table_id} = useParams();\r\n\r\n  const handleSearchKeyword = () => {\r\n    if(brands && brands.length){\r\n      // filter only available stores \r\n      let active_stores = brands.filter((e) => e.status == 1);\r\n      // arr to update the filteredItems\r\n      let arr = [];\r\n      // loop through stores to populate the filtered items \r\n      active_stores.forEach((store) => {\r\n        let items = [];\r\n        if(store.items?.length){\r\n          let keyword_items = store.items.filter((x) => {\r\n            let name        = x.name?.toUpperCase();\r\n            let description = x.description?.toUpperCase();\r\n            let key_word    = (keyword) ? keyword.toUpperCase() : '';\r\n            return name.includes(key_word) || description.includes(key_word);\r\n          })\r\n          // sort by availability \r\n          // const keyword_items_available = keyword_items.sort((a,b) => b.available - a.available);\r\n          // obj['items'] = keyword_items_available;\r\n          // add store name and id in the items to display on the item level \r\n          // items = keyword_items;\r\n          // console.log(items)\r\n          const keyword_items_store = keyword_items.map(x => ({...x, store: {\r\n            id: store.id, \r\n            name: store.name\r\n          } }));\r\n          if(keyword_items_store.length){\r\n            arr.push(...keyword_items_store);\r\n          }\r\n        }\r\n      })\r\n      // sort based on availability \r\n      if(arr.length){\r\n        arr = arr.sort((a,b) => b.available - a.available);\r\n      }\r\n      setFilteredItems(arr);\r\n    }\r\n  }\r\n\r\n  // Set Item ID and go to store when clicking on the item\r\n  const handleClickItem = (item) => {\r\n    if(item.id && item.available && brands.length){\r\n      // set the selectedBrand as well \r\n      const selected_brand = brands.find((x) => x.id == item.store?.id);\r\n      if(selected_brand.id){\r\n        // save to selectedBrand \r\n        handleSelectBrand(selected_brand);\r\n        setItemId(item.id);\r\n        history.push(`/customer/table-ordering/${table_id}/menu`);\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    handleSearchKeyword();\r\n  }, [keyword])\r\n  return (\r\n    <CustomerLayout>\r\n      {/* <NavbarCust\r\n        goBack\r\n        title={'Search'}\r\n      /> */}\r\n      <Container fluid>\r\n        <div className=\"d-flex align-items-center \">\r\n          <div className='d-flex mt-3 col-2 align-items-center text-secondary'>\r\n            <Button\r\n              className='rounded-pill border-0 text-secondary bg-transparent ps-0 pb-2'\r\n              onClick={() => history.goBack()}\r\n            >\r\n              <BsChevronLeft size={20} style={{strokeWidth: '2px'}}/>\r\n            </Button>\r\n          </div>\r\n          <div className=\"col-10\">\r\n            <Search\r\n              focusOnInit\r\n              searchFunction={setKeyword}\r\n              placeholder={'Search for Foods or Store'}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Container>\r\n      {/* Show the results */}\r\n      {\r\n        keyword ? \r\n        <div className=\"bg-light mt-2\" style={{minHeight: 'calc(100vh - 150px)'}}>\r\n          <div className=\"my-3\">\r\n            <BrandList\r\n              scrollable \r\n              goMenu\r\n              keyword={keyword}\r\n            />\r\n          </div>\r\n          {\r\n            filteredItems.length ? \r\n              <>\r\n                <Container fluid>\r\n                  <h3 className=\"fw-bold\">Items</h3>\r\n                </Container>\r\n                {filteredItems.map((item) => \r\n                  <Card onClick={e => handleClickItem(item)} className={cx(styles.card_menu, {\r\n                    [styles.bg_unavailable] : ! item.available\r\n                  })}>\r\n                    <Card.Body>\r\n                      <Row className=\"align-items-center\">\r\n                        <Col xs=\"3\" md=\"4\">\r\n                          <img src={(item.image) ? item.image?.public_url : defaultImage} className={cx(styles.card_menu__image, {\r\n                            [styles.card_menu__image__unavailable] : ! item.available\r\n                          })}/>\r\n                        </Col>\r\n                        <Col xs=\"9\" md=\"8\">\r\n                          <div className=\"fw-bold mb-0 font-tp\">{item.name}</div>\r\n                          <div className=\"small mb-2\">{truncateText(item.description, 50)}</div>\r\n                          <div >\r\n                            <span className=\"d-inline-block small px-2 py-1 tp-rounded fw-bold shadow-sm me-1 text-primary\" style={{ background: 'var(--tp-primary-4)'}}>{item.category?.name}</span>\r\n                            <span className=\"d-inline-block small px-2 py-1 tp-rounded shadow-sm text-secondary\" style={{background: 'var(--tp-secondary-5)'}}>\r\n                              <FaStoreAlt className=\"me-1\"/>\r\n                              {item.store?.name}\r\n                            </span>\r\n                          </div>\r\n                        </Col>\r\n                      </Row>\r\n                    </Card.Body>\r\n\r\n                  </Card>                  \r\n                )}\r\n              </>\r\n              :\r\n              null\r\n          }\r\n          {!filteredItems.length && <NoData text={'Uh Oh, we can\\t find what you\\'re looking for.'}/>}\r\n        </div>\r\n        :\r\n        <div className=\"d-flex align-items-center justify-content-center\" style={{minHeight: 'calc(100vh - 250px'}}>\r\n          <Card className=\"bg-light border-0\">\r\n            <Card.Body>\r\n              <p className=\"mb-0\">Search for your cravings!</p>\r\n            </Card.Body>\r\n          </Card>\r\n        </div>\r\n        }\r\n    </CustomerLayout>\r\n  )\r\n}","import 'bootstrap-icons/font/bootstrap-icons.css';\r\n// import 'antd/dist/antd.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport './App.scss';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport { useState } from 'react';\r\n\r\n// VIEWS\r\n\r\n// Customer Views\r\nimport HomeCust from './pages/Home';\r\n// Customer Sign in\r\nimport SignInCust from './pages/SignIn';\r\n// Customer Sign up\r\nimport SignUpCust from './pages/SignUp';\r\n// Customer Menu\r\nimport MenuCust from './pages/Menu';\r\n// Customer Item Detail\r\nimport ItemDetailCust from './pages/ItemDetail';\r\n// Customer Checkout Summary\r\nimport CheckoutSummmaryCust from './pages/CheckoutSummary';\r\n// Customer Pay Check\r\nimport PayCheckCust from './pages/PayCheck';\r\n// Customer Pay Check Invoice\r\nimport PayCheckInvoiceCust from './pages/PayCheckInvoice';\r\nimport NotFoundCust from './pages/404';\r\nimport BrandsCust from './pages/Brands';\r\nimport ConfirmOrderCust from './pages/ConfirmOrder';\r\nimport OpenCheckCust from './pages/OpenCheck';\r\n// global search \r\nimport GlobalSearchCust from './pages/GlobalSearch';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n          <Route\r\n            exact\r\n            path='/customer/table-ordering/:table_id'\r\n            component={HomeCust}\r\n          />\r\n          {/* Sign in */}\r\n          <Route exact path='/customer/signin' component={SignInCust} />\r\n          {/* Sign up */}\r\n          <Route exact path='/customer/signup' component={SignUpCust} />\r\n          {/* Table ordering menu: */}\r\n          <Route\r\n            exact\r\n            path='/customer/table-ordering/:table_id/menu'\r\n            component={MenuCust}\r\n          />\r\n          {/* Item Detail */}\r\n          <Route\r\n            exact\r\n            path='/customer/table-ordering/:table_id/menu/:item_id'\r\n            component={ItemDetailCust}\r\n          />\r\n          {/* Update Order Item */}\r\n          <Route\r\n            exact\r\n            path='/customer/table-ordering/:table_id/menu/:item_id/:order_item_id'\r\n            component={ItemDetailCust}\r\n          />\r\n          {/* List of Brands Version 1 */}\r\n          <Route\r\n            exact\r\n            path='/customer/table-ordering/:table_id/brands'\r\n            component={BrandsCust}\r\n          />\r\n          {/* List of brands if users has  */}\r\n          {/* Order Summary */}\r\n          <Route\r\n            exact\r\n            path='/customer/checkout/:table_id'\r\n            component={CheckoutSummmaryCust}\r\n          />\r\n          <Route\r\n            exact\r\n            path='/customer/confirm-order/:table_id'\r\n            component={ConfirmOrderCust}\r\n          />\r\n          <Route\r\n            exact\r\n            path='/customer/open-check/:table_id'\r\n            component={OpenCheckCust}\r\n          />\r\n          <Route\r\n            exact\r\n            path='/customer/pay-check/:table_id'\r\n            component={PayCheckCust}\r\n          />\r\n          <Route\r\n            exact\r\n            path='/customer/pay-check-invoice/:table_id'\r\n            component={PayCheckInvoiceCust}\r\n          />\r\n          {/* Global Search Page */}\r\n          <Route \r\n            exact \r\n            path = '/customer/search/:table_id'\r\n            component={GlobalSearchCust}\r\n          />\r\n          <Route exact path='/customer/not-found' component={NotFoundCust} />\r\n          {/* 404 */}\r\n          <Route path=\"*\" component={NotFoundCust}></Route>\r\n\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// import './index.css';\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { CustProvider } from \"./CustomerContext\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\n\r\nconst stripePromise = loadStripe(\"pk_test_sIXpDj1v7As6Gy6WQHz09xRq\", {\r\n  locale: \"en\",\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CustProvider>\r\n      <Elements stripe={stripePromise}>\r\n        <App />\r\n      </Elements>\r\n    </CustProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brand_card\":\"MenuBrand_brand_card__3IGpp\",\"brand_card__logo\":\"MenuBrand_brand_card__logo__2RoiX\",\"brandCol\":\"MenuBrand_brandCol__3eM2r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepper_wrapper\":\"OrderStatus_stepper_wrapper__2SfZ_\",\"stepper_item\":\"OrderStatus_stepper_item__3aaqB\",\"step_counter\":\"OrderStatus_step_counter__1Dcl4\",\"stepper_item__active\":\"OrderStatus_stepper_item__active__3Zc3t\",\"stepper_item__completed\":\"OrderStatus_stepper_item__completed__UE9E_\",\"step_counter__completed\":\"OrderStatus_step_counter__completed__2eRVE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemdetail_content\":\"ItemDetail_itemdetail_content__2pPGb\",\"image_overlay\":\"ItemDetail_image_overlay__2b5MD\",\"image_overlay__image\":\"ItemDetail_image_overlay__image__2jYeM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menucategory_link\":\"MenuCategory_menucategory_link__8uROi\",\"menucategory_link__active\":\"MenuCategory_menucategory_link__active__1Kli3\"};"],"sourceRoot":""}